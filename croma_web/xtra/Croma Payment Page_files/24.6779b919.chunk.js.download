(this["webpackJsonpcroma-pdp-app"]=this["webpackJsonpcroma-pdp-app"]||[]).push([[24],{1015:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHOSURBVHgB3ZJNUsJQDMeT1+I4rCpcoF0o40o9gXgD3Vk3wg30BOoJ1BNUN7au1BNUTyA7R3QGLgB2pY7QF18elI9SBHeOmen0fSS//JM8gL9umD6wnvyyWDDWoBsvIVCtVdq7Hdw1PMv4XNwmATaYxpsU8V3kuM2pwMJLcAoEB6kcTYlUhS6AMNBTezsl6ay9vHuYbMUQdn3EMKXqQQG2JIgNCQrEToShgoWAaAHRicyRwz6EeMsxWsioQqvh26KDDVbTXtl1Ui2w0RSPSGTJmJxodbzE4ksQEkFZ5j6WIqcaaYXGl1jXtxLOU+UCA8h8d1hVGsZGAHd68ZUv88/s6ZQWi0VBEWQYZ+Zf1p1SHtHIKLTCOIZ7nU3gJvzWkhgpazpBcj7shSrNmSwty5Le8yBbK255oFCrBDrRBx1xw+9tNsyzFCzUsTFUBoKTRbTs3ksE9Z5o3ejmvVlA7PnY/IyyhjWwQv3qrFAPqPgaTIUW64HHPoVn/3giUXaAf6Emt4/q4cbme7U/ZV0mK1OT3VbfZavkVuYCaqWcHfFIudRkTu4AfEaikw+5JVxmu+QeZ8VNBY5Dodk/sn+CzQSmoDALNrdZdb+i+lqBf2Hfsc7a+dOPnv8AAAAASUVORK5CYII="},1016:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAExSURBVHgB1ZQxcoMwEEVXK5txOnIDXLojR+AGbtMlN/ANMj6BjxBSuc0NcgVSpTRHoAsTRrsRsgFhBANU9m/QsLtvvlYrAdy6xFDQP737Ml9tGSE4J3OiPJFk6+d0EtCA1MOBCV6cVQgxSd67wKILOwZYiC+9DGBYKS05uoaKmTAL+vuUrV8zqM1bkkq8TYCVClC3BlwOL+5OMEPa5WPlsnYo/zCEmZLFalutF9WCgcJWSyXuiNS3C4AgQl1Qb5W5adMC+lSQHruemIcMipyhGigEpNy2ccC+ub+CEWDSlFU5y/wT5oqoCzSnxPwB0xVnm2a4W3NIXr7TnxTGKyXFe/tHC1i61AnRSGgJi2x3HaCB6gQDHd5+bK7cZsTjYMv/OQaAGKKZ0fMklIdn39370z+73oPHZ2bZDwAAAABJRU5ErkJggg=="},1080:function(e,t,a){"use strict";a.r(t),a.d(t,"Checkout",(function(){return Pa})),a.d(t,"mapStateToProps",(function(){return Ta}));var l=a(0),i=a.n(l),d=a(80),o=a(4),n=a(107),s=a(252),r=(a(980),a(1)),c=a(451),u=a(435),m=a(437),v=a(6),p=a(21),g=a(20),E=a(944),h=a(112),A=Object(h.a)(l.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),f=Object(h.a)(l.createElement("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),b=a(26);var S=Object(b.a)((function(e){return{root:{position:"relative",display:"flex","&$checked $layer":{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}},layer:{left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest})},checked:{}}}),{name:"PrivateRadioButtonIcon"})((function(e){var t=e.checked,a=e.classes,i=e.fontSize;return l.createElement("div",{className:Object(g.a)(a.root,t&&a.checked)},l.createElement(A,{fontSize:i}),l.createElement(f,{fontSize:i,className:a.layer}))})),N=a(50),y=a(32),C=a(145);var I=l.createContext();var O=l.createElement(S,{checked:!0}),D=l.createElement(S,null),L=l.forwardRef((function(e,t){var a=e.checked,i=e.classes,d=e.color,o=void 0===d?"secondary":d,n=e.name,s=e.onChange,r=e.size,c=void 0===r?"medium":r,u=Object(p.a)(e,["checked","classes","color","name","onChange","size"]),m=l.useContext(I),h=a,A=Object(C.a)(s,m&&m.onChange),f=n;return m&&("undefined"===typeof h&&(h=m.value===e.value),"undefined"===typeof f&&(f=m.name)),l.createElement(E.a,Object(v.a)({color:o,type:"radio",icon:l.cloneElement(D,{fontSize:"small"===c?"small":"medium"}),checkedIcon:l.cloneElement(O,{fontSize:"small"===c?"small":"medium"}),classes:{root:Object(g.a)(i.root,i["color".concat(Object(y.a)(o))]),checked:i.checked,disabled:i.disabled},name:f,checked:h,onChange:A,ref:t},u))})),P=Object(b.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(N.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(N.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiRadio"})(L),T=a(39),k=a(35),R=a(2),_=a(74),B=a(448),F=a(449),w=a(110),M=a(559),x=a(394),j=a(450),Q=a(9),V=a(22),H=a(27);const U=Object(l.createContext)(!1);var G=a(12),J=a(76);var W=function(e){var t,a,d,o,s,c;let{data:u,stateList:m,clickAddAddressSectionState:v,setShipInformationSectionState:p,setCustomerData:g,setSelectedAddress:E,selectedAddress:h,showToastMsg:A,profileData:f,handleClose:b,addressType:S,selectedBillAddress:N,callTdFetchCustomer:y,checkBoxVal:C,clickFromBilling:I,updateShippingOption:O,callAddressCordApi:D,dataGA:L}=e;const[P,T]=Object(l.useState)(!1),[k,W]=Object(l.useState)(null===u||void 0===u?void 0:u.addressType),[Y,z]=Object(l.useState)(""),[K,X]=i.a.useState(""),[q,Z]=i.a.useState(""),[$,ee]=i.a.useState(""),[te,ae]=i.a.useState(""),[le,ie]=i.a.useState(!0),[de,oe]=i.a.useState(!1),[ne,se]=i.a.useState("Help us locate you better. Please use the map to pinpoint your exact location"),re=Object(l.useContext)(U),ce=Object(n.d)({initialValues:{addAddressFullName:null===u||void 0===u||null===(t=u.contactDetail)||void 0===t?void 0:t.contactPersonName,addAddressType:null===u||void 0===u?void 0:u.addressType,addAddressLine1:(null===u||void 0===u?void 0:u.house)?null===u||void 0===u?void 0:u.house:null===u||void 0===u?void 0:u.addressLine,addAddressLine2:null===u||void 0===u?void 0:u.landmark,addAddressCity:"",addAddressState:"",addAddressPinCode:null===u||void 0===u?void 0:u.pinCode,addAddressMobileNo:null===u||void 0===u||null===(a=u.contactDetail)||void 0===a?void 0:a.phoneNumber,addAddressNickName:null===u||void 0===u?void 0:u.addressLabel,addAddressSaveDefault:null===u||void 0===u?void 0:u.isPrimary,shipLat:(null===u||void 0===u||null===(d=u.gpsCoordinates)||void 0===d?void 0:d.latitude)?null===u||void 0===u||null===(o=u.gpsCoordinates)||void 0===o?void 0:o.latitude:"",shipLng:(null===u||void 0===u||null===(s=u.gpsCoordinates)||void 0===s?void 0:s.longitude)?null===u||void 0===u||null===(c=u.gpsCoordinates)||void 0===c?void 0:c.longitude:"",addAddressLine3:(null===u||void 0===u?void 0:u.house)?null===u||void 0===u?void 0:u.addressLine:""},onSubmit:e=>{let t="";t=!0===e.addAddressSaveDefault||"true"===e.addAddressSaveDefault?"true":"false";const a={loyalCustomer:null===f||void 0===f?void 0:f.loyalCustomer,addresses:[]};a.addresses.push({id:u.id,addressType:k,addressLabel:e.addAddressNickName,country:R.a.COUNTRY_NAME,contactDetail:{areaCode:"",contactPersonName:e.addAddressFullName,phoneNumber:e.addAddressMobileNo},gpsCoordinates:{latitude:e.shipLat?e.shipLat:"",longitude:e.shipLng?e.shipLng:""},cityTown:e.addAddressCity?e.addAddressCity:"",pinCode:e.addAddressPinCode,state:e.addAddressState?e.addAddressState:"",addressLine:e.addAddressLine3,landmark:e.addAddressLine2,house:e.addAddressLine1,isPrimary:t,createdDate:"",modifiedDate:""}),T(!0),Object(_.p)(a).then(t=>{if(T(!1),"400"===t.data.status.code)document.getElementById("edit-address-btn").disabled=!1,A(t.data.status.message,G.f.ERROR);else{localStorage.setItem("setValidateForm","1"),b(),r.a.UPDATE_ADDRESS_ON_EDIT?A("Changes saved and address selected",G.f.SUCCESS):A("Address updated",G.f.SUCCESS);const t=a.addresses.find(e=>u.id===e.id);"billing"!==S||C||N(t),r.a.UPDATE_ADDRESS_ON_EDIT&&(u.id!==h.shippingAddress.id&&"shipping"===S&&(localStorage.setItem("3hrPincode",JSON.stringify(e.addAddressPinCode)),Object(J.a)(JSON.stringify(e.addAddressPinCode)),O(e.addAddressPinCode),E({shippingAddress:a.addresses[0],billingAddress:h.billingAddress})),"billing"===S&&(E({shippingAddress:h.shippingAddress,billingAddress:a.addresses[0]}),N(a.addresses[0]))),u.id===h.shippingAddress.id?((null===u||void 0===u?void 0:u.pinCode)!==e.addAddressPinCode&&(localStorage.setItem("3hrPincode",JSON.stringify(e.addAddressPinCode)),Object(J.a)(JSON.stringify(e.addAddressPinCode)),O(e.addAddressPinCode)),y(!0,t)):y(!1)}})},validate:e=>{const t={};return e.addAddressFullName?""===e.addAddressFullName.trim()||null===e.addAddressFullName.trim()?t.addAddressFullName=R.a.NAME_INVALID_SPACE:/^[a-zA-Z._]+(\s){0,1}[a-zA-Z._]*(\s){0,1}[a-zA-Z._]*$/.test(e.addAddressFullName)?(!/^.{1,322}?$/.test(e.addAddressFullName)||e.addAddressFullName.replace(/\s/g,"").length>320)&&(t.addAddressFullName=R.a.FULLNAME_MAX_LENGTH):t.addAddressFullName=R.a.VALID_NAME_ERROR:t.addAddressFullName=R.a.FULL_NAME_ERROR,e.addAddressType||(t.addAddressType=R.a.SHIPPING_ADDRESS_IS_REQUIRED_ERROR),e.addAddressLine1?""===e.addAddressLine1.trim()||null===e.addAddressLine1.trim()?t.addAddressLine1=R.a.ADDRESS_INVALID_SPACE:/^.{151,}?$/.test(e.addAddressLine1)?t.addAddressLine1=R.a.ADDRESS_MAX_LENGTH:/^[A-Za-z0-9-,./ \b]+$/.test(e.addAddressLine1)||(t.addAddressLine1=R.a.ADDRESS_INVALID_CHAR):t.addAddressLine1=R.a.FIELD_IS_REQUIRED_ERROR,e.addAddressLine2?""===e.addAddressLine2.trim()||null===e.addAddressLine2.trim()?t.addAddressLine2=R.a.ADDRESS_INVALID_SPACE:/^.{151,}?$/.test(e.addAddressLine2)?t.addAddressLine2=R.a.ADDRESS_MAX_LENGTH:/^[A-Za-z0-9-,./ \b]+$/.test(e.addAddressLine2)||(t.addAddressLine2=R.a.ADDRESS_INVALID_CHAR):t.addAddressLine2=R.a.FIELD_IS_REQUIRED_ERROR,e.addAddressLine3?""===e.addAddressLine3.trim()||null===e.addAddressLine3.trim()?t.addAddressLine3=R.a.ADDRESS_INVALID_SPACE:/^.{151,}?$/.test(e.addAddressLine3)?t.addAddressLine3=R.a.ADDRESS_MAX_LENGTH:/^[A-Za-z0-9-,./ \b]+$/.test(e.addAddressLine3)||(t.addAddressLine3=R.a.ADDRESS_INVALID_CHAR):t.addAddressLine3=R.a.FIELD_IS_REQUIRED_ERROR,e.addAddressCity||(t.addAddressCity=R.a.CITY_FIELD_IS_REQUIRED_ERROR),e.addAddressState||(t.addAddressState=R.a.STATE_FIELD_IS_REQUIRED_ERROR),e.addAddressPinCode?/^([0-9]){6}?$/.test(e.addAddressPinCode)||(t.addAddressPinCode=R.a.PIN_CODE_VALIDATION_ERROR):t.addAddressPinCode=R.a.PIN_CODE_IS_REQUIRED_ERROR,""!==Y&&(t.addAddressPinCode=Y),e.addAddressNickName?""===e.addAddressNickName.trim()||null===e.addAddressNickName.trim()?t.addAddressNickName=R.a.ADDRESS_INVALID_SPACE:/^.{151,}?$/.test(e.addAddressNickName)&&(t.addAddressNickName=R.a.ADDRESS_MAX_LENGTH):t.addAddressNickName=R.a.NICK_NAME_ERROR,e.addAddressMobileNo?/^([0-9]){10}?$/.test(e.addAddressMobileNo)?/^0{5,}?$/.test(e.addAddressMobileNo)&&(t.addAddressMobileNo=R.a.MOBILE_NUMBER_VALIDATION_ERROR):t.addAddressMobileNo=R.a.MOBILE_NUMBER_VALIDATION_ERROR:t.addAddressMobileNo=R.a.MOBILE_NUMBER_ERROR,t}});function ue(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const a=e.coords,l={lat:a.latitude,lng:a.longitude};try{const e=new window.google.maps.Geocoder,a=null===e||void 0===e?void 0:e.geocode({location:l}).then(e=>e);localStorage.getItem("cordinatedError")&&(window.setCordinatesErrGlobal(),localStorage.removeItem("cordinatedError")),a.then(e=>{if(e.results&&e.results.length>0){const a=e.results[0];me(a,t)}}).catch(e=>{console.log("Geocoder failed due to: "+e)})}catch(i){console.log(i)}}Object(l.useEffect)(()=>{try{localStorage.removeItem("setValidateForm")}catch(e){}return()=>{localStorage.removeItem("setValidateForm")}},[]),Object(l.useEffect)(()=>{const e={lat:"",lng:""};if(ce&&ce.initialValues&&""!==ce.initialValues.shipLat&&""!==ce.initialValues.shipLng&&""!==ce.initialValues.shipLng&&void 0!==ce.initialValues.shipLng&&void 0!==ce.initialValues.shipLng){const a=parseFloat(ce.initialValues.shipLat),l=parseFloat(ce.initialValues.shipLng);e.lat=a,e.lng=l;try{const t=new window.google.maps.Geocoder;(null===t||void 0===t?void 0:t.geocode({location:e}).then(e=>e)).then(e=>{if(e.results&&e.results.length>0){const o=e.results[0];if((null===o||void 0===o?void 0:o.formatted_address)&&Z(o.formatted_address),null===o||void 0===o?void 0:o.geometry){var t;let e,n;var a,l,i,d;if(r.a.GOOGLE_API_WEBSERVICE&&"function"!==typeof(null===o||void 0===o||null===(t=o.geometry)||void 0===t?void 0:t.location.lat))e=null===o||void 0===o||null===(a=o.geometry)||void 0===a?void 0:a.location.lat,n=null===o||void 0===o||null===(l=o.geometry)||void 0===l?void 0:l.location.lng;else e=null===o||void 0===o||null===(i=o.geometry)||void 0===i?void 0:i.location.lat(),n=null===o||void 0===o||null===(d=o.geometry)||void 0===d?void 0:d.location.lng();ce.setFieldValue("shipLat",e),ce.setFieldValue("shipLng",n),ie(!0),Object(H.C)(e,n,ue)}}}).catch(e=>{console.log("Geocoder failed due to: "+e)})}catch(t){console.log(t)}}else if(ce&&ce.initialValues){(async e=>{let t=e;localStorage.getItem("cordinatedError")&&(t="",localStorage.removeItem("cordinatedError"));const a=await D(t,ce.initialValues.addAddressPinCode);if(null===a||void 0===a?void 0:a.lat){if((null===a||void 0===a?void 0:a.formatted_address)&&Z(a.formatted_address),(null===a||void 0===a?void 0:a.address_components)&&a.address_components.length>0){let e="";(null===a||void 0===a?void 0:a.address_components).map(t=>{t.types.forEach(a=>{"neighborhood"!==a&&"route"!==a&&"locality"!==a&&"establishment"!==a&&"sublocality_level_2"!==a&&"sublocality_level_1"!==a||(e+=""===e?t.long_name:", ".concat(t.long_name),ce.setFieldValue("addAddressLine3",e)),"postal_code"===a?(oe(!1),ce.setFieldValue("addAddressPinCode",t.long_name)):oe(!1)})})}const e=null===a||void 0===a?void 0:a.lat,t=null===a||void 0===a?void 0:a.lng;ce.setFieldValue("shipLat",e),ce.setFieldValue("shipLng",t),ie(!0),Object(H.C)(e,t,ue)}else localStorage.setItem("cordinatedError",!0),ge(),se("Help us locate you better with your exact location")})(ce.initialValues.addAddressLine1+" "+ce.initialValues.addAddressLine2)}},[]),Object(l.useEffect)(()=>{let e=!0;localStorage.getItem("setValidateForm")&&1===localStorage.getItem("setValidateForm")&&(e=!1),ce&&ce.initialValues&&e&&ce.validateForm()},[null===ce||void 0===ce?void 0:ce.initialValues]),Object(l.useEffect)(()=>{navigator.geolocation&&"CurrentLoc"===K&&(X(""),navigator.geolocation.getCurrentPosition(ue,ve))},[K]);const me=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(r.a.GOOGLE_API_WEBSERVICE&&"CurrentLoc"!==K){if((null===e||void 0===e?void 0:e.formattedAddress)&&Z(e.formattedAddress),null===e||void 0===e?void 0:e.location){var a;let d,o;var l,i;if("function"!==typeof(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.latitude))d=null===e||void 0===e||null===(l=e.location)||void 0===l?void 0:l.latitude,o=null===e||void 0===e||null===(i=e.location)||void 0===i?void 0:i.longitude;ce.setFieldValue("shipLat",d),ce.setFieldValue("shipLng",o),ie(!0),t&&Object(H.C)(d,o,ue)}if((null===e||void 0===e?void 0:e.addressComponents)&&e.addressComponents.length>0){let t="";(null===e||void 0===e?void 0:e.addressComponents).map(e=>{e.types.forEach(a=>{"neighborhood"!==a&&"route"!==a&&"locality"!==a&&"establishment"!==a&&"sublocality_level_2"!==a&&"sublocality_level_1"!==a||(t+=""===t?e.longText:", ".concat(e.longText),ce.setFieldValue("addAddressLine3",t)),"postal_code"===a?(oe(!1),ce.setFieldValue("addAddressPinCode",e.longText)):oe(!1)})})}}else{if((null===e||void 0===e?void 0:e.formatted_address)&&Z(e.formatted_address),null===e||void 0===e?void 0:e.geometry){var d,o;let a,l;a=null===e||void 0===e||null===(d=e.geometry)||void 0===d?void 0:d.location.lat(),l=null===e||void 0===e||null===(o=e.geometry)||void 0===o?void 0:o.location.lng(),ce.setFieldValue("shipLat",a),ce.setFieldValue("shipLng",l),ie(!0),t&&Object(H.C)(a,l,ue)}if((null===e||void 0===e?void 0:e.address_components)&&e.address_components.length>0){let t="";(null===e||void 0===e?void 0:e.address_components).map(e=>{e.types.forEach(a=>{"neighborhood"!==a&&"route"!==a&&"locality"!==a&&"establishment"!==a&&"sublocality_level_2"!==a&&"sublocality_level_1"!==a||(t+=""===t?e.long_name:", ".concat(e.long_name),ce.setFieldValue("addAddressLine3",t)),"postal_code"===a?(oe(!1),ce.setFieldValue("addAddressPinCode",e.long_name)):oe(!1)})})}}};function ve(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message))}const pe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";X(""),ee(""),e&&(window.setCordinatesErrGlobal(),localStorage.removeItem("cordinatedError"),me(e))},ge=()=>{X(""),Z(""),ie(!1),ce.setFieldValue("shipLat",""),ce.setFieldValue("shipLng",""),ce.setFieldValue("addAddressPinCode",""),ce.setFieldValue("addAddressState",""),ce.setFieldValue("addAddressCity",""),ce.setFieldValue("addAddressLine3",""),localStorage.getItem("cordinatedError")||(window.setCordinatesErrGlobal(),localStorage.removeItem("cordinatedError"))};Object(l.useEffect)(()=>{ce.values.addAddressPinCode&&(6===ce.values.addAddressPinCode.length?(I?_.g:_.h)(ce.values.addAddressPinCode).then(e=>{var t,a;"success"===e.status&&(e.data.errorMessage?e.data.errorMessage&&(z(e.data.errorMessage),ce.setFieldValue("addAddressState",""),ce.setFieldValue("addAddressCity","")):(ce.setFieldValue("addAddressState",null===(t=e.data)||void 0===t?void 0:t.stateName),ce.setFieldValue("addAddressCity",null===(a=e.data)||void 0===a?void 0:a.cityName)))}):(ce.setFieldValue("addAddressState",""),ce.setFieldValue("addAddressCity","")))},[ce.values.addAddressPinCode]);const Ee=e=>{W(e)},he=e=>{const t=e.target.value,a=e.target.name;ce.setFieldValue("".concat(a),t)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(w.a,{show:P}),i.a.createElement("div",{className:"cp-box add-address-box-title"},re?i.a.createElement("div",{className:"box-title add-address-box-title add-new-address"}," One last Step "):i.a.createElement("div",{className:"box-title add-address-box-title add-new-address"},R.a.EDIT_ADDRESS),re&&i.a.createElement("div",{className:"box-title center-box"},ne,"."),Object.keys(ce.errors).length>0&&!re&&i.a.createElement("div",{className:"error-msg-dialog"},i.a.createElement("div",{className:"alert-dialog"},i.a.createElement(M.a,null)," "),"Please fill out ",Object.keys(ce.errors).length," mandatory fields"),i.a.createElement("div",{className:"form-list"},le&&i.a.createElement("div",{className:"form-list"},i.a.createElement("ul",{className:"list col2 gps map-edit-add"},i.a.createElement("li",{className:"item typ-full"},i.a.createElement("div",{className:"form-group flat-border-address-bkp"},i.a.createElement("div",{className:"map-instruction"},"Move the map to update your location."),i.a.createElement("div",{id:"map",style:{position:"unset",overflow:"visible",height:re?"360px":"300px",marginTop:"10px"}}),i.a.createElement("div",{className:"addresss-box current-address format-address map-edit-add"},i.a.createElement("span",{className:"loc-icon cur-add"},"undefined"!==typeof window&&i.a.createElement(x.a,null)),i.a.createElement("div",{className:"show-formated-address"},q),i.a.createElement("button",{className:"btn-edit btn btn-link hyperlink-default change-button",onClick:ge},"Change")))))),i.a.createElement("form",{onSubmit:ce.handleSubmit},i.a.createElement("ul",{className:"list col2"},!le&&i.a.createElement("li",{className:"item typ-full"},i.a.createElement("div",{className:"form-group flat-border-address-bkp"},i.a.createElement("label",{className:"lbl-title check-add-top"}," Search your location "),r.a.GOOGLE_API_WEBSERVICE?i.a.createElement(F.a,{handleClose:pe,searchValue:$,setSearchValue:ee}):i.a.createElement(B.a,{handleClose:pe,searchValue:$,setSearchValue:ee}),i.a.createElement("div",{className:"addresss-box current-address"},i.a.createElement("span",{className:"loc-icon cur-add"},"undefined"!==typeof window&&i.a.createElement(x.a,null)),i.a.createElement("input",{className:"formControl dark-input-pincode geoElem formControl-small",type:"text",name:"Location",placeholder:"Use Current Location (GPS)",onFocus:()=>{X("CurrentLoc")},autoComplete:"off",role:"presentation",readOnly:!0}),i.a.createElement("span",{className:"icon icon-right"},i.a.createElement(j.a,{className:"menu-click-arrow"})),""!==te&&i.a.createElement("span",{className:"error"},te)))),i.a.createElement("span",{className:le&&!re?"cont-del":"cont-del opacity-hide"},"Contact Details"),le&&!re&&i.a.createElement(i.a.Fragment,null,i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},R.a.FULL_NAME),i.a.createElement("input",{type:"text",placeholder:"Enter Full name",maxLength:"322",className:"formControl ".concat(ce.errors.addAddressFullName?"fc-error":""),name:"addAddressFullName",value:ce.values.addAddressFullName,onChange:e=>{const t=e.target.value;(""===t||/^[a-zA-Z ]*$/.test(t))&&ce.setFieldValue("addAddressFullName",t)},onBlur:ce.handleBlur,autoComplete:"off",role:"presentation"}),ce.errors.addAddressFullName?i.a.createElement("span",{className:"error"},ce.errors.addAddressFullName):null)),i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},R.a.MOBILE_NO+R.a.REQUIRED),i.a.createElement("div",{className:"add-on"},i.a.createElement("span",{className:"input-group-addon country-code-address mobile-separator"},i.a.createElement("span",{className:"country-code-separator"},R.a.COUNTRY_CODE)),i.a.createElement("input",{type:"tel",placeholder:"Enter your mobile number",className:"formControl ".concat(ce.errors.addAddressMobileNo?"fc-error":""),name:"addAddressMobileNo",maxLength:"10",value:ce.values.addAddressMobileNo,onChange:e=>{const t=e.target.value;(""===t||/^[0-9\b]+$/.test(t))&&ce.setFieldValue("addAddressMobileNo",t)},onBlur:ce.handleBlur,autoComplete:"off",role:"presentation"})),ce.errors.addAddressMobileNo?i.a.createElement("span",{className:"error"},ce.errors.addAddressMobileNo):null)),i.a.createElement("span",{className:"cont-del address-del"},"Address Details"),i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},R.a.ADDRESS_NICK_NAME),i.a.createElement("input",{type:"text",maxLength:"150",placeholder:"Enter Nick Name",className:"formControl ".concat(ce.errors.addAddressNickName?"fc-error":""),name:"addAddressNickName",value:ce.values.addAddressNickName,onChange:e=>{const t=e.target.value;(""===t||/^[a-zA-Z0-9 ]*$/.test(t))&&ce.setFieldValue("addAddressNickName",t)},onBlur:ce.handleBlur,autoComplete:"off",role:"presentation"}),ce.errors.addAddressNickName?i.a.createElement("span",{className:"error"},ce.errors.addAddressNickName):null)),i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},R.a.PIN_CODE+R.a.REQUIRED),i.a.createElement("input",{type:"tel",placeholder:"Pincode",name:"addAddressPinCode",maxLength:"6",className:"formControl ".concat(de?"disabed-text":""," ").concat(ce.touched.addAddressPinCode&&ce.errors.addAddressPinCode?"fc-error":""),value:ce.values.addAddressPinCode,onChange:e=>{const t=e.target.value;(""===t||/^[0-9\b]+$/.test(t))&&ce.setFieldValue("addAddressPinCode",t),z("")},onBlur:ce.handleBlur,autoComplete:"off",role:"presentation",disabled:de}),ce.errors.addAddressPinCode?i.a.createElement("span",{className:"error"},ce.errors.addAddressPinCode):null)),i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},"Address (Flat no., Building, Company, Street)*"),i.a.createElement("input",{placeholder:"Flat no./Building Name/Society",className:"formControl ".concat(ce.errors.addAddressLine1?"fc-error":""),name:"addAddressLine1",maxLength:"150",value:ce.values.addAddressLine1,onChange:he,onBlur:ce.handleBlur,autoComplete:"off",role:"presentation"}),ce.errors.addAddressLine1?i.a.createElement("span",{className:"error"},ce.errors.addAddressLine1):null)),i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},"Landmark*"),i.a.createElement("input",{placeholder:"Landmark",name:"addAddressLine2",maxLength:"150",className:"formControl ".concat(ce.errors.addAddressLine2?"fc-error":""),value:ce.values.addAddressLine2,onChange:he,onBlur:ce.handleBlur,autoComplete:"off",role:"presentation"}),ce.errors.addAddressLine2?i.a.createElement("span",{className:"error"},ce.errors.addAddressLine2):null)),i.a.createElement("li",{className:"item typ-full"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},"Locality / Sector / Area*"),i.a.createElement("div",{className:"addresss-box"},i.a.createElement("input",{placeholder:"Locality/Sector/Area",name:"addAddressLine3",maxLength:"150",className:"formControl ".concat(ce.errors.addAddressLine3?"fc-error":""),value:ce.values.addAddressLine3,onChange:he,onBlur:ce.handleBlur,autoComplete:"off",role:"presentation"}),ce.errors.addAddressLine3?i.a.createElement("span",{className:"error"},ce.errors.addAddressLine3):null))),i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},R.a.STATE+R.a.REQUIRED),i.a.createElement("input",{className:"formControl ".concat(ce.errors.addAddressState?"fc-error":""),type:"text",placeholder:"State",name:"addAddressState",value:ce.values.addAddressState?ce.values.addAddressState:"",disabled:!0}),ce.errors.addAddressState?i.a.createElement("span",{className:"error"},ce.errors.addAddressState):null)),i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group","data-testid":"second"},i.a.createElement("label",{className:"lbl-title"},R.a.CITY+R.a.REQUIRED),i.a.createElement("input",{className:"formControl ".concat(ce.errors.addAddressCity?"fc-error":""),type:"text",placeholder:"City",name:"addAddressCity",value:ce.values.addAddressCity?ce.values.addAddressCity:"",disabled:!0}),ce.errors.addAddressCity?i.a.createElement("span",{className:"error"},ce.errors.addAddressCity):null)),i.a.createElement("li",{className:"item typ-full"},i.a.createElement("div",{className:"form-group cr-mb-0"},i.a.createElement("label",{className:"lbl-title"},R.a.ADDRESS_TYPE),i.a.createElement("div",{className:"address-type-div"},i.a.createElement("div",{className:"home"===k?"address-type-box selected-add-type":"address-type-box",onClick:()=>{Ee("home")}},i.a.createElement("span",null,"Home")),i.a.createElement("div",{className:"work"===k?"address-type-box selected-add-type":"address-type-box",onClick:()=>{Ee("work")}},i.a.createElement("span",null,"Work")),i.a.createElement("div",{className:"Others"===k?"address-type-box selected-add-type":"address-type-box",onClick:()=>{Ee("Others")}},i.a.createElement("span",null,"Other"))))),i.a.createElement("li",{className:"item typ-full"},i.a.createElement("div",{className:"form-group cr-mb-0"},i.a.createElement("div",{className:"cp-checkbox checkbox-bottom"},i.a.createElement("div",{className:"cp-checkbox-item m-b-2"},i.a.createElement("input",{type:"checkbox",id:"chk2",name:"addAddressSaveDefault",value:ce.values.addAddressSaveDefault,onChange:ce.handleChange,defaultChecked:"true"===ce.values.addAddressSaveDefault}),i.a.createElement("label",{htmlFor:"chk2"},i.a.createElement("span",{className:"check"}),i.a.createElement("span",{className:"text"},R.a.SAVE_ADD_DEFAULT)))))))),le&&i.a.createElement("div",{className:re?"act-btn edit-btn-checkouttheme edit-btn-mobile":"act-btn edit-btn edit-btn-mobile"},i.a.createElement("button",{type:"submit",id:"edit-address-btn",className:re?"btn btn-default btn-between btn-between-edit-mobile pd-title-normal":"btn btn-default btn-between btn-between-edit-mobile",disabled:ce.isSubmitting,onClick:async()=>{localStorage.setItem("addressSlotChanged",!0);const e=await ce.validateForm(),t=Object.keys(e);if(t.length){const e=document.getElementsByName(t[0])[0];e&&e.focus()}"shipping"===S&&0===t.length&&((e,t,a)=>{const l=Object(V.c)(),i=localStorage.getItem("login_trigger"),{pagetype:d,source_page_url:o,previous_page_url:n,platform:s}=l,r=Object(Q.a)();let c=window.dataLayer||[],u="";u=L&&L.subTotal?L.subTotal.value:"";c.push({ecommerce:null}),c.push({event:e,pagetype:d,source_page_url:o,previous_page_url:n,click_text:t+":"+a,login_trigger:r?i:"N/A",login_status:!!r,user_id:r,ecommerce:{currency:"INR",value:u,coupon:"",shipping_tier:"",items:(e=>e&&e.map((e,t)=>({item_id:e.product.code,item_name:e.product.name,affiliation:s,quantity:e.quantity,index:t,price:e.product.price.value,currency:e.product.price.currencyIso})))(null===L||void 0===L?void 0:L.entries)}})})("add_shipping_info","Change:Edit",R.a.SAVE_ADDRESS),localStorage.setItem("addressSlotChanged",!0)}},r.a.UPDATE_ADDRESS_ON_EDIT&&i.a.createElement(i.a.Fragment,null,re?i.a.createElement(i.a.Fragment,null," Proceed "):i.a.createElement(i.a.Fragment,null," ",R.a.SAVE_AND_UPDATE_ADDRESS)),!r.a.UPDATE_ADDRESS_ON_EDIT&&i.a.createElement(i.a.Fragment,null,re?i.a.createElement(i.a.Fragment,null," Proceed "):i.a.createElement(i.a.Fragment,null," ",R.a.SAVE_ADDRESS))))))))};const Y=["addAddress","addAddressHandler","profileData","addressType","selectedBillAddress","clickFromBilling","updateShippingOption","callTdFetchCustomer","callAddressCordApi"];var z=e=>{let{addAddress:t,addAddressHandler:a,profileData:l,addressType:d,selectedBillAddress:o,clickFromBilling:n,updateShippingOption:c,callTdFetchCustomer:v,callAddressCordApi:p}=e,g=Object(s.a)(e,Y);const E=()=>{a(!1),localStorage.removeItem("cordinatedError");try{window.setCordinatesErrGlobal()}catch(e){console.log(e)}};return i.a.createElement(u.a,{classes:{paper:r.a.CROMA_DARK_THEME?"MuiDialog-paper-list-address-store mini-cart-dailog":"dark-theme MuiDialog-paper-list-address-store mini-cart-dailog"},onClose:E,open:t},i.a.createElement(m.a,null,i.a.createElement("div",{className:"addAddressCross cross-right",onClick:E},r.a.CROMA_DARK_THEME?i.a.createElement(T.a,null):i.a.createElement(k.a,null)),i.a.createElement("div",{className:"shipping-add-edit-dialog mobile-ship"},i.a.createElement(W,Object.assign({},g,{callAddressCordApi:p,profileData:l,handleClose:E,addressType:d,selectedBillAddress:o,clickFromBilling:n,updateShippingOption:c,callTdFetchCustomer:v})))))},K=a(158),X=a(141),q=a(461),Z=a(29);const $=["dataGA","profileData","open","type","clickHandler","shippingDialogsLoader","addressType","callTdFetchCustomer","selectedBillAddress","checkBoxVal","selectedAddresssID","updateShippingOption","showNoAvailabilityText","clickFromBilling","addAddressHandler","addaddressshipdialogbilling","shippingErrMsg","setErrorAddFlag","callAddressCordApi","setShowLoader"];var ee=e=>{var t,a,d;let{dataGA:o,profileData:n,open:c,type:v,clickHandler:p,shippingDialogsLoader:g,addressType:E,callTdFetchCustomer:h,selectedBillAddress:A,checkBoxVal:f,selectedAddresssID:b,updateShippingOption:S,showNoAvailabilityText:N,clickFromBilling:y,addAddressHandler:C,addaddressshipdialogbilling:I,shippingErrMsg:O,setErrorAddFlag:D,callAddressCordApi:L,setShowLoader:_}=e,B=Object(s.a)(e,$);const[F]=i.a.useState(!1),[M,x]=i.a.useState(),[j,U]=i.a.useState(),[J,W]=i.a.useState(""),[Y,ee]=Object(l.useState)(!1),[te,ae]=Object(l.useState)(""),[le,ie]=Object(l.useState)(!0),[de,oe]=Object(l.useState)();let ne=(null===n||void 0===n||null===(t=n.addresses)||void 0===t?void 0:t.length)%2===0;const[se,re]=Object(l.useState)(""),[ce,ue]=Object(l.useState)(""),me=Object(l.useRef)(null),[ve]=Object(Z.a)(),pe=()=>{p(!1)},ge=(e,t)=>{W(e),p(!1),U(t)};Object(l.useEffect)(()=>{var e;if(null===n||void 0===n||null===(e=n.addresses)||void 0===e?void 0:e.length){var t;x(null===n||void 0===n||null===(t=n.addresses)||void 0===t?void 0:t.findIndex(e=>e.id===b)),(null===n||void 0===n?void 0:n.addresses).map(e=>{if(e.id===b){oe(e)}})}},[b,n]);const Ee=(e,t)=>{B.setFirstLoad(!1),ie(!0),x(parseInt(e.target.value)),oe(t)},he=()=>{"billing"===E?(A(de),pe()):h(!0,de),"billing"!==E&&(null===de||void 0===de?void 0:de.pinCode)&&(S(null===de||void 0===de?void 0:de.pinCode),pe())},Ae=(e,t,a)=>{"close"===t&&(ee(!1),ae("")),"open"===t&&(ee(!0),ae(a))};const fe=(e,t)=>{re(t),ue(e),me&&me.current&&me.current.openToast()},be=(e,t,a)=>{const l=Object(V.c)(),i=localStorage.getItem("login_trigger"),{pagetype:d,source_page_url:n,previous_page_url:s,platform:r}=l,c=Object(Q.a)();let u=window.dataLayer||[],m="";m=o&&o.subTotal?o.subTotal.value:"";var v;u.push({ecommerce:null}),u.push({event:e,pagetype:d,source_page_url:n,previous_page_url:s,click_text:t+":"+a,login_trigger:c?i:"N/A",login_status:!!c,user_id:c,ecommerce:{currency:"INR",value:m,coupon:"",shipping_tier:"",items:(v=null===o||void 0===o?void 0:o.entries,v&&v.map((e,t)=>({item_id:e.product.code,item_name:e.product.name,affiliation:r,quantity:e.quantity,index:t,price:e.product.price.value,currency:e.product.price.currencyIso})))}})};return i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{classes:{paper:r.a.CROMA_DARK_THEME?"MuiDialog-paper-list-address-store mini-cart-dailog":"dark-theme MuiDialog-paper-list-address-store mini-cart-dailog"},onClose:pe,open:c&&ve>767},i.a.createElement(m.a,null,i.a.createElement("div",{className:"addAddressCross",onClick:pe},r.a.CROMA_DARK_THEME?i.a.createElement(T.a,null):i.a.createElement(k.a,null)),i.a.createElement("div",{className:"shipping-dialog"},i.a.createElement(w.a,{show:F||g}),i.a.createElement(i.a.Fragment,null,"billing"===E?i.a.createElement("div",{className:"shipping-dialog-title"},"Billing Address"):i.a.createElement("div",{className:"shipping-dialog-title"},"Shipping Address"),i.a.createElement("div",{className:"shipping-dialog-divider"}),"billing"===E?"":N?i.a.createElement("div",{className:"cart-no-delivery-available",style:{marginRight:"15px"}},i.a.createElement("div",{className:"cart-no-delivery-div checkout-no-delivery-margin"},i.a.createElement("span",{className:"cart-no-delivery-text shipping-dialog-error-msg",style:{width:"100%"}},i.a.createElement("span",{className:"shipping-dialog-error-img"},i.a.createElement("img",{src:"/assets/images/group-72.svg",className:"error-icon",alt:"error"})),i.a.createElement("span",{style:{marginTop:"7px"}},R.a.NO_STOCK_AVAILABLE_TEXT)))):"",i.a.createElement("div",{className:"shipping-dialog-maindiv"},(null===n||void 0===n?void 0:n.addresses)&&i.a.createElement("div",{className:"shipping-dialog-subtitle"},"Select Address"),i.a.createElement("div",{className:"shipdialog-addresswrap"},null===n||void 0===n||null===(a=n.addresses)||void 0===a?void 0:a.map((e,t)=>{var a,l,d,o;return i.a.createElement("div",{key:null===e||void 0===e?void 0:e.id,className:"shipping-dialog-list-data shipping-dialog-div"},i.a.createElement("div",{style:{display:"flex",marginBottom:"10px"}},i.a.createElement(P,{classes:{root:"address-list-radio"},className:"shipping-radio",checked:M===t,onChange:t=>Ee(t,e),value:t,name:"address".concat(t)}),(null===e||void 0===e?void 0:e.addressLabel)&&i.a.createElement("label",{className:"shipping-label line-ellipsis",htmlFor:"address",style:{marginRight:"10px"}},(null===e||void 0===e||null===(a=e.addressLabel)||void 0===a?void 0:a.charAt(0).toUpperCase())+(null===e||void 0===e||null===(l=e.addressLabel)||void 0===l?void 0:l.slice(1))),i.a.createElement("div",{className:"shipdialog-addresstype"},null===e||void 0===e?void 0:e.addressType)),i.a.createElement("div",{className:"shipping-dialog-address state-uppercase"},Object(H.H)(e)),(null===e||void 0===e?void 0:e.contactDetail)&&(null===e||void 0===e||null===(d=e.contactDetail)||void 0===d?void 0:d.phoneNumber)&&i.a.createElement("div",{className:"shipping-dialog-address"},"Mobile:"," ",(null===e||void 0===e?void 0:e.contactDetail)?null===e||void 0===e||null===(o=e.contactDetail)||void 0===o?void 0:o.phoneNumber:null),i.a.createElement("div",{style:{display:"flex",marginLeft:"2.5rem",marginTop:"10px"}},i.a.createElement("div",{className:"shipdialog-link",onClick:()=>{ge(!0,e),p(!1)}},R.a.EDIT_HYPERLINK),i.a.createElement("div",{className:"link-divider"}),i.a.createElement("div",{className:"shipdialog-link",onClick:t=>{Ae(0,"open",e.id)}},"Remove")))}),i.a.createElement("div",{className:ne?"shipdialog-add-new-address-noteven":"shipdialog-add-new-address",onClick:()=>{"billing"===E?I(!0):(C(!0),(null===O||void 0===O?void 0:O.length)>0&&"add_address"===O[1]?D(!1):D(!0)),pe()}},i.a.createElement("div",{className:ne?"shipdialog-add-new-address-svg add-new-address-button":"add-new-address-button"},"+ \xa0 ",R.a.ADD_NEW_ADDRESS_BUTTON_TEXT))),(null===n||void 0===n?void 0:n.addresses)&&i.a.createElement("div",{className:"shipdialog-btnwrap address-change-btn"},i.a.createElement("button",{className:"shipdialog-btn","data-testid":"shipdialog-btn-confirm",onClick:()=>{he(),localStorage.setItem("addressSlotChanged",!0),"shipping"===E&&(_(!0),be("add_shipping_info","Change","Confirm Shipping Address"))},disabled:!(null===n||void 0===n?void 0:n.addresses)||!le},"billing"===E?"Confirm Billing Address":"Confirm Shipping Address"))))))),i.a.createElement(u.a,{classes:{paper:r.a.CROMA_DARK_THEME?"MuiDialog-paper-list-address-store mini-cart-dailog":"dark-theme MuiDialog-paper-list-address-store mini-cart-dailog"},onClose:pe,open:c&&ve<=767},i.a.createElement(m.a,null,i.a.createElement("div",{className:"addAddressCross",onClick:pe},r.a.CROMA_DARK_THEME?i.a.createElement(T.a,null):i.a.createElement(k.a,null)),i.a.createElement("div",{className:"shipping-dialog"},i.a.createElement(w.a,{show:F||g}),i.a.createElement(i.a.Fragment,null,"billing"===E?i.a.createElement("div",{className:"shipping-dialog-title"},"Billing Address"):i.a.createElement("div",{className:"shipping-dialog-title"},"Shipping Address"),i.a.createElement("div",{className:"shipping-dialog-divider"}),"billing"===E?"":N?i.a.createElement("div",{className:"cart-no-delivery-available",style:{marginRight:"15px"}},i.a.createElement("div",{className:"cart-no-delivery-div checkout-no-delivery-margin"},i.a.createElement("span",{className:"cart-no-delivery-text shipping-dialog-error-msg",style:{width:"100%"}},i.a.createElement("span",{className:"shipping-dialog-error-img"},i.a.createElement("img",{src:"/assets/images/group-72.svg",className:"error-icon",alt:"error"})),i.a.createElement("span",{style:{marginTop:"7px"}},R.a.NO_STOCK_AVAILABLE_TEXT)))):"",i.a.createElement("div",{className:"shipping-dialog-maindiv"},(null===n||void 0===n?void 0:n.addresses)&&i.a.createElement("div",{className:"shipping-dialog-subtitle"},"Select Address"),i.a.createElement("div",{className:"shipdialog-addresswrap"},null===n||void 0===n||null===(d=n.addresses)||void 0===d?void 0:d.map((e,t)=>{var a,l,d,o;return i.a.createElement("div",{key:null===e||void 0===e?void 0:e.id,className:"shipping-dialog-list-data shipping-dialog-div"},i.a.createElement("div",{style:{display:"flex",marginBottom:"10px"}},i.a.createElement(P,{classes:{root:"address-list-radio"},className:"shipping-radio",checked:M===t,onChange:t=>Ee(t,e),value:t,name:"address".concat(t)}),(null===e||void 0===e?void 0:e.addressLabel)&&i.a.createElement("label",{className:"shipping-label line-ellipsis",htmlFor:"address",style:{marginRight:"10px"}},(null===e||void 0===e||null===(a=e.addressLabel)||void 0===a?void 0:a.charAt(0).toUpperCase())+(null===e||void 0===e||null===(l=e.addressLabel)||void 0===l?void 0:l.slice(1))),i.a.createElement("div",{className:"shipdialog-addresstype"},null===e||void 0===e?void 0:e.addressType)),i.a.createElement("div",{className:"shipping-dialog-address state-uppercase"},(null===e||void 0===e?void 0:e.house)&&""!==(null===e||void 0===e?void 0:e.house)&&" "!==(null===e||void 0===e?void 0:e.house)?(null===e||void 0===e?void 0:e.house.toUpperCase())+", ":null,(null===e||void 0===e?void 0:e.addressLine)?(null===e||void 0===e?void 0:e.addressLine.toUpperCase())+", ":null,(null===e||void 0===e?void 0:e.landmark)?(null===e||void 0===e?void 0:e.landmark.toUpperCase())+", ":null,(null===e||void 0===e?void 0:e.cityTown)?(null===e||void 0===e?void 0:e.cityTown)+" ":null,(null===e||void 0===e?void 0:e.pinCode)?null===e||void 0===e?void 0:e.pinCode:null),(null===e||void 0===e?void 0:e.contactDetail)&&(null===e||void 0===e||null===(d=e.contactDetail)||void 0===d?void 0:d.phoneNumber)&&i.a.createElement("div",{className:"shipping-dialog-address"},"Mobile:"," ",(null===e||void 0===e?void 0:e.contactDetail)?null===e||void 0===e||null===(o=e.contactDetail)||void 0===o?void 0:o.phoneNumber:null),i.a.createElement("div",{style:{display:"flex",marginLeft:"2.5rem",marginTop:"10px"}},i.a.createElement("div",{className:"shipdialog-link",onClick:()=>{ge(!0,e),p(!1)}},R.a.EDIT_HYPERLINK),i.a.createElement("div",{className:"link-divider"}),i.a.createElement("div",{className:"shipdialog-link",onClick:t=>{Ae(0,"open",e.id)}},"Remove")))}),i.a.createElement("div",{className:"shipdialog-add-new-address-mob"},i.a.createElement("button",{className:"new-add-btn-checkout",onClick:()=>{"billing"===E?I(!0):(C(!0),(null===O||void 0===O?void 0:O.length)>0&&"add_address"===O[1]?D(!1):D(!0)),pe()}},"+ Add New Address")))),(null===n||void 0===n?void 0:n.addresses)&&i.a.createElement("div",{className:"shipdialog-btnwrap address-change-btn"},i.a.createElement("button",{className:"shipdialog-btn","data-testid":"shipdialog-btn-confirm",onClick:()=>{he(),localStorage.setItem("addressSlotChanged",!0),"shipping"===E&&(_(!0),be("add_shipping_info","Change","Confirm Shipping Address"))},disabled:!(null===n||void 0===n?void 0:n.addresses)||!le},"billing"===E?"Confirm Billing Address":"Confirm Shipping Address")))))),i.a.createElement(u.a,{open:Y,disableBackdropClick:"true",classes:{paper:!r.a.CROMA_DARK_THEME&&"dark-theme"},disableEscapeKeyDown:"true"},i.a.createElement("button",{className:"icon icon-close",type:"button",onClick:e=>{Ae(0,"close")}}),i.a.createElement(m.a,null,i.a.createElement("div",{className:"modal-wrap modal-sm"},i.a.createElement("div",{className:"cp-confirmation-modal"},i.a.createElement("div",{className:"confirmation-modal-desc"},i.a.createElement("p",null,R.a.DELETE_ADDRESS_POP_UP)),i.a.createElement("div",{className:"action-wrap"},i.a.createElement("button",{className:"btn btn-secondary",onClick:e=>{Ae(0,"close")}},R.a.CANCEL),i.a.createElement("button",{className:"btn btn-default",onClick:()=>function(){const e={loyalCustomer:Object(X.a)()?"Y":"N",id:te};Object(q.a)(e).then(e=>{"success"===e.status?(b==te&&window.location.reload(),ie(te!==b),h(!1),ee(!1),fe(R.a.DELETE_ADDRESS_SUCCESS,G.f.SUCCESS)):fe(R.a.DELETE_ADDRESS_ERROR,G.f.ERROR)})}()},R.a.PROCEED)))))),i.a.createElement(K.a,{ref:me,varient:se,msg:ce}),i.a.createElement(z,Object.assign({dataGA:o,addAddress:J,addAddressHandler:ge,data:j,profileData:n,addressType:E,clickFromBilling:y,selectedBillAddress:A,callTdFetchCustomer:h,checkBoxVal:f,updateShippingOption:S,callAddressCordApi:L},B)))},te=a(457),ae=a(946),le=a(1015),ie=a.n(le);var de,oe,ne,se,re=e=>{var t,a,d;let{callOrderSummary:o,cartWhishlist:n,item:s,showToast:r,setFlag:c,removeFromCartItem:u}=e,m=0,v=0;const p="undefined"!==typeof Storage&&"true"===localStorage.getItem("isCSC");var g,E;if(null===s||void 0===s||null===(t=s.cartEntryQunatityRespectivePriceData)||void 0===t?void 0:t.displayPrice)m=null===s||void 0===s||null===(g=s.cartEntryQunatityRespectivePriceData)||void 0===g?void 0:g.displayPrice;else if(null===s||void 0===s||null===(a=s.mrp)||void 0===a?void 0:a.value){var h;m=null===s||void 0===s||null===(h=s.mrp)||void 0===h?void 0:h.value}(null===s||void 0===s||null===(d=s.cartEntryQunatityRespectivePriceData)||void 0===d?void 0:d.strikeThroughPrice)&&(v=null===s||void 0===s||null===(E=s.cartEntryQunatityRespectivePriceData)||void 0===E?void 0:E.strikeThroughPrice);const A=e=>{if(e&&"success"===e.status)o(),c(!0),r(e.message,"success");else{const t=localStorage.getItem("customer_hash");t&&""!==t&&r(e.message,"error")}};return Object(l.useEffect)(()=>{"undefined"!==typeof document&&document.querySelector(".wishlistBtn".concat(null===s||void 0===s?void 0:s.product.code))&&((null===s||void 0===s?void 0:s.isActive)?document.querySelector(".wishlistBtn".concat(null===s||void 0===s?void 0:s.product.code)).classList.add("active"):document.querySelector(".wishlistBtn".concat(null===s||void 0===s?void 0:s.product.code)).classList.remove("active"))},[s,null===s||void 0===s?void 0:s.isActive]),i.a.createElement("div",null,!p&&!(null===s||void 0===s?void 0:s.vasProduct)&&((null===s||void 0===s?void 0:s.isActive)?i.a.createElement("button",{disabled:"unavailable"===(null===s||void 0===s?void 0:s.approvalStatus)||"discontinued"===(null===s||void 0===s?void 0:s.approvalStatus),className:"cart-wish del-check-pd wishlistBtn".concat(null===s||void 0===s?void 0:s.product.code," ").concat("unavailable"===(null===s||void 0===s?void 0:s.approvalStatus)||"discontinued"===(null===s||void 0===s?void 0:s.approvalStatus)?"cart-wishlist-disable":""," active"),onClick:()=>{var e,t,a;u(null===s||void 0===s?void 0:s.entryNumber,null===s||void 0===s||null===(e=s.product)||void 0===e?void 0:e.code,null===s||void 0===s||null===(t=s.basePrice)||void 0===t?void 0:t.value,null===s||void 0===s||null===(a=s.product.mrp)||void 0===a?void 0:a.value,null===s||void 0===s?void 0:s.quantity,s,!0)}},R.a.WHISHLIST_CART,i.a.createElement("img",{src:ie.a})):"unavailable"===(null===s||void 0===s?void 0:s.approvalStatus)||"discontinued"===(null===s||void 0===s?void 0:s.approvalStatus)?i.a.createElement("span",{className:"cart-wish del-check-pd cart-wishlist-disable wishlistBtn".concat(null===s||void 0===s?void 0:s.product.code)},R.a.WHISHLIST_CART,i.a.createElement("img",{src:ie.a})):i.a.createElement("span",{className:"cart-wish del-check-pd wishlistBtn".concat(null===s||void 0===s?void 0:s.product.code),onClick:function(e){const t={entry:s.entryNumber,pid:s.product.code};"undefined"!==typeof Storage&&localStorage.setItem("utmloginsource","wishlist"),e.currentTarget.classList.contains("active")?Object(ae.a)(s.product.code,"deletion",m,v,A):("undefined"!==typeof Storage&&localStorage.setItem("logintypeAdd","wishlist:added"),"undefined"!==typeof Storage&&localStorage.setItem("wishlistAddPayload",JSON.stringify(t)),n(s.entryNumber,s.product.code,!0))}},R.a.WHISHLIST_CART,i.a.createElement("img",{src:ie.a}))))};const ce=["svgRef","title"];function ue(){return(ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(null,arguments)}const me=e=>{let{svgRef:t,title:a}=e,l=function(e,t){if(null==e)return{};var a,l,i=function(e,t){if(null==e)return{};var a={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(-1!==t.indexOf(l))continue;a[l]=e[l]}return a}(e,t);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(l=0;l<d.length;l++)a=d[l],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}(e,ce);return i.a.createElement("svg",ue({width:18,height:18,viewBox:"0 0 18 18",fill:"none",ref:t},l),a?i.a.createElement("title",null,a):null,de||(de=i.a.createElement("rect",{width:18,height:18,fill:"url(#pattern0)"})),i.a.createElement("mask",{id:"mask0_2416_45681",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:18,height:18},oe||(oe=i.a.createElement("rect",{width:18,height:18,fill:"url(#pattern1)"}))),ne||(ne=i.a.createElement("g",{mask:"url(#mask0_2416_45681)"},i.a.createElement("rect",{width:18,height:18,fill:"#00E9BF"}))),se||(se=i.a.createElement("defs",null,i.a.createElement("pattern",{id:"pattern0",patternContentUnits:"objectBoundingBox",width:1,height:1},i.a.createElement("use",{xlinkHref:"#image0_2416_45681",transform:"scale(0.00195312)"})),i.a.createElement("pattern",{id:"pattern1",patternContentUnits:"objectBoundingBox",width:1,height:1},i.a.createElement("use",{xlinkHref:"#image0_2416_45681",transform:"scale(0.00195312)"})),i.a.createElement("image",{id:"image0_2416_45681",width:512,height:512,xlinkHref:"data:image/png;base64,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gEAfBB6WSr4+cdc+VFYdCRAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQJNEvj/PMrT8fpX15UAAAAASUVORK5CYII="}))))};i.a.forwardRef((e,t)=>i.a.createElement(me,ue({svgRef:t},e)));var ve,pe,ge;a.p;const Ee=["svgRef","title"];function he(){return(he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(null,arguments)}const Ae=e=>{let{svgRef:t,title:a}=e,l=function(e,t){if(null==e)return{};var a,l,i=function(e,t){if(null==e)return{};var a={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(-1!==t.indexOf(l))continue;a[l]=e[l]}return a}(e,t);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(l=0;l<d.length;l++)a=d[l],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}(e,Ee);return i.a.createElement("svg",he({width:18,height:18,viewBox:"0 0 18 18",fill:"none",ref:t},l),a?i.a.createElement("title",null,a):null,ve||(ve=i.a.createElement("rect",{opacity:.01,width:18,height:18,fill:"#D8D8D8"})),pe||(pe=i.a.createElement("path",{d:"M14.4545 3.54545L3.54545 14.4545",stroke:"#FF0000",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"bevel"})),ge||(ge=i.a.createElement("path",{d:"M3.54545 3.54545L14.4545 14.4545",stroke:"#FF0000",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"bevel"})))};i.a.forwardRef((e,t)=>i.a.createElement(Ae,he({svgRef:t},e)));a.p;var fe=a(7);var be=a(188);a(446);var Se,Ne,ye,Ce,Ie=a(119),Oe=a(18),De=a(947);const Le=["svgRef","title"];function Pe(){return(Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(null,arguments)}const Te=e=>{let{svgRef:t,title:a}=e,l=function(e,t){if(null==e)return{};var a,l,i=function(e,t){if(null==e)return{};var a={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(-1!==t.indexOf(l))continue;a[l]=e[l]}return a}(e,t);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(l=0;l<d.length;l++)a=d[l],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}(e,Le);return i.a.createElement("svg",Pe({width:36,height:36,viewBox:"0 0 36 36",fill:"none",ref:t},l),a?i.a.createElement("title",null,a):null,Se||(Se=i.a.createElement("path",{d:"M11.25 22.5H29.25C29.8713 22.5 30.375 21.9963 30.375 21.375V6.75C30.375 6.12868 29.8713 5.625 29.25 5.625H13.5C12.8787 5.625 12.375 6.12868 12.375 6.75V7.875",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})),Ne||(Ne=i.a.createElement("path",{d:"M14.625 19.125L11.25 22.5L14.625 25.875",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})),ye||(ye=i.a.createElement("path",{d:"M24.75 13.5H6.75C6.12868 13.5 5.625 14.0037 5.625 14.625V29.25C5.625 29.8713 6.12868 30.375 6.75 30.375H22.5C23.1213 30.375 23.625 29.8713 23.625 29.25V28.125",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})),Ce||(Ce=i.a.createElement("path",{d:"M21.375 16.875L24.75 13.5L21.375 10.125",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})))},ke=i.a.forwardRef((e,t)=>i.a.createElement(Te,Pe({svgRef:t},e)));a.p;var Re=a(13),_e=a(916);var Be=e=>{var t,a,d,o;let{item:n,isExchangeServicable:s,data:c,omsData:u,allFulfillmentData:m,isExchangeInValid:v,setIsExchangeInValid:p,confirmationModalHandler:g,selectedDeliveryOption:E}=e;const[h,A]=Object(l.useState)(!0);Object(l.useEffect)(()=>{if(n){var e;let l="";const i=null===n||void 0===n||null===(e=n.product)||void 0===e?void 0:e.code;if(u&&E&&E.length){let e=!0;if(u.promise&&u.promise.suggestedOption&&u.promise.suggestedOption.option&&u.promise.suggestedOption.option.promiseLines&&u.promise.suggestedOption.option.promiseLines.promiseLine&&Array.isArray(u.promise.suggestedOption.option.promiseLines.promiseLine)){const d=u.promise.suggestedOption.option.promiseLines.promiseLine;if(d.length>0){var t,a;let o=null===c||void 0===c||null===(t=c.deliveryMode)||void 0===t||null===(a=t.code)||void 0===a?void 0:a.toUpperCase();if(r.a.MULTILINE_FULLFILLMENT){const e=E.find(e=>e.code==n.product.code&&e.entryNumber==n.entryNumber);e&&("HDEL"==e.deliveryMode?o="CROMAHOMEDELIVERY":"SDEL"==e.deliveryMode?o="CROMAEXPRESSDELIVERY":"STOR"==e.deliveryMode&&(o="CROMASTOREPICKUP"))}d.forEach(t=>{var a,d,n,s,r,c,u,m,v,p,g,E,h,A,f;t.itemID===i&&"STOR"===t.fulfillmentType&&"CROMASTOREPICKUP"===o&&(l=t,l&&l.assignments&&l.assignments.assignment&&Array.isArray(l.assignments.assignment)&&l.assignments.assignment.length>0&&!l.assignments.assignment[0].hasOwnProperty("emptyAssignmentReason")&&t&&(null===t||void 0===t?void 0:t.assignments)&&(null===t||void 0===t||null===(a=t.assignments)||void 0===a?void 0:a.assignment)&&Array.isArray(null===t||void 0===t||null===(d=t.assignments)||void 0===d?void 0:d.assignment)&&(null===t||void 0===t||null===(n=t.assignments)||void 0===n?void 0:n.assignment[0])&&(null===t||void 0===t||null===(s=t.assignments)||void 0===s?void 0:s.assignment[0].isTradeinIndicator)&&"Y"===(null===t||void 0===t||null===(r=t.assignments)||void 0===r?void 0:r.assignment[0].isTradeinIndicator)&&(e=!1));t.itemID===i&&"SDEL"===t.fulfillmentType&&"CROMAEXPRESSDELIVERY"===o&&(t&&t.assignments&&t.assignments.assignment&&Array.isArray(t.assignments.assignment)&&t.assignments.assignment.length>0&&!t.assignments.assignment[0].hasOwnProperty("emptyAssignmentReason")&&t&&(null===t||void 0===t?void 0:t.assignments)&&(null===t||void 0===t||null===(c=t.assignments)||void 0===c?void 0:c.assignment)&&Array.isArray(null===t||void 0===t||null===(u=t.assignments)||void 0===u?void 0:u.assignment)&&(null===t||void 0===t||null===(m=t.assignments)||void 0===m?void 0:m.assignment[0])&&(null===t||void 0===t||null===(v=t.assignments)||void 0===v?void 0:v.assignment[0].isTradeinIndicator)&&"Y"===(null===t||void 0===t||null===(p=t.assignments)||void 0===p?void 0:p.assignment[0].isTradeinIndicator)&&(e=!1));t.itemID===i&&"HDEL"===t.fulfillmentType&&"CROMAHOMEDELIVERY"===o&&(t&&t.assignments&&t.assignments.assignment&&Array.isArray(t.assignments.assignment)&&t.assignments.assignment.length>0&&!t.assignments.assignment[0].hasOwnProperty("emptyAssignmentReason")&&t&&(null===t||void 0===t?void 0:t.assignments)&&(null===t||void 0===t||null===(g=t.assignments)||void 0===g?void 0:g.assignment)&&Array.isArray(null===t||void 0===t||null===(E=t.assignments)||void 0===E?void 0:E.assignment)&&(null===t||void 0===t||null===(h=t.assignments)||void 0===h?void 0:h.assignment[0])&&(null===t||void 0===t||null===(A=t.assignments)||void 0===A?void 0:A.assignment[0].isTradeinIndicator)&&"Y"===(null===t||void 0===t||null===(f=t.assignments)||void 0===f?void 0:f.assignment[0].isTradeinIndicator)&&(e=!1))})}}p(e)}}},[u,c,E]);return i.a.createElement("div",{className:"exchange-wrap"},(null===n||void 0===n?void 0:n.isExchangeProductBonusExpired)&&h&&i.a.createElement(_e.a,{bonusPopup:h,bonusExpMsg:e=>{e.preventDefault(),A(!1)}}),i.a.createElement("div",{className:"exchange-wrap-first"},i.a.createElement("div",{style:{marginLeft:Re.isDesktop?"0rem":"1.2rem"}},i.a.createElement(Oe.Link,{to:"".concat(n.product.url)}," ",i.a.createElement("span",null,i.a.createElement(ke,null))," ")),i.a.createElement("div",{style:{paddingLeft:"3rem"}},i.a.createElement("div",{className:"prodi-header"},i.a.createElement("h3",{className:"product-title",style:{fontSize:"16px",fontWeight:700,lineHeight:"1.8rem"}},"Exchange ",i.a.createElement(Oe.Link,{to:"".concat(n.product.url)},Object(H.x)(n)))),(null===n||void 0===n?void 0:n.exchangeProductExchangeBonus)&&i.a.createElement("span",null," ",R.a.PAY_EXCHANGE_BONUS_MSG1),i.a.createElement("div",{className:"exchange-offer-oldTxt"},"Note: Your order may get cancelled if the ","tv"===(null===n||void 0===n||null===(t=n.exchangeProductCategoryName)||void 0===t?void 0:t.toLowerCase())||"ac"===(null===n||void 0===n||null===(a=n.exchangeProductCategoryName)||void 0===a?void 0:a.toLowerCase())?null===n||void 0===n||null===(d=n.exchangeProductCategoryName)||void 0===d?void 0:d.toUpperCase():(null===n||void 0===n?void 0:n.exchangeProductCategoryName)?null===n||void 0===n||null===(o=n.exchangeProductCategoryName)||void 0===o?void 0:o.toLowerCase():""," does not meet the specified conditions during delivery."))),v&&i.a.createElement("div",{className:"exchange-eligible-alert"},i.a.createElement(De.a,null),i.a.createElement("span",null,R.a.EXCHANGE_ERROR_SHORT,i.a.createElement("button",{type:"button",className:"no-delivery-click-text no-delivery-margin click-here-space",onClick:e=>{g(e,"open")}},"click here"),"to remove exchange")))};a(157);var Fe,we,Me=e=>{var t,a,d,o;let{slotData:n,selectSlot:s,handleClose:c,open:v,setSlotDetailsFunc:p,setSlotTimeFunc:g,color:E,fromFlag:h=!1,setSelectedSlotStartTime:A,setSelectedSlotEndTime:f,setSlotDate:b,slotUnavailableFlag:S,prodDeliveryDate:N,showDemoLoader:y}=e;const C=["SUN","MON","TUE","WED","THU","FRI","SAT"],I=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],[O,D]=i.a.useState(h?null===(t=n[0])||void 0===t||null===(a=t.InstallationDate)||void 0===a?void 0:a.Slots:null===(d=n[0])||void 0===d||null===(o=d.deliveryDate)||void 0===o?void 0:o.Slots),[L,P]=Object(l.useState)([]);let R,_,B,F,M,x;Object(l.useEffect)(()=>{var e,t,a,l,i,d,o,s,r,c;n&&n.length>0&&(D(h?null===(e=n[0])||void 0===e||null===(t=e.InstallationDate)||void 0===t?void 0:t.Slots:null===(a=n[0])||void 0===a||null===(l=a.deliveryDate)||void 0===l?void 0:l.Slots),b(null===(i=n[0])||void 0===i||null===(d=i.InstallationDate)||void 0===d?void 0:d.slotDate),A(null===(o=n[0])||void 0===o||null===(s=o.InstallationDate)||void 0===s?void 0:s.Slots[0].startTime),f(null===(r=n[0])||void 0===r||null===(c=r.InstallationDate)||void 0===c?void 0:c.Slots[0].endTime))},[n]),Object(l.useEffect)(()=>{if(n&&n.length>0)if(n.length<15){var e;let a=[];for(var t=1;t<=15;t++){let e=new Date(N),l=new Date(e.setDate(e.getDate()+t));a.push(l)}if(n&&(null===(e=n[0])||void 0===e?void 0:e.InstallationDate)){let e=[];a.map(t=>{let a=1;n.map((l,i)=>{l.InstallationDate.reqIndex=i;let d=new Date(l.InstallationDate.slotDate),o=new Date(t);d.getDate()===o.getDate()&&d.getMonth()===o.getMonth()&&d.getFullYear()===o.getFullYear()&&(e.push(l),a=2)}),1===a&&e.push(t)});P(e)}else P(a)}else{let e=[];n.map((t,a)=>{t.InstallationDate.reqIndex=a,e.push(t)}),P(e)}},[n]);const j=e=>{let t=parseInt(e.substring(11,14));return t>12?t-12+" PM":t+" AM"};return i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{classes:{paper:(r.a.CROMA_DARK_THEME,"mini-cart-dailog")},open:v,onClose:()=>{c()},disableEscapeKeyDown:!0},i.a.createElement(m.a,null,i.a.createElement("div",{className:"close-btn mini-cart-dialog-close-mob demo-installation-close-btn",onClick:()=>{c()}},r.a.CROMA_DARK_THEME?i.a.createElement(T.a,null):i.a.createElement(k.a,null)),i.a.createElement("div",{className:"mini-cart-product-container slot-modal demo-installation-slot-modal"},i.a.createElement(w.a,{show:y}),i.a.createElement("div",{className:"mini-cart-style"},i.a.createElement("div",{className:"coupon-dialog-heading"},i.a.createElement("div",{className:"slot-heading"},S?"INSTALLATION SLOT COULD NOT BE BOOKED":"SCHEDULE INSTALLATION AND DEMO",S&&i.a.createElement("div",{className:"slot-unavailable"},"Installation slot could not be booked. Please try again."))),i.a.createElement("div",{className:"slot-sub-heading"},"Select Date"),i.a.createElement("div",{className:"date-wrapper"},L&&L.map((e,t)=>{var a,l,d,o;return(null===e||void 0===e?void 0:e.InstallationDate)&&(null===e||void 0===e||null===(a=e.InstallationDate)||void 0===a?void 0:a.slotDate)?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"slt-bx ".concat(E.date===(null===(l=e.InstallationDate)||void 0===l?void 0:l.reqIndex)?"slt-box-select":""),onClick:()=>{var t,a,l;p(e,null===(t=e.InstallationDate)||void 0===t?void 0:t.reqIndex),D(h?null===e||void 0===e||null===(a=e.InstallationDate)||void 0===a?void 0:a.Slots:null===e||void 0===e||null===(l=e.deliveryDate)||void 0===l?void 0:l.Slots)}},(e=>{var t,a;let l=new Date(h?null===e||void 0===e||null===(t=e.InstallationDate)||void 0===t?void 0:t.slotDate:null===e||void 0===e||null===(a=e.deliveryDate)||void 0===a?void 0:a.slotDate);F=C[l.getDay()],M=l.getDate(),x=I[l.getMonth()]})(e),(null===e||void 0===e||null===(d=e.InstallationDate)||void 0===d||null===(o=d.Slots[0])||void 0===o?void 0:o.startTime)?null:i.a.createElement("div",{class:"Oval"}),i.a.createElement("div",{className:"dy-mnt-text"},F),i.a.createElement("div",{className:"dt-txt"},M),i.a.createElement("div",{className:"dy-mnt-text"},x))):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"slt-bx slt-bx-disabled"},(e=>{let t=new Date(e);R=C[t.getDay()],_=t.getDate(),B=I[t.getMonth()]})(e),i.a.createElement("div",{class:"Oval1"}),i.a.createElement("div",{className:"dy-mnt-text"},R),i.a.createElement("div",{className:"dt-txt dt-txt-disabled"},_),i.a.createElement("div",{className:"dy-mnt-text"},B)))})),i.a.createElement("div",{className:"slt-exp"},i.a.createElement("div",{class:"Oval1"}),i.a.createElement("div",null,"Slot Expired/Full")),i.a.createElement("div",{className:"slot-time-container"},i.a.createElement("div",{className:"slot-sub-heading"},"Select a Time Slot"),i.a.createElement("div",{className:"time-wrapper"},null===O||void 0===O?void 0:O.map((e,t)=>i.a.createElement("div",null,i.a.createElement("div",{className:"slt-bx time-slt-box ".concat(E.time===t?"slt-box-select-time":""),onClick:()=>{g(e,t)}},i.a.createElement("span",{class:"time-set"},j(null===e||void 0===e?void 0:e.startTime)," - ",j(null===e||void 0===e?void 0:e.endTime))))))),i.a.createElement("div",{className:"nt-txt"},"Note: You can schedule/reschedule installation within 15 days from the order date")),i.a.createElement("button",{class:"card-button btn btn-default slt-btn-mob",onClick:()=>s()},"Continue")))))};const xe=["svgRef","title"];function je(){return(je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(null,arguments)}const Qe=e=>{let{svgRef:t,title:a}=e,l=function(e,t){if(null==e)return{};var a,l,i=function(e,t){if(null==e)return{};var a={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(-1!==t.indexOf(l))continue;a[l]=e[l]}return a}(e,t);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(l=0;l<d.length;l++)a=d[l],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}(e,xe);return i.a.createElement("svg",je({width:"80px",height:"80px",viewBox:"0 0 80 80",ref:t},l),void 0===a?Fe||(Fe=i.a.createElement("title",null,"Group 8")):a?i.a.createElement("title",null,a):null,we||(we=i.a.createElement("g",{id:"Checkout",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.a.createElement("g",{id:"01_SignIn_Shipping",transform:"translate(-31.000000, -850.000000)"},i.a.createElement("g",{id:"Group-8",transform:"translate(31.000000, 850.000000)"},i.a.createElement("rect",{id:"Rectangle",fill:"#353535",x:0,y:0,width:80,height:80}),i.a.createElement("g",{id:"wrench",transform:"translate(22.142857, 22.142857)"},i.a.createElement("rect",{id:"Rectangle",x:0,y:0,width:35.7142857,height:35.7142857}),i.a.createElement("path",{d:"M30.5385045,9.90513393 C32.039422,13.4096899 31.145631,17.4807953 28.3146932,20.0343139 C25.4837553,22.5878324 21.3423501,23.0584964 18.0106027,21.2053571 L10.1841518,30.2734375 C8.87432467,31.5832646 6.75067535,31.5832646 5.44084825,30.2734375 C4.13102115,28.9636104 4.13102113,26.839961 5.44084821,25.5301339 L14.5089286,17.703683 C12.6557893,14.3719356 13.1264533,10.2305304 15.6799719,7.39959256 C18.2334904,4.56865473 22.3045958,3.67486368 25.8091518,5.17578125 L19.9497768,11.0212054 L20.7449777,14.969308 L24.6930804,15.7645089 L30.5385045,9.90513393 Z",id:"Path",stroke:"#FFFFFF",strokeLinecap:"round",strokeLinejoin:"round"})))))))},Ve=i.a.forwardRef((e,t)=>i.a.createElement(Qe,je({svgRef:t},e)));a.p;var He=e=>{let{code:t,omsData:a,data:d,updatedShipnode:o,selectedShipAddress:n,item:s,index:r,getServiceAppointmentPayload:c,selectedDeliveryOption:u,slotArr:m}=e;const[v,p]=i.a.useState(!1),[g,E]=i.a.useState(),[h,A]=i.a.useState({time:0,date:0}),[f,b]=Object(l.useState)(""),[S,N]=Object(l.useState)(""),[y,C]=Object(l.useState)(""),[I,O]=Object(l.useState)(""),[D,L]=Object(l.useState)(""),[P,T]=Object(l.useState)({setdata:!1,deliverymode:""}),k=Object(l.useRef)(null),[R,B]=Object(l.useState)(""),[F,w]=Object(l.useState)(""),[M,x]=Object(l.useState)(!1),[j,Q]=Object(l.useState)(),[V,H]=i.a.useState(!1);Object(l.useEffect)(()=>{u&&(u.find(e=>e.code===t&&e.deliveryMode===P.deliverymode)||(P.setdata&&Y("Your demo and installation date has changed",G.f.ERROR),T({setdata:!1,deliverymode:""})))},[u]);const U=()=>{p(!1),A({time:0,date:0})},J=e=>{let t=e.substring(0,2),a=e.substring(3,5),l=parseInt(t);return l>12?l-12+":"+a+" PM":l+":"+a+" AM"},W=e=>{let t=e.split(" ");return t[0].split("-").reverse().join("-")+", "+J(t[1])},Y=(e,t)=>{B(t),w(e),k&&k.current&&k.current.openToast()};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"demo-installation"},i.a.createElement("div",{className:"demo-img-box"},i.a.createElement(Ve,null)),i.a.createElement("div",{className:"demo-details-div"},i.a.createElement("div",{className:"free-install-main"},i.a.createElement("div",{class:"cp-checkbox demo-checkbox"},i.a.createElement("div",{class:"cp-checkbox-item"},i.a.createElement("input",{type:"checkbox",id:"chkDemo",name:"demoChk",value:"true",checked:"checked",disabled:"true"}),i.a.createElement("label",{for:"chkDemo"},i.a.createElement("span",{class:"check demoCheck"})))),i.a.createElement("span",{className:"free-installation"},"INSTALLATION / DEMO")),P.setdata&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"appointment-successfull"},"Appointment Scheduled:"),i.a.createElement("div",{className:"appointmernt-time"},(()=>{let e=new Date(I.slotDate),t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()]+" "+e.getDate()+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]+" "+e.getFullYear()+", "+I.startTime+" - "+I.endTime;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"appointment-successfull"},t))})())),i.a.createElement("span",{className:"appointment-schedule"},i.a.createElement("span",{onClick:()=>(()=>{var e,l,i,r;p(!0);let c="",m="";const v=t;if(a&&a.promise&&a.promise.suggestedOption&&a.promise.suggestedOption.option&&a.promise.suggestedOption.option.promiseLines&&a.promise.suggestedOption.option.promiseLines.promiseLine&&Array.isArray(a.promise.suggestedOption.option.promiseLines.promiseLine)){const e=a.promise.suggestedOption.option.promiseLines.promiseLine;e.length>0&&e.forEach(e=>{var a=u.find(t=>e.itemID==t.code);if(e.itemID===v&&"STOR"===e.fulfillmentType&&(c=e,m=e.assignments.assignment[0].deliveryDate),e.itemID===v&&"SDEL"===e.fulfillmentType&&"SDEL"===a.deliveryMode&&e&&e.assignments&&e.assignments.assignment&&Array.isArray(e.assignments.assignment)&&e.assignments.assignment.length>0&&!e.assignments.assignment[0].hasOwnProperty("emptyAssignmentReason")&&(m=e.assignments.assignment[0].deliveryDate),e.itemID===v&&"HDEL"===e.fulfillmentType&&"HDEL"===a.deliveryMode&&e&&e.assignments&&e.assignments.assignment&&Array.isArray(e.assignments.assignment)&&e.assignments.assignment.length>0&&!e.assignments.assignment[0].hasOwnProperty("emptyAssignmentReason")){let a=e.assignments.assignment[0].deliveryDate,c=localStorage.getItem("sltArr");try{if(c){var l,i,n;c=JSON.parse(c);let e,o=c&&(null===(l=c)||void 0===l?void 0:l.length)>0&&c.filter(e=>(null===e||void 0===e?void 0:e.id)===t);var s,r;if(e=2===(null===o||void 0===o?void 0:o.length)?o&&(null===o||void 0===o?void 0:o.length)>0&&o.filter(e=>e.cartEntryId===(null===d||void 0===d?void 0:d.entryNumber)):o,null===(i=e[0])||void 0===i||null===(n=i.time)||void 0===n?void 0:n.cutoff)a=null===(s=e[0])||void 0===s||null===(r=s.time)||void 0===r?void 0:r.cutoff,a=a.replace(" ","")}}catch(p){console.log(p)}if(o&&Array.isArray(o)){const t=o.findIndex(t=>t.code===e.itemID);-1!=t&&(a=o[t].eddDate)}m=a}})}const g=localStorage.getItem("customer_hash");let E=null===(e=m)||void 0===e?void 0:e.substring(0,10),h=null===(l=m)||void 0===l?void 0:l.substring(11,19);h=h.replace("+",":");let A=E+" "+h;Q(A);const f=[{"Brand Code":s.product.manufacturerAID.replace("b-",""),"Product ID":v,"Delivery Date":A,"Customer Name":(null===n||void 0===n?void 0:n.contactDetail)&&(null===n||void 0===n||null===(i=n.contactDetail)||void 0===i?void 0:i.contactPersonName),"Customer Mobile Number":(null===n||void 0===n?void 0:n.contactDetail)&&(null===n||void 0===n||null===(r=n.contactDetail)||void 0===r?void 0:r.phoneNumber),ZipCode:localStorage.getItem("3hrPincode")&&JSON.parse(localStorage.getItem("3hrPincode")),"Model Number":s.product.modelNumber,"Product Type":s.product.classCode,"Installation Flag":s.product.installationFlag,"Demo Flag":s.product.demo,"Order Number":"NEW","Customer Hash":g,"Prime Line no":"1"}];H(!0),Object(_.i)(f).then(e=>{var t,a,l,i,d;"success"===e.status?(null===(t=e.data)||void 0===t?void 0:t.AvailableSlots)&&(null===(a=e.data)||void 0===a?void 0:a.AvailableSlots.length)>0?(b(null===(l=e.data)||void 0===l?void 0:l.AvailableSlots),H(!1),L(null===(i=e.data)||void 0===i?void 0:i.primarykey)):(H(!1),p(!1),Y(null===(d=e.data)||void 0===d?void 0:d.responsetext,G.f.ERROR)):(H(!1),p(!1),Y("No slots Available",G.f.ERROR))})})()},P.setdata?"Reschedule Appointment":"Schedule Installation and Demo")))),v&&i.a.createElement(Me,{slotData:f,selectSlot:()=>{var e,a;const l=[{"Brand Code":s.product.manufacturerAID.replace("b-",""),"Customer Name":(null===n||void 0===n?void 0:n.contactDetail)&&(null===n||void 0===n||null===(e=n.contactDetail)||void 0===e?void 0:e.contactPersonName),"Customer Mobile Number":(null===n||void 0===n?void 0:n.contactDetail)&&(null===n||void 0===n||null===(a=n.contactDetail)||void 0===a?void 0:a.phoneNumber),ZipCode:localStorage.getItem("3hrPincode")&&JSON.parse(localStorage.getItem("3hrPincode")),"Model Number":s.product.modelNumber,"Product Type":s.product.classCode,"Primary Key":D,"Selected Slot Start":W(S),"Selected Slot End":W(y)}];H(!0),Object(_.n)(l).then(e=>{var a,l,i;if("success"===e.status)if(""!==(null===(a=e.data)||void 0===a?void 0:a.endTime)&&""!==(null===(l=e.data)||void 0===l?void 0:l.startTime)&&(null===(i=e.data)||void 0===i?void 0:i.slotDate)){var d;O(e.data),H(!1),U();let a=u.find(e=>t==e.code);T({setdata:!0,deliverymode:null===a||void 0===a?void 0:a.deliveryMode}),Y(null===(d=e.data)||void 0===d?void 0:d.responseText,G.f.SUCCESS),c(s.entryNumber,D),x(!1)}else H(!1),x(!0),T({setdata:!1,deliverymode:""});else H(!1),x(!0),T({setdata:!1,deliverymode:""})})},handleClose:U,open:v,setSlotDetailsFunc:(e,t)=>{var a,l,i;E(null===e||void 0===e||null===(a=e.InstallationDate)||void 0===a?void 0:a.slotDate),N(null===e||void 0===e||null===(l=e.InstallationDate)||void 0===l?void 0:l.Slots[0].startTime),C(null===e||void 0===e||null===(i=e.InstallationDate)||void 0===i?void 0:i.Slots[0].endTime),A({time:0,date:t})},setSlotTimeFunc:(e,t)=>{A({time:t,date:h.date}),N(null===e||void 0===e?void 0:e.startTime),C(null===e||void 0===e?void 0:e.endTime)},color:h,fromFlag:!0,code:t,setSelectedSlotStartTime:N,setSelectedSlotEndTime:C,setSlotDate:E,getTime:J,slotUnavailableFlag:M,prodDeliveryDate:j,showDemoLoader:V}),i.a.createElement(K.a,{ref:k,varient:R,msg:F}))},Ue=a(254);var Ge,Je=e=>{let{slotData:t,selectSlot:a,handleClose:d,open:o,code:n,setSlotDetailsFunc:s,setSlotTimeFunc:c,color:v}=e;const[p,g]=i.a.useState(),[E,h]=i.a.useState();let A,f,b;Object(l.useEffect)(()=>{var e,a;t&&(h(t),g(null===(e=t[null===v||void 0===v?void 0:v.slot])||void 0===e||null===(a=e.deliveryDate)||void 0===a?void 0:a.slots))},[t]);const S=(e,t)=>{var a,l,i,d;return(null===e||void 0===e||null===(a=e.deliveryDate)||void 0===a||null===(l=a.slots[0])||void 0===l?void 0:l.available)||(null===e||void 0===e||null===(i=e.deliveryDate)||void 0===i||null===(d=i.slots[1])||void 0===d?void 0:d.available)?v.slot===t?"slt-box-select slt-bx":"slt-bx":"slt-bx slt-disable"};return i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{classes:{paper:r.a.CROMA_DARK_THEME?"dark-theme mini-cart-dailog":"mini-cart-dailog"},open:o,onClose:()=>{d()},disableEscapeKeyDown:!0},i.a.createElement(m.a,null,i.a.createElement("div",{className:"close-btn mini-cart-dialog-close-mob",onClick:()=>{d()}},i.a.createElement(T.a,null)),i.a.createElement("div",{className:"mini-cart-product-container slot-modal whitetheme-modal"},i.a.createElement("div",{className:"mini-cart-style"},i.a.createElement("div",{className:"coupon-dialog-heading slot-margin"},i.a.createElement("div",{className:"slot-heading"},"Schedule Delivery")),i.a.createElement("div",{className:"slot-sub-heading"},"Select Date"),i.a.createElement("div",{className:"date-wrapper"},null===E||void 0===E?void 0:E.map((e,t)=>{var a,l,d,o;return i.a.createElement("div",{className:S(e,t),onClick:()=>{var a,l,i,d,o,n,r,c,u;((null===e||void 0===e||null===(a=e.deliveryDate)||void 0===a||null===(l=a.slots[0])||void 0===l?void 0:l.available)||(null===e||void 0===e||null===(i=e.deliveryDate)||void 0===i||null===(d=i.slots[1])||void 0===d?void 0:d.available))&&s(e,t),((null===e||void 0===e||null===(o=e.deliveryDate)||void 0===o||null===(n=o.slots[0])||void 0===n?void 0:n.available)||(null===e||void 0===e||null===(r=e.deliveryDate)||void 0===r||null===(c=r.slots[1])||void 0===c?void 0:c.available))&&g(null===e||void 0===e||null===(u=e.deliveryDate)||void 0===u?void 0:u.slots)}},(e=>{var t;let a=new Date(null===e||void 0===e||null===(t=e.deliveryDate)||void 0===t?void 0:t.slotDate);a=a.toUTCString(),A=a.substring(0,3).toUpperCase(),f=a.substring(5,7),b=a.substring(8,11).toUpperCase()})(e),(null===e||void 0===e||null===(a=e.deliveryDate)||void 0===a||null===(l=a.slots[0])||void 0===l?void 0:l.available)||(null===e||void 0===e||null===(d=e.deliveryDate)||void 0===d||null===(o=d.slots[1])||void 0===o?void 0:o.available)?null:i.a.createElement("div",{class:"Oval"}),i.a.createElement("div",{className:"dy-mnt-text"},A),i.a.createElement("div",{className:"dt-txt"},f),i.a.createElement("div",{className:"dy-mnt-text"},b))})),i.a.createElement("div",{className:"slt-exp"},i.a.createElement("div",{class:"Oval1"}),i.a.createElement("div",null,"Slot Full")),i.a.createElement("div",{className:"nt-txt"},"Note: You can schedule/reschedule delivery within 15 days from the order date")),i.a.createElement("button",{class:"card-button btn btn-default slt-btn-mob",onClick:()=>a(n,"click"),disable:E},"Continue")))))};const We=["svgRef","title"];function Ye(){return(Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(null,arguments)}const ze=e=>{let{svgRef:t,title:a}=e,l=function(e,t){if(null==e)return{};var a,l,i=function(e,t){if(null==e)return{};var a={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(-1!==t.indexOf(l))continue;a[l]=e[l]}return a}(e,t);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(l=0;l<d.length;l++)a=d[l],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}(e,We);return i.a.createElement("svg",Ye({width:25,height:25,viewBox:"0 0 25 25",ref:t},l),a?i.a.createElement("title",null,a):null,Ge||(Ge=i.a.createElement("g",{fill:"none",fillRule:"evenodd"},i.a.createElement("path",{d:"M0 0h25v25H0z"}),i.a.createElement("path",{d:"M11.152 3.906 2.56 18.75a1.562 1.562 0 0 0 1.347 2.344h17.188a1.562 1.562 0 0 0 1.347-2.344L13.848 3.906a1.553 1.553 0 0 0-2.696 0z",stroke:"#C72D3A",fill:"#C72D3A",strokeLinecap:"round",strokeLinejoin:"round"}),i.a.createElement("path",{stroke:"#000",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",d:"M12.54 10.156v3.907"}),i.a.createElement("circle",{fill:"#000",fillRule:"nonzero",cx:12.5,cy:17.578,r:1.172}))))},Ke=i.a.forwardRef((e,t)=>i.a.createElement(ze,Ye({svgRef:t},e)));a.p;let Xe=[];var qe=e=>{let{data:t,slotArr:a,code:d,setSlotArr:o,omsData:n,setDisablePaymentBtn:s,omsCall:r,isWaived:c}=e;const[u,m]=i.a.useState(!1),[v,p]=i.a.useState(),[g,E]=i.a.useState([]),[h,A]=i.a.useState(),[f,b]=i.a.useState(),[S,N]=i.a.useState(),[y,C]=i.a.useState(),I=Object(l.useRef)(null),[O,D]=Object(l.useState)(""),[L,P]=Object(l.useState)(""),[T,k]=Object(l.useState)(""),[_,B]=Object(l.useState)(!1),[F,w]=Object(l.useState)();Object(l.useEffect)(()=>{if(null===t||void 0===t?void 0:t.hasOwnProperty("exchangeAmount")){var e;const a=null===t||void 0===t||null===(e=t.product)||void 0===e?void 0:e.code,l="/productdetails/allchannels/v1/dummysku/exchange?productCode=".concat(a);Object(Ie.p)(l).then(e=>{w(e.data)}).catch(()=>{})}},[t]),Object(l.useEffect)(()=>{if(g&&(null===g||void 0===g?void 0:g.length)>0&&(!t.hasOwnProperty("exchangeAmount")||t.hasOwnProperty("exchangeAmount")&&F)){if("true"===localStorage.getItem("addressSlotChanged"))Q(d,"update"),0===(null===t||void 0===t?void 0:t.entryNumber)&&localStorage.setItem("addressSlotChanged",!1);else{let e=a&&(null===a||void 0===a?void 0:a.length)>0&&(null===a||void 0===a?void 0:a.filter(e=>(null===e||void 0===e?void 0:e.id)===d&&e.cartEntryId===(null===t||void 0===t?void 0:t.entryNumber)));0!==(null===e||void 0===e?void 0:e.length)&&0!=e||Q(d,"default")}}},[g,F]);Object(l.useEffect)(()=>{var e,a,l,i,s,c,u,v,g,h,f,S,y,I;B(!1);let O=null===n||void 0===n||null===(e=n.promise)||void 0===e||null===(a=e.suggestedOption)||void 0===a||null===(l=a.option)||void 0===l?void 0:l.promiseLines.promiseLine.filter(e=>"HDEL"==e.fulfillmentType);if((null===t||void 0===t?void 0:t.entryNumber)===(null===O||void 0===O?void 0:O.length)-1){let e=localStorage.getItem("expiration");if(e){(new Date).getTime()>parseInt(e)&&(localStorage.removeItem("slots"),localStorage.removeItem("sltArr"),localStorage.removeItem("expiration"),Xe=[],o([]),E([]),N([]),C([]),A([]),b([]),p([]))}}if((null===n||void 0===n?void 0:n.promise)&&(null===n||void 0===n||null===(i=n.promise)||void 0===i?void 0:i.suggestedOption)&&(null===n||void 0===n||null===(s=n.promise)||void 0===s?void 0:s.suggestedOption.option)&&(null===n||void 0===n||null===(c=n.promise)||void 0===c||null===(u=c.suggestedOption)||void 0===u||null===(v=u.option)||void 0===v?void 0:v.promiseLines)&&(null===n||void 0===n||null===(g=n.promise)||void 0===g||null===(h=g.suggestedOption)||void 0===h||null===(f=h.option)||void 0===f?void 0:f.promiseLines.promiseLine)){var D,L,P,T;let e=n&&n.promise.suggestedOption.option.promiseLines.promiseLine.filter(e=>(null===e||void 0===e?void 0:e.itemID)===d&&"CromaTransportService"===e.scac&&!0===e.zipEnabledInTMS&&"HDEL"===e.fulfillmentType),a=null===n||void 0===n||null===(D=n.promise)||void 0===D||null===(L=D.suggestedOption)||void 0===L||null===(P=L.option)||void 0===P?void 0:P.promiseLines.promiseLine.filter(e=>"CromaTransportService"===(null===e||void 0===e?void 0:e.scac)&&!0===e.zipEnabledInTMS&&"HDEL"===e.fulfillmentType);if(e.length>0){var R,_,F,w,M,x,j,Q;if(null===(R=e[0])||void 0===R||null===(_=R.assignments)||void 0===_?void 0:_.assignment[0])(e=>{let t,a;var l,i,d,o;(t=e.deliveryDates.findIndex(e=>{var t,l,i,d,o,n,s,r;if((null===e||void 0===e||null===(t=e.deliveryDate)||void 0===t||null===(l=t.slots[0])||void 0===l?void 0:l.available)||(null===e||void 0===e||null===(i=e.deliveryDate)||void 0===i||null===(d=i.slots[1])||void 0===d?void 0:d.available))return(null===e||void 0===e||null===(o=e.deliveryDate)||void 0===o||null===(n=o.slots[0])||void 0===n?void 0:n.available)?a=0:(null===e||void 0===e||null===(s=e.deliveryDate)||void 0===s||null===(r=s.slots[1])||void 0===r?void 0:r.available)&&(a=1),!0}),t<0)?(m(!1),E([]),N([]),C([]),A([]),b([]),p([])):(A(null===e||void 0===e||null===(l=e.deliveryDates[t])||void 0===l||null===(i=l.deliveryDate)||void 0===i?void 0:i.slotDate),b(null===e||void 0===e||null===(d=e.deliveryDates[t])||void 0===d||null===(o=d.deliveryDate)||void 0===o?void 0:o.slots[a]),p({time:a,slot:t}),E(null===e||void 0===e?void 0:e.deliveryDates),N(null===e||void 0===e?void 0:e.lmdFcId),C(null===e||void 0===e?void 0:e.offset))})(null===(j=e[0])||void 0===j||null===(Q=j.assignments)||void 0===Q?void 0:Q.assignment[0]),B(!0);(null===(F=e[0])||void 0===F||null===(w=F.assignments)||void 0===w||null===(M=w.assignment[0])||void 0===M||null===(x=M.deliveryDates)||void 0===x?void 0:x.length)>0&&(t.avaiableDelivery=!0)}else localStorage.removeItem("sltArr"),localStorage.removeItem("slots"),localStorage.removeItem("slotTime"),localStorage.removeItem("expiration");(null===(T=a[(null===a||void 0===a?void 0:a.length)-1])||void 0===T?void 0:T.itemID)===d&&a.forEach(e=>{var a,l,i;0===(null===e||void 0===e||null===(a=e.assignments)||void 0===a||null===(l=a.assignment[0])||void 0===l||null===(i=l.deliveryDates)||void 0===i?void 0:i.length)&&(t.avaiableDelivery=!1)})}var V,H,U;(null===n||void 0===n?void 0:n.promise)&&(null===n||void 0===n||null===(S=n.promise)||void 0===S?void 0:S.suggestedOption)&&(null===n||void 0===n||null===(y=n.promise)||void 0===y||null===(I=y.suggestedOption)||void 0===I?void 0:I.option)&&k(null===n||void 0===n||null===(V=n.promise)||void 0===V||null===(H=V.suggestedOption)||void 0===H||null===(U=H.option)||void 0===U?void 0:U.isTMSError);if(0===(null===t||void 0===t?void 0:t.entryNumber)){if(sessionStorage.getItem("sltFlag")||(sessionStorage.setItem("sltFlag",!0),setInterval(()=>{var e,t;localStorage.removeItem("slots"),localStorage.removeItem("sltArr"),localStorage.removeItem("expiration"),Xe=[],o([]),E([]),N([]),C([]),A([]),b([]),p([]),"/checkout"===(null===(e=window)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.pathname)&&r()},9e5)),!localStorage.getItem("expiration")){let e=new Date;localStorage.setItem("expiration",e.setTime(e.getTime()+72e5))}}},[n]);const M=(e,t)=>{p({time:t,slot:e}),"true"===T?(localStorage.removeItem("sltArr"),localStorage.removeItem("slots"),localStorage.removeItem("slotTime"),localStorage.removeItem("expiration"),o([]),function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];D(t),P(e),a&&localStorage.setItem("setAutoHide",a),I.current&&I&&I.current&&I.current.openToast()}("Something went wrong",G.f.ERROR)):m(!0),"undefined"!==typeof Storage&&localStorage.getItem("slot_unavailable")&&localStorage.removeItem("slot_unavailable")},x=()=>{localStorage.removeItem("slotTime"),m(!1),p({time:0,slot:0})},j=e=>{let t=new Date(e);return"".concat(t.toUTCString().substring(5,7)," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][t.getUTCMonth()])},Q=(e,l)=>{var i,d;Xe=localStorage.getItem("slots")&&"undefined"!==localStorage.getItem("slots")&&null!==localStorage.getItem("slots")&&"null"!==localStorage.getItem("slots")?JSON.parse(localStorage.getItem("slots")):[];let n={date:j(h),time:f,id:e,dateId:v.slot,timeId:v.time,cartEntryId:null===t||void 0===t?void 0:t.entryNumber};const s=e=>{var a,l;return(null===e||void 0===e?void 0:e.external_reference_id)===(null===t||void 0===t||null===(a=t.product)||void 0===a?void 0:a.code)&&(null===e||void 0===e||null===(l=e.items[0])||void 0===l?void 0:l.sku)===(null===t||void 0===t?void 0:t.entryNumber)};let r=[];const c=()=>{var e;const a=null===t||void 0===t||null===(e=t.qcValidationData)||void 0===e?void 0:e.entry;return null===a||void 0===a?void 0:a.map(e=>"".concat(e.key,"-").concat(e.value))},u=()=>{var e;const a=null===t||void 0===t||null===(e=t.qcValidationData)||void 0===e?void 0:e.entry;return new Array(null===a||void 0===a?void 0:a.length).fill("")};let m=[];if("ZPAK"===(null===t||void 0===t||null===(i=t.product)||void 0===i?void 0:i.SAP_MATERIAL_TYPE)){var p;let e=(null===t||void 0===t||null===(p=t.product)||void 0===p?void 0:p.SAP_BOM_DESC).split(",");for(let a=0;a<e.length;a++){var g,E,A;m.push({offset_in_minutes:y,external_product_id:e[a],mrp:(null===t||void 0===t||null===(g=t.totalPriceWithoutDiscount)||void 0===g?void 0:g.value).toString(),sp:(null===t||void 0===t||null===(E=t.totalPrice)||void 0===E?void 0:E.value).toString(),quantity:null===t||void 0===t?void 0:t.quantity,sku:null===t||void 0===t?void 0:t.entryNumber,additional_info:{category:null===t||void 0===t||null===(A=t.product)||void 0===A?void 0:A.SAP_CATEGORY_NAME}})}}else{var b,N,C,I;m=[{offset_in_minutes:y,external_product_id:null===t||void 0===t||null===(b=t.product)||void 0===b?void 0:b.code,mrp:(null===t||void 0===t||null===(N=t.totalPriceWithoutDiscount)||void 0===N?void 0:N.value).toString(),sp:(null===t||void 0===t||null===(C=t.totalPrice)||void 0===C?void 0:C.value).toString(),quantity:null===t||void 0===t?void 0:t.quantity,sku:null===t||void 0===t?void 0:t.entryNumber,additional_info:{category:null===t||void 0===t||null===(I=t.product)||void 0===I?void 0:I.SAP_CATEGORY_NAME}}]}var O,D,L,P,T;t.hasOwnProperty("exchangeAmount")?r=[{order_type:"Trade-in",fulfillmentType:"HDEL",external_reference_id:null===t||void 0===t||null===(O=t.product)||void 0===O?void 0:O.code,external_fc_id:S,package:null,items:m,slots:{slot_date:h,slot_definition_id:parseInt(null===f||void 0===f?void 0:f.slotDefinitionId),template_slot_id:parseInt(null===f||void 0===f?void 0:f.templateSlotId)}},{order_type:"Pickup",fulfillmentType:"HDEL",external_reference_id:null===t||void 0===t||null===(D=t.product)||void 0===D?void 0:D.code,external_fc_id:S,package:null,items:[{offset_in_minutes:y,external_product_id:F,mrp:(null===t||void 0===t||null===(L=t.totalPriceWithoutDiscount)||void 0===L?void 0:L.value).toString(),sp:(null===t||void 0===t||null===(P=t.totalPrice)||void 0===P?void 0:P.value).toString(),quantity:1,sku:null===t||void 0===t?void 0:t.entryNumber,reason_id:17}],slots:{slot_date:h,slot_definition_id:parseInt(null===f||void 0===f?void 0:f.slotDefinitionId),template_slot_id:parseInt(null===f||void 0===f?void 0:f.templateSlotId)},actions:[{order_type:["Normal","Replacement","Trade-In","T-Pickup","R-Pickup"],action_code:121301,external_product_id:F,action_desc:c(),value:u()}]}]:r=[{order_type:"Normal",fulfillmentType:"HDEL",external_fc_id:S,package:null,external_reference_id:null===t||void 0===t||null===(T=t.product)||void 0===T?void 0:T.code,items:m,slots:{slot_date:h,slot_definition_id:parseInt(null===f||void 0===f?void 0:f.slotDefinitionId),template_slot_id:parseInt(null===f||void 0===f?void 0:f.templateSlotId)}}];if("default"===l||(null===(d=Xe)||void 0===d?void 0:d.findIndex(s))<0)Xe=0===Xe.length?[...r]:[...Xe,...r];else{var k;let e=null===(k=Xe)||void 0===k?void 0:k.findIndex(s);t.hasOwnProperty("exchangeAmount")?(Xe[e]=r[0],Xe[e+1]=r[1]):Xe[e]=r[0]}localStorage.setItem("slots",JSON.stringify(Xe));let R=Array.isArray(a)?a:[],_=null===a||void 0===a?void 0:a.findIndex(e=>(null===e||void 0===e?void 0:e.id)===(null===n||void 0===n?void 0:n.id)&&(null===e||void 0===e?void 0:e.cartEntryId)===n.cartEntryId);"default"===l||_<0?R.push(n):R[_]=n,o(R),localStorage.setItem("sltArr",JSON.stringify(a)),x()};return i.a.createElement(i.a.Fragment,null,_&&g&&(g.length>0?(e=>{var l,d,o,n,s,r,u,m,v,p,g,E,h;let A,f=a&&(null===a||void 0===a?void 0:a.length)>0&&a.filter(t=>(null===t||void 0===t?void 0:t.id)===e);return A=(null===f||void 0===f?void 0:f.length)>=2?f&&(null===f||void 0===f?void 0:f.length)>0&&f.filter(e=>e.cartEntryId===(null===t||void 0===t?void 0:t.entryNumber)):f,i.a.createElement(i.a.Fragment,null,A&&(null===(l=A)||void 0===l?void 0:l.length)>0&&i.a.createElement("div",{className:""},R.a.FREE_DELIVERY_TEXT," ",null===(d=A[0])||void 0===d?void 0:d.date," ",(new Date).getFullYear()," "," "),A&&(null===(o=A)||void 0===o?void 0:o.length)>0?i.a.createElement(i.a.Fragment,null," ","undefined"!==typeof Storage&&localStorage.getItem("slot_unavailable")?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"not-avail-warning"},i.a.createElement(Ke,null))," ",i.a.createElement("div",{className:"unavail-text"}," Slot Unavailable")," "):""," ",i.a.createElement("div",{className:"undefined"!==typeof Storage&&localStorage.getItem("slot_unavailable")?"terms-link reschedule-link slot-not-avail break-line":"terms-link reschedule-link break-line",onClick:()=>{var e,t;return M(null===(e=A[0])||void 0===e?void 0:e.dateId,null===(t=A[0])||void 0===t?void 0:t.timeId)}}," reschedule delivery"),(null===t||void 0===t?void 0:t.product)&&(null===(n=t.product)||void 0===n||null===(s=n.hdelCharge)||void 0===s?void 0:s.value)>0&&i.a.createElement("span",null," | ",i.a.createElement("span",{className:c?"amount-strike":""}," \u20b9",null===(r=t.product.hdelCharge)||void 0===r?void 0:r.value)),(c||(null===t||void 0===t?void 0:t.product)&&0===(null===(u=t.product)||void 0===u||null===(m=u.hdelCharge)||void 0===m?void 0:m.value))&&i.a.createElement("span",null," | Free")):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"undefined"!==typeof Storage&&localStorage.getItem("slot_unavailable")?"terms-link reschedule-link slot-not-avail break-line":"terms-link reschedule-lin break-line",onClick:()=>{var e,t;return M(null===(e=A[0])||void 0===e?void 0:e.dateId,null===(t=A[0])||void 0===t?void 0:t.timeId)}}," schedule delivery"),(null===t||void 0===t?void 0:t.product)&&(null===(v=t.product)||void 0===v||null===(p=v.hdelCharge)||void 0===p?void 0:p.value)>0&&i.a.createElement("span",null,"| ",i.a.createElement("span",{className:c?"amount-strike":""}," \u20b9",null===(g=t.product.hdelCharge)||void 0===g?void 0:g.value)),(c||(null===t||void 0===t?void 0:t.product)&&0===(null===(E=t.product)||void 0===E||null===(h=E.hdelCharge)||void 0===h?void 0:h.value))&&i.a.createElement("span",null," | Free")))})(d):i.a.createElement("span",{className:"no-slot-color"},"The delivery slot is not available. Please remove the item to go ahead.")),i.a.createElement(Je,{slotData:g,selectSlot:Q,handleClose:x,open:u,code:d,setSlotDetailsFunc:(e,t)=>{var a,l,i,d,o,n,s;let r;A(null===e||void 0===e||null===(a=e.deliveryDate)||void 0===a?void 0:a.slotDate),(null===e||void 0===e||null===(l=e.deliveryDate)||void 0===l||null===(i=l.slots[0])||void 0===i?void 0:i.available)?r=0:(null===e||void 0===e||null===(d=e.deliveryDate)||void 0===d||null===(o=d.slots[1])||void 0===o?void 0:o.available)&&(r=1),localStorage.setItem("slotTime",JSON.stringify(null===e||void 0===e||null===(n=e.deliveryDate)||void 0===n?void 0:n.slots[r])),b(null===e||void 0===e||null===(s=e.deliveryDate)||void 0===s?void 0:s.slots[r]),p({time:r,slot:t})},setSlotTimeFunc:(e,t)=>{localStorage.setItem("slotTime",JSON.stringify(e)),b(e),p({time:t,slot:v.slot})},color:v}),i.a.createElement(Ue.a,{ref:I,varient:O,msg:L}))};var Ze=e=>{var t,a;let{shipNodeObj:d,data:o,index:n,storeSelected:s,setStoreModalSelect:r,storeModalSelect:c,selectedshipName:u,SetSelectedshipName:m}=e;const[v,p]=Object(l.useState)("");Object(l.useEffect)(()=>{Object.keys(d).length>0&&p(d[o.shipNode])},[o,d]);return i.a.createElement(i.a.Fragment,null,v&&i.a.createElement("div",{key:n,className:"shipping-dialog-list-data new-shipping-list"},i.a.createElement("div",{style:{display:"flex",marginBottom:"10px"}},i.a.createElement(P,{classes:{root:"address-list-radio"},className:"shipping-radio",checked:(null===u||void 0===u?void 0:u.name)===o.shipNode,onChange:e=>{m(v)},value:n,name:"address".concat(n)}),(null===v||void 0===v?void 0:v.displayName)&&i.a.createElement("label",{className:"shipping-label store-mobile-ttx",htmlFor:"address",style:{marginRight:"10px"}},null===v||void 0===v?void 0:v.displayName)),i.a.createElement("div",{className:"shipping-dialog-address"},i.a.createElement("p",{className:"cart-store-address"},null===(t=v.address)||void 0===t?void 0:t.formattedAddress),i.a.createElement("p",{className:"store-timing-pick"},"Store Timing - ",null===v||void 0===v||null===(a=v.openingHours)||void 0===a?void 0:a.name," "))))};var $e=e=>{let{open:t,setStoremodal:a,callDeliveryModeAPI:d,shipNodeObj:o,cartStoresList:n,setStoreselected:s,storeSelected:c,storeModalSelect:v,setStoreModalSelect:p,productId:g=""}=e;const[E]=Object(Z.a)(),[h,A]=Object(l.useState)(null);Object(l.useEffect)(()=>{A(c)},[c]);const f=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a(!1),e||A(c)},b=()=>{s(h),f(!0)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{classes:{paper:r.a.CROMA_DARK_THEME?"MuiDialog-paper-list-address-store mini-cart-dailog":"dark-theme MuiDialog-paper-list-address-store mini-cart-dailog"},onClose:()=>f(),open:t&&E>767,disableEscapeKeyDown:!0,disableBackdropClick:!0},i.a.createElement(m.a,null,i.a.createElement("div",{className:"addAddressCross checkout-store-modal-cross",onClick:()=>f()},r.a.CROMA_DARK_THEME?i.a.createElement(T.a,null):i.a.createElement(k.a,null)),i.a.createElement("div",{className:"shipping-dialog check-shipping"},i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"shipping-dialog-title new-store-pick"},"Store Pickup"),i.a.createElement("div",{className:"shipping-dialog-divider"}),i.a.createElement("div",{className:"shipping-dialog-maindiv"},i.a.createElement("div",{className:"shipping-dialog-subtitle new-select-address"},"Select Store"),i.a.createElement("div",{className:"shipdialog-addresswrap"},null===n||void 0===n?void 0:n.map((e,t)=>-1==(e&&e.products&&e.products.findIndex(e=>e==g))?null:i.a.createElement(Ze,{data:e,storeModalSelect:c,setStoreModalSelect:s,index:t,shipNodeObj:o,selectedshipName:h,SetSelectedshipName:A}))),i.a.createElement("div",{className:"shipdialog-btnwrap"},i.a.createElement("button",{className:"shipdialog-btn",onClick:()=>{b()}},"Confirm Store Address"))))))),i.a.createElement(u.a,{classes:{paper:r.a.CROMA_DARK_THEME?"MuiDialog-paper-list-address-store mini-cart-dailog":"dark-theme MuiDialog-paper-list-address-store mini-cart-dailog"},onClose:()=>f(),open:t&&E<=767,disableEscapeKeyDown:!0,disableBackdropClick:!0},i.a.createElement(m.a,null,i.a.createElement("div",{className:"addAddressCross checkout-store-modal-cross",onClick:()=>f()},r.a.CROMA_DARK_THEME?i.a.createElement(T.a,null):i.a.createElement(k.a,null)),i.a.createElement("div",{className:"shipping-dialog"},i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"shipping-dialog-title"},"Store Pickup"),i.a.createElement("div",{className:"shipping-dialog-divider"}),i.a.createElement("div",{className:"shipping-dialog-maindiv"},i.a.createElement("div",{className:"shipping-dialog-subtitle"},"Select Store"),i.a.createElement("div",{className:"shipdialog-addresswrap"},null===n||void 0===n?void 0:n.map((e,t)=>i.a.createElement(Ze,{data:e,storeModalSelect:c,setStoreModalSelect:s,index:t,shipNodeObj:o,selectedshipName:h,SetSelectedshipName:A})))),i.a.createElement("div",{className:"shipdialog-btnwrap"},i.a.createElement("button",{className:"shipdialog-btn",onClick:()=>{b()}},"Confirm Store Address")))))))},et=a(64);a(18).Link;a(926);var tt=a(17),at=a(15);var lt=(e,t,a,l,i,d,o,n,s)=>{var r;const c=Object(Q.a)();let u="",m="",v="",p="",g="",E="",h=Object(tt.a)(),A=h&&(h.previousPagename?h.previousPagename:""),f=h&&(h.currentPagename?h.currentPagename:""),b=Object(at.a)(),S=[],N=[];N="true"===d?"yes":"NA",c?(m="registered user",u=c):(m="guest user",u=""),g="tcp"===localStorage.getItem("isTCPBody")?"yes":"No",v=localStorage.getItem("3hrPincode")?JSON.parse(localStorage.getItem("3hrPincode")):"",p=localStorage.getItem("preferredStore")?JSON.parse(localStorage.getItem("preferredStore")):"",(null===s||void 0===s?void 0:s.entries)&&(null===s||void 0===s||null===(r=s.entries)||void 0===r?void 0:r.length)>0&&s.entries.forEach(e=>{var t;if(null===(t=e.product)||void 0===t?void 0:t.pdpBreadcrumbs){let t=[];if(e.product.pdpBreadcrumbs.length>2)for(let a=0;a<=e.product.pdpBreadcrumbs.length-2;a++)t.push(e.product.pdpBreadcrumbs[a].name.replace(/[`|;'",]/gi,""));else t.push(e.product.pdpBreadcrumbs[0].name.replace(/[`|;'",]/gi,""));t.length>0?(t=t.join(":"),S.push(t)):S.push("")}else{var a,l;const t=null===(a=e.product)||void 0===a||null===(l=a.categories)||void 0===l?void 0:l.map((function(e){return(null===e||void 0===e?void 0:e.name)?null===e||void 0===e?void 0:e.name.replace(/[`|;'",]/gi,""):""})).join(":");t?S.push(t):S.push("")}}),E="HDEL"===o?"Delivery Option : Standard Delivery":"SDEL"===o?"Delivery Option : Zip Delivery by "+n:"Delivery Option : Store Pickup";const y={page:{pageName:f,channel:"croma:".concat(f),prevPageName:A,pinCode:"".concat(v),loginStatus:m,customerID:u,emailID:b.user_email,mobNo:b.user_mobile,storeName:p,tcpCustomer:g},product:{productName:e,productCategory:S,productSKU:t,originalPrice:"".concat(a),price:"".concat(l),quantity:"".concat(i),valueAddedService:N},event:{linkName:E,linkType:"checkout_clicked",linkPosition:"Delivery option Radio button"}};"undefined"!==typeof window&&(window.digitalData=y);try{"undefined"!==typeof window._satellite&&window._satellite&&window._satellite.track("otherClick")}catch(C){}};var it=e=>{var t,a,d,n,s,r,c,u,m,v,p,g,E,h,A,f,b,S,N,y,C,I,O,D;let{allFulfillmentData:L,data:P,cartStoresList:T,selectedDeliveryOption:k,setSelectedDeliveryOption:_,omsData:B,setDisablePaymentBtn:F,omsCall:w,isCSC:M,setSlotArr:x,slotArr:j,isWaived:Q,outofStockPrdts:V,refreshDeliveryMode:H,shipNodeObj:U,showLoader:G}=e;const[J,W]=Object(l.useState)(!1),[Y,z]=Object(l.useState)(null),[K,X]=Object(l.useState)({storePickup:!1,threeHourDelivery:!1,homeDelivery:!1,selected:"",storeId:""});let q=P&&(null===P||void 0===P?void 0:P.product)&&(null===P||void 0===P||null===(t=P.product)||void 0===t?void 0:t.name),Z=P&&(null===P||void 0===P?void 0:P.product)&&(null===P||void 0===P||null===(a=P.product)||void 0===a?void 0:a.code),$=P&&(null===P||void 0===P||null===(d=P.cartEntryQunatityRespectivePriceData)||void 0===d||null===(n=d.strikeThroughPrice)||void 0===n?void 0:n.value),ee=P&&(null===P||void 0===P||null===(s=P.cartEntryQunatityRespectivePriceData)||void 0===s||null===(r=s.displayPrice)||void 0===r?void 0:r.value),te=P&&(null===P||void 0===P?void 0:P.quantity),ae=P&&(null===P||void 0===P?void 0:P.vasProduct);Object(l.useEffect)(()=>{H&&(X({storePickup:!1,threeHourDelivery:!1,homeDelivery:!1,selected:"",storeId:""}),z(null))},[H]);const le=e=>{if(e&&U[e]){const t=U[e];t&&z(t)}else setTimeout(()=>{le(e)},800)};Object(l.useEffect)(()=>{var e,t,a;let l=Object(o.a)({},K),i=[],d="";var n,s,r,c,u,m,v,p,g;(i=localStorage.getItem("selectedDeliveryOptiontmp")?JSON.parse(localStorage.getItem("selectedDeliveryOptiontmp")):[...k],M||(l.storePickup=L.STOR.products.find(e=>e.id===P.product.code)),l.threeHourDelivery=L.SDEL.products.find(e=>e.id===P.product.code),l.homeDelivery=L.HDEL.products.find(e=>e.id===P.product.code),l.homeDelivery&&(null===(e=l.homeDelivery)||void 0===e?void 0:e.option))&&("CromaTransportService"===(null===(n=l.homeDelivery)||void 0===n||null===(s=n.option)||void 0===s?void 0:s.scac)&&!0===(null===(r=l.homeDelivery)||void 0===r||null===(c=r.option)||void 0===c?void 0:c.zipEnabledInTMS)&&!(null===(u=l.homeDelivery)||void 0===u||null===(m=u.option)||void 0===m||null===(v=m.assignments)||void 0===v||null===(p=v.assignment[0])||void 0===p||null===(g=p.deliveryDates)||void 0===g?void 0:g.length)>0&&(l.homeDelivery=!1));if(P.isFreebieProduct&&(l.threeHourDelivery=!1,l.storePickup=!1),(null===P||void 0===P||null===(t=P.deliveryMode)||void 0===t?void 0:t.code)&&("cromaStorePickup"==P.deliveryMode.code&&l.storePickup?l.selected="STOR":"cromaExpressDelivery"==P.deliveryMode.code&&l.threeHourDelivery?l.selected="SDEL":"cromaHomeDelivery"==P.deliveryMode.code&&l.homeDelivery&&(l.selected="HDEL")),V&&V.length>0){const e=V.find(e=>e.id==P.product.code);e&&("SDEL"==e.deliverymode?(l.threeHourDelivery=!1,l.selected=e.updatedDeliveryMode):"HDEL"==e.deliverymode?(l.homeDelivery=!1,l.selected=e.updatedDeliveryMode):"STOR"==e.deliverymode&&(l.storePickup=!1,l.selected=e.updatedDeliveryMode))}if(P.vasProduct&&""==l.selected&&l.homeDelivery&&(l.selected="HDEL"),""==l.selected&&l.threeHourDelivery)l.selected="SDEL";else if(""==l.selected&&l.homeDelivery)l.selected="HDEL";else if(""==l.selected&&l.storePickup){d=l.storePickup.option.assignments.assignment[0].shipNode;const e=i.findIndex(e=>e.code===P.product.code&&e.entryNumber===P.entryNumber&&"STOR"===P.deliveryMode);e>-1&&(d=i[e].storeId),d?(l.selected="STOR",le(d)):(l.selected="",l.storePickup=!1,z(null))}if(l.storePickup){d=l.storePickup.option.assignments.assignment[0].shipNode;const e=i.findIndex(e=>e.code===P.product.code&&e.entryNumber===P.entryNumber&&"STOR"===P.deliveryMode);e>-1&&(d=i[e].storeId),d?le(d):l.storePickup=!1}if(i&&i.length){const e=i.findIndex(e=>e.code==P.product.code&&e.entryNumber==P.entryNumber);e>-1?i[e]={code:P.product.code,entryNumber:P.entryNumber,deliveryMode:l.selected,storeId:d}:i.push({code:P.product.code,entryNumber:P.entryNumber,deliveryMode:l.selected,storeId:d})}else i.push({code:P.product.code,entryNumber:P.entryNumber,deliveryMode:l.selected,storeId:d});l.storePickup||l.threeHourDelivery||l.homeDelivery||(null===P||void 0===P||null===(a=P.product)||void 0===a?void 0:a.isDigital)?P.avaiableDelivery=!0:(G||(P.avaiableDelivery=!1),l.selected="",(L.HDEL.status||L.SDEL.status||L.STOR.status)&&F(!0)),X(l),localStorage.setItem("selectedDeliveryOptiontmp",JSON.stringify(i)),_(i)},[L,P,V]),Object(l.useEffect)(()=>{if(Y){const e=[...k],t=e.findIndex(e=>e.code==P.product.code&&e.entryNumber==P.entryNumber);t>-1&&(e[t]={code:e[t].code,entryNumber:e[t].entryNumber,deliveryMode:e[t].deliveryMode,storeId:null===Y||void 0===Y?void 0:Y.name},_(e))}},[Y]),Object(l.useEffect)(()=>{const e=k.findIndex(e=>e.code===P.product.code&&e.entryNumber===P.entryNumber&&"STOR"===e.deliveryMode);if(e>-1){const t=k[e].storeId;t&&t!==(null===Y||void 0===Y?void 0:Y.name)&&le(t)}},[k]);const ie=(e,t)=>{let a="";t&&(a=de(t)),lt(q,Z,$,ee,te,ae,e,a,P),X(Object(o.a)(Object(o.a)({},K),{},{selected:e}));const l=[...k],i=l.findIndex(e=>e.code==P.product.code&&e.entryNumber==P.entryNumber);i>-1?l[i]={code:P.product.code,entryNumber:P.entryNumber,deliveryMode:e,storeId:null===Y||void 0===Y?void 0:Y.name}:l.push({code:P.product.code,entryNumber:P.entryNumber,deliveryMode:e,storeId:null===Y||void 0===Y?void 0:Y.name}),F(!1),_(l)},de=e=>{if(e){const t=["January","February","March","April","May","June","July","August","September","October","November","December"],a=null===e||void 0===e?void 0:e.substring(0,10),l=null===a||void 0===a?void 0:a.replace(/-/gi,"/"),i=new Date(l),d=(new Date).getDate(),o=i.getDate();if(o===d)return"today";if(o===d+1)return"tomorrow";return i.getDate()+" "+t[i.getMonth()]+" "+i.getFullYear()}return""};return i.a.createElement(i.a.Fragment,null,(null===P||void 0===P?void 0:P.vasProduct)||(null===P||void 0===P||null===(c=P.product)||void 0===c?void 0:c.name.toLowerCase().includes("onsitego"))||(null===P||void 0===P||null===(u=P.product)||void 0===u?void 0:u.name.toLowerCase().includes("zopper"))?i.a.createElement(i.a.Fragment,null," "):i.a.createElement(i.a.Fragment,null,K.storePickup||K.threeHourDelivery||K.homeDelivery?i.a.createElement("div",{className:"shipping-address-dialog"},K.threeHourDelivery&&i.a.createElement("div",{className:"checkout-dialog-item"},i.a.createElement("span",{className:"radio-checkout"},i.a.createElement("input",{type:"radio",name:"fulfilment_".concat(P.product.code,"_").concat(P.entryNumber),id:"zip_delivery_".concat(P.product.code,"_").concat(P.entryNumber),checked:"SDEL"===K.selected,onChange:()=>{ie("SDEL",K.threeHourDelivery.option.assignments.assignment[0].deliveryDate)}})),i.a.createElement("h3",{className:"multiline-font-size"},R.a.ZIP_DELIVERY_BY," ",i.a.createElement("span",null," ",de(K.threeHourDelivery.option.assignments.assignment[0].deliveryDate),(null===P||void 0===P?void 0:P.product)&&(null===(m=P.product)||void 0===m||null===(v=m.sdelCharge)||void 0===v?void 0:v.value)>0&&i.a.createElement("span",null," | ",i.a.createElement("span",{className:Q?"amount-strike":""},"\u20b9",null===(p=P.product.sdelCharge)||void 0===p?void 0:p.value," ")),(Q||(null===P||void 0===P?void 0:P.product)&&0===(null===(g=P.product)||void 0===g||null===(E=g.sdelCharge)||void 0===E?void 0:E.value))&&i.a.createElement("span",null," | Free")))),K.homeDelivery&&i.a.createElement("div",{className:"checkout-dialog-item",style:{flex:.8}},i.a.createElement("span",{className:"radio-checkout"},i.a.createElement("input",{type:"radio",name:"fulfilment_".concat(P.product.code,"_").concat(P.entryNumber),id:"home_delivery_".concat(P.product.code,"_").concat(P.entryNumber),checked:"HDEL"===K.selected,onChange:()=>{ie("HDEL")}})),i.a.createElement("h3",{className:"multiline-font-size"},"CromaTransportService"===(null===(h=K.homeDelivery)||void 0===h||null===(A=h.option)||void 0===A?void 0:A.scac)&&!0===(null===(f=K.homeDelivery)||void 0===f||null===(b=f.option)||void 0===b?void 0:b.zipEnabledInTMS)?i.a.createElement(qe,{data:P,slotArr:j,code:P.product.code,setSlotArr:x,omsData:B,setDisablePaymentBtn:F,omsCall:w,isWaived:Q}):i.a.createElement(i.a.Fragment,null,R.a.FREE_DELIVERY_TEXT,i.a.createElement("span",null," ",K.homeDelivery.option.assignments.assignment[0].deliveryDate?de(K.homeDelivery.option.assignments.assignment[0].deliveryDate):R.a.STORE_NOT_AVAILABLE,!P.isFreebieProduct&&(null===P||void 0===P?void 0:P.product)&&(null===(S=P.product)||void 0===S||null===(N=S.hdelCharge)||void 0===N?void 0:N.value)>0&&i.a.createElement("span",null," | "),!P.isFreebieProduct&&(null===P||void 0===P?void 0:P.product)&&(null===(y=P.product)||void 0===y||null===(C=y.hdelCharge)||void 0===C?void 0:C.value)>0&&i.a.createElement("span",{className:Q?"amount-strike":""},"\u20b9",null===(I=P.product.hdelCharge)||void 0===I?void 0:I.value," "),(Q||(null===P||void 0===P?void 0:P.product)&&0===(null===(O=P.product)||void 0===O||null===(D=O.hdelCharge)||void 0===D?void 0:D.value)||P.isFreebieProduct)&&i.a.createElement("span",null," | Free"))))),K.storePickup&&!M&&i.a.createElement("div",{className:"checkout-dialog-item"},i.a.createElement("span",{className:"radio-checkout"}," ",i.a.createElement("input",{type:"radio",name:"fulfilment_".concat(P.product.code,"_").concat(P.entryNumber),id:"store_delivery_".concat(P.product.code,"_").concat(P.entryNumber),checked:"STOR"===K.selected,onChange:()=>{ie("STOR")}})," "),i.a.createElement("h3",null,R.a.STORE_PICKUP," \xa0",i.a.createElement("a",{className:"break-line hyperlink-default store",onClick:()=>{W(!0)}}," ",null===Y||void 0===Y?void 0:Y.displayName," ")))):i.a.createElement(i.a.Fragment,null)),i.a.createElement($e,{open:J,setStoremodal:W,shipNodeObj:U,cartStoresList:T,setStoreselected:z,storeSelected:Y,productId:Z}))},dt=a(1016),ot=a.n(dt);var nt=e=>{var t,a,d,n,s,r,c,u,m,v,p,g,E,h,A;let{allFulfillmentData:f,data:b,selectedDeliveryOption:S,setSelectedDeliveryOption:N,omsData:y,setDisablePaymentBtn:C,omsCall:I,isCSC:O,setSlotArr:D,slotArr:L,isWaived:P,outofStockPrdtModal:T,shipNodeObj:k,cartStoresList:_,casetype:B}=e;const[F,w]=Object(l.useState)({storePickup:!1,threeHourDelivery:!1,homeDelivery:!1,selected:"",storeId:""}),[M,x]=Object(l.useState)(null),[j,Q]=Object(l.useState)(!1);let V=b&&(null===b||void 0===b?void 0:b.product)&&(null===b||void 0===b||null===(t=b.product)||void 0===t?void 0:t.code);const H=e=>{if(e&&k[e]){const t=k[e];t&&x(t)}else setTimeout(()=>{H(e)},800)};Object(l.useEffect)(()=>{var e;let t=Object(o.a)({},F),a=[];var l,i,d,n,s,r,c,u,m;(a=localStorage.getItem("selectedDeliveryOptiontmp")?JSON.parse(localStorage.getItem("selectedDeliveryOptiontmp")):[...S],t.threeHourDelivery=f.SDEL.products.find(e=>e.id===b.product.code),t.homeDelivery=f.HDEL.products.find(e=>e.id===b.product.code),t.homeDelivery&&(null===(e=t.homeDelivery)||void 0===e?void 0:e.option))&&("CromaTransportService"===(null===(l=t.homeDelivery)||void 0===l||null===(i=l.option)||void 0===i?void 0:i.scac)&&!0===(null===(d=t.homeDelivery)||void 0===d||null===(n=d.option)||void 0===n?void 0:n.zipEnabledInTMS)&&!(null===(s=t.homeDelivery)||void 0===s||null===(r=s.option)||void 0===r||null===(c=r.assignments)||void 0===c||null===(u=c.assignment[0])||void 0===u||null===(m=u.deliveryDates)||void 0===m?void 0:m.length)>0&&(t.homeDelivery=!1));if(t.storePickup=f.STOR.products.find(e=>e.id===b.product.code),t.threeHourDelivery=f.SDEL.products.find(e=>e.id===b.product.code),T&&T.length>0){const e=T.find(e=>e.id==b.product.code);e&&("SDEL"==e.deliverymode?(t.threeHourDelivery=!1,t.selected=e.updatedDeliveryMode):"HDEL"==e.deliverymode?(t.homeDelivery=!1,t.selected=e.updatedDeliveryMode):"STOR"==e.deliverymode&&(t.storePickup=!1,t.selected=e.updatedDeliveryMode))}"STOR"===t.selected&&H(t.storePickup.option.assignments.assignment[0].shipNode),w(t)},[f,b,T]),Object(l.useEffect)(()=>{if(M){const e=[...S],t=e.findIndex(e=>e.code==b.product.code&&e.entryNumber==b.entryNumber);t>-1&&(e[t]={code:e[t].code,entryNumber:e[t].entryNumber,deliveryMode:e[t].deliveryMode,storeId:null===M||void 0===M?void 0:M.name},N(e))}},[M]);const U=e=>{if(e){const t=["January","February","March","April","May","June","July","August","September","October","November","December"],a=null===e||void 0===e?void 0:e.substring(0,10),l=null===a||void 0===a?void 0:a.replace(/-/gi,"/"),i=new Date(l),d=(new Date).getDate(),o=i.getDate();if(o===d)return"today";if(o===d+1)return"tomorrow";return i.getDate()+" "+t[i.getMonth()]+" "+i.getFullYear()}return""};return i.a.createElement(i.a.Fragment,null,F.storePickup||F.threeHourDelivery||F.homeDelivery?i.a.createElement("div",{className:"shipping-address-dialog four-one-two"},("sdeltohdel"==B||"stortohdel"==B)&&i.a.createElement("div",{className:"checkout-dialog-item",style:{flex:.8}},F.homeDelivery&&i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",{className:"multiline-font-size"},"CromaTransportService"===(null===(a=F.homeDelivery)||void 0===a||null===(d=a.option)||void 0===d?void 0:d.scac)&&!0===(null===(n=F.homeDelivery)||void 0===n||null===(s=n.option)||void 0===s?void 0:s.zipEnabledInTMS)?i.a.createElement(qe,{data:b,slotArr:L,code:b.product.code,setSlotArr:D,omsData:y,setDisablePaymentBtn:C,omsCall:I}):i.a.createElement(i.a.Fragment,null,R.a.FREE_DELIVERY_TEXT,i.a.createElement("span",null," ",F.homeDelivery.option.assignments.assignment[0].deliveryDate?U(F.homeDelivery.option.assignments.assignment[0].deliveryDate):R.a.STORE_NOT_AVAILABLE," |",(null===b||void 0===b?void 0:b.product)&&(null===(r=b.product)||void 0===r||null===(c=r.hdelCharge)||void 0===c?void 0:c.value)>0&&i.a.createElement("span",{className:P?"amount-strike":""}," \u20b9",null===(u=b.product.hdelCharge)||void 0===u?void 0:u.value),(P||(null===b||void 0===b?void 0:b.product)&&0===(null===(m=b.product)||void 0===m||null===(v=m.hdelCharge)||void 0===v?void 0:v.value))&&i.a.createElement("span",null,"Free")))))),("hdeltosdel"==B||"stortosdel"==B)&&i.a.createElement("div",{className:"checkout-dialog-item",style:{flex:.8}},F.threeHourDelivery&&i.a.createElement("h3",{className:"multiline-font-size"},R.a.ZIP_DELIVERY_BY," ",i.a.createElement("span",null," ",U(F.threeHourDelivery.option.assignments.assignment[0].deliveryDate),(null===b||void 0===b?void 0:b.product)&&(null===(p=b.product)||void 0===p||null===(g=p.sdelCharge)||void 0===g?void 0:g.value)>0&&i.a.createElement("span",null," | ",i.a.createElement("span",{className:P?"amount-strike":""}," \u20b9",null===(E=b.product.sdelCharge)||void 0===E?void 0:E.value)),(P||(null===b||void 0===b?void 0:b.product)&&0===(null===(h=b.product)||void 0===h||null===(A=h.sdelCharge)||void 0===A?void 0:A.value))&&i.a.createElement("span",null," | Free")))),("hdeltostor"==B||"sdeltostor"==B)&&i.a.createElement("div",{className:"checkout-dialog-item",style:{flex:.8}},F.storePickup&&i.a.createElement("h3",null,R.a.STORE_PICKUP," \xa0",i.a.createElement("a",{className:"break-line hyperlink-default store",onClick:()=>{Q(!0)}},null===M||void 0===M?void 0:M.displayName," "))),i.a.createElement($e,{open:j,setStoremodal:Q,shipNodeObj:k,cartStoresList:_,setStoreselected:x,storeSelected:M,productId:V})):i.a.createElement(i.a.Fragment,null))};function st(e){var t,a;let{data:d,deviceType:o}=e;const n=d,[s,c]=Object(l.useState)("");return Object(l.useEffect)(()=>{var e,t,a;if(n.hasOwnProperty("giftCards"))(null===n||void 0===n?void 0:n.giftCards)&&(null===n||void 0===n?void 0:n.giftCards.length)>0&&null!==(null===n||void 0===n?void 0:n.giftCards[0].gcImgUrl)?c(null===n||void 0===n||null===(e=n.giftCards[0])||void 0===e?void 0:e.gcImgUrl):c(r.a.EGV_IMAGE_URL_SMALL);else if(void 0!==(null===n||void 0===n||null===(t=n.product)||void 0===t?void 0:t.images)&&(null===n||void 0===n||null===(a=n.product)||void 0===a?void 0:a.images.length)>0){let e="";e=n.product.images[0].url,c(e)}else c(r.a.FALLBACK_IMG)}),i.a.createElement(i.a.Fragment,null,r.a.IMAGEKIT_FLAG?i.a.createElement("img",{src:Object(fe.c)(s,"400"),srcset:Object(fe.a)([200,400,600],s),sizes:"212px",alt:null===n||void 0===n||null===(t=n.product)||void 0===t?void 0:t.altText}):i.a.createElement("img",{src:s,alt:null===n||void 0===n||null===(a=n.product)||void 0===a?void 0:a.altText,onError:"undefined"!==typeof window&&window.defaultSrc}))}var rt=e=>{var t,a;let{openFourOneTwo:l,handleClose:d,data:o,deviceType:n,allFulfillmentData:s,selectedDeliveryOption:c,setSelectedDeliveryOption:v,omsData:p,setDisablePaymentBtn:g,omsCall:E,isCSC:h,setSlotArr:A,slotArr:f,cartStoresList:b,shipNodeObj:S,setoutofStockPrdtsModal:N,outofStockPrdtModal:y,outofStockPrdtModalEach:C}=e;const[I]=Object(Z.a)(),O=(e,t,a)=>{if("sdeltohdel"===t){return C.SDEL.HDEL.findIndex(t=>e==t.id&&a==t.entryNumber)>-1}if("sdeltostor"===t){return C.SDEL.STOR.findIndex(t=>e==t.id&&a==t.entryNumber)>-1}if("hdeltosdel"===t){return C.HDEL.SDEL.findIndex(t=>e==t.id&&a==t.entryNumber)>-1}if("hdeltostor"===t){return C.HDEL.STOR.findIndex(t=>e==t.id&&a==t.entryNumber)>-1}if("stortosdel"===t){return C.STOR.SDEL.findIndex(t=>e==t.id&&a==t.entryNumber)>-1}if("stortohdel"===t){return C.STOR.HDEL.findIndex(t=>e==t.id&&a==t.entryNumber)>-1}},D=e=>"sdeltohdel"===e?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"shipdialog-addresswrap four-one-two"},"Unfortunately,",i.a.createElement("br",null),"Express Delivery on these products is no longer available.",i.a.createElement("br",null)),i.a.createElement("div",{className:"shipdialog-addresswrap four-one-two"},"Standard delivery applied,",i.a.createElement("br",null),"Charges have been modified accordingly",i.a.createElement("br",null))):"sdeltostor"===e?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"shipdialog-addresswrap four-one-two"},"Unfortunately,",i.a.createElement("br",null),"Express Delivery on these products is no longer available.",i.a.createElement("br",null)),i.a.createElement("div",{className:"shipdialog-addresswrap four-one-two"},"Store pickup applied,",i.a.createElement("br",null),"Charges have been modified accordingly",i.a.createElement("br",null))):"hdeltosdel"===e?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"shipdialog-addresswrap four-one-two"},"Unfortunately,",i.a.createElement("br",null),"Standard delivery on these products is no longer available.",i.a.createElement("br",null)),i.a.createElement("div",{className:"shipdialog-addresswrap four-one-two"},"Express Delivery applied,",i.a.createElement("br",null),"Charges have been modified accordingly",i.a.createElement("br",null))):"hdeltostor"===e?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"shipdialog-addresswrap four-one-two"},"Unfortunately,",i.a.createElement("br",null),"Standard delivery on these products is no longer available.",i.a.createElement("br",null)),i.a.createElement("div",{className:"shipdialog-addresswrap four-one-two"},"Store pickup applied,",i.a.createElement("br",null),"Charges have been modified accordingly",i.a.createElement("br",null))):"stortosdel"===e?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"shipdialog-addresswrap four-one-two"},"Unfortunately,",i.a.createElement("br",null),"Store pickup on these products is no longer available.",i.a.createElement("br",null)),i.a.createElement("div",{className:"shipdialog-addresswrap four-one-two"},"Express Delivery applied,",i.a.createElement("br",null),"Charges have been modified accordingly",i.a.createElement("br",null))):"stortohdel"===e?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"shipdialog-addresswrap four-one-two"},"Unfortunately,",i.a.createElement("br",null),"Store pickup on these products is no longer available.",i.a.createElement("br",null)),i.a.createElement("div",{className:"shipdialog-addresswrap four-one-two"},"Standard delivery applied,",i.a.createElement("br",null),"Charges have been modified accordingly",i.a.createElement("br",null))):void 0;return i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{classes:{paper:r.a.CROMA_DARK_THEME?"MuiDialog-paper-list-address-store mini-cart-dailog":"dark-theme MuiDialog-paper-list-address-store mini-cart-dailog"},onClose:d,disableEscapeKeyDown:!0,disableBackdropClick:!0,open:l.open&&I>767},i.a.createElement(m.a,null,i.a.createElement("div",{className:"addAddressCross checkout-store-modal-cross",onClick:d},r.a.CROMA_DARK_THEME?i.a.createElement(T.a,null):i.a.createElement(k.a,null)),i.a.createElement("div",{className:"shipping-dialog check-shipping"},i.a.createElement("div",{className:"shipping-dialog-maindiv"},D(l.casetype),(null===o||void 0===o?void 0:o.entries)&&(null===o||void 0===o||null===(t=o.entries)||void 0===t?void 0:t.map((e,t)=>{var a;return O(e.product.code,l.casetype,e.entryNumber)?i.a.createElement("li",{className:"checkout-item",key:"indexo".concat(t)},i.a.createElement("div",{className:"cp-product flat-border ch-procut-list checkoutLoader hide-x-scroll"},i.a.createElement("div",{className:"product-card-cont"},i.a.createElement("div",{className:"shipping-border"},i.a.createElement("div",{className:(null===e||void 0===e?void 0:e.giftCards)?"shipping-heading pd-cart-1 giftcard-cart":"shipping-heading pd-cart-1"},i.a.createElement("div",{className:"shipping-heading-img four-one-two"},i.a.createElement(st,{data:e,deviceType:n})),i.a.createElement("div",{className:"pd-details"},i.a.createElement("div",{className:(null===e||void 0===e?void 0:e.giftCards)?"shipping-heading-name giftcard-heading":"shipping-heading-name"},null===e||void 0===e||null===(a=e.product)||void 0===a?void 0:a.name)))),i.a.createElement(nt,{allFulfillmentData:s,data:e,selectedDeliveryOption:c,setSelectedDeliveryOption:v,omsData:p,setDisablePaymentBtn:g,omsCall:E,isCSC:h,setSlotArr:A,slotArr:f,isWaived:o.isWaived,cartStoresList:b,shipNodeObj:S,outofStockPrdtModal:y,setoutofStockPrdtsModal:N,casetype:l.casetype})))):null})),i.a.createElement("div",{className:"shipdialog-btnwrap"},i.a.createElement("button",{type:"submit",className:"shipdialog-btn",onClick:()=>d("continue")},"Continue")))))),i.a.createElement(u.a,{classes:{paper:r.a.CROMA_DARK_THEME?"MuiDialog-paper-list-address-store mini-cart-dailog":"dark-theme MuiDialog-paper-list-address-store mini-cart-dailog"},onClose:d,disableEscapeKeyDown:!0,disableBackdropClick:!0,open:l.open&&I<=767},i.a.createElement(m.a,null,i.a.createElement("div",{className:"addAddressCross checkout-store-modal-cross",onClick:d},r.a.CROMA_DARK_THEME?i.a.createElement(T.a,null):i.a.createElement(k.a,null)),i.a.createElement("div",{className:"shipping-dialog"},i.a.createElement("div",{className:"shipping-dialog-maindiv"},D(l.casetype),(null===o||void 0===o?void 0:o.entries)&&(null===o||void 0===o||null===(a=o.entries)||void 0===a?void 0:a.map((e,t)=>{var a;return O(e.product.code,l.casetype,e.entryNumber)?i.a.createElement("li",{className:"checkout-item",key:"indexo".concat(t)},i.a.createElement("div",{className:"cp-product flat-border ch-procut-list checkoutLoader hide-x-scroll"},i.a.createElement("div",{className:"product-card-cont"},i.a.createElement("div",{className:"shipping-border"},i.a.createElement("div",{className:(null===e||void 0===e?void 0:e.giftCards)?"shipping-heading pd-cart-1 giftcard-cart":"shipping-heading pd-cart-1"},i.a.createElement("div",{className:"shipping-heading-img four-one-two"},i.a.createElement(st,{data:e,deviceType:n})),i.a.createElement("div",{className:"pd-details"},i.a.createElement("div",{className:(null===e||void 0===e?void 0:e.giftCards)?"shipping-heading-name giftcard-heading":"shipping-heading-name"},null===e||void 0===e||null===(a=e.product)||void 0===a?void 0:a.name))))),i.a.createElement(nt,{allFulfillmentData:s,data:e,selectedDeliveryOption:c,setSelectedDeliveryOption:v,omsData:p,setDisablePaymentBtn:g,omsCall:E,isCSC:h,setSlotArr:A,slotArr:f,isWaived:o.isWaived,cartStoresList:b,shipNodeObj:S,setoutofStockPrdtsModal:N,outofStockPrdtModal:y,casetype:l.casetype}))):null})),i.a.createElement("div",{className:"shipdialog-btnwrap"},i.a.createElement("button",{type:"submit",className:"shipdialog-btn",onClick:()=>d("continue")},"Continue")))))))};const ct=["data","inputRef","countError","setCountError","focus","profileData","callTdFetchCustomer","removeCartItem","setisGift","setisContriBution","deviceType","shippingDialogsLoader","orderDetailsLoader","selectedShipAddress","formikOrderDetails","callDeliveryModeAPI","omsData","cartWhishlist","callOrderSummary","setPostalCode","loader","setLoader","setFlag","postalCode","addAddress","addAddressHandler","errorAddFlag","setErrorAddFlag","vleUserAddressUpdate","showNoAvailabilityText","allFulfillmentData","shippingErrMsg","setShippingErrMsg","updatedShipnode","isExchangeInValid","setIsExchangeInValid","updateShippingOption","availableStoreNames","setAvailableStoreNames","deliveringTo","setDeliveringTo","changePincode","setChangePincode","removeExchangeCartItem","getServiceAppointmentPayload","continueRegister","setOrderSummaryData","storeSelected","shipNodeObj","setShipNodeObj","cartStoresList","setStoreselected","storeModalSelect","setStoreModalSelect","callAddressCordApi","setDisablePaymentBtn","isonlygiftCard","setShowLoader","omsCall","reservationData","selectedDeliveryOption","setSelectedDeliveryOption","outofStockPrdts","setoutofStockPrdts","setoutofStockPrdtsModal","outofStockPrdtModal","outofStockPrdtModalEach","setoutofStockPrdtsModalEach","refreshDeliveryMode","paymentButtonStatus","showLoader"],ut=a(18).Link;function mt(e){var t,a;let{data:d,deviceType:o}=e;const n=d,[s,c]=Object(l.useState)("");return Object(l.useEffect)(()=>{var e,t,a;if(n.hasOwnProperty("giftCards"))(null===n||void 0===n?void 0:n.giftCards)&&(null===n||void 0===n?void 0:n.giftCards.length)>0&&null!==(null===n||void 0===n?void 0:n.giftCards[0].gcImgUrl)?c(null===n||void 0===n||null===(e=n.giftCards[0])||void 0===e?void 0:e.gcImgUrl):c(r.a.EGV_IMAGE_URL_SMALL);else if(void 0!==(null===n||void 0===n||null===(t=n.product)||void 0===t?void 0:t.images)&&(null===n||void 0===n||null===(a=n.product)||void 0===a?void 0:a.images.length)>0){let e="";e=n.product.images[0].url,c(e)}else c(r.a.FALLBACK_IMG)}),i.a.createElement(i.a.Fragment,null,r.a.IMAGEKIT_FLAG?i.a.createElement("img",{src:Object(fe.c)(s,"400"),srcset:Object(fe.a)([200,400,600],s),sizes:"212px",alt:null===n||void 0===n||null===(t=n.product)||void 0===t?void 0:t.altText}):i.a.createElement("img",{src:s,alt:null===n||void 0===n||null===(a=n.product)||void 0===a?void 0:a.altText,onError:"undefined"!==typeof window&&window.defaultSrc}))}var vt,pt=e=>{var t;let{data:a,inputRef:d,countError:n,setCountError:v,focus:p,profileData:g,callTdFetchCustomer:E,removeCartItem:h,setisGift:A,setisContriBution:f,deviceType:b,shippingDialogsLoader:S,orderDetailsLoader:N,selectedShipAddress:y,formikOrderDetails:C,callDeliveryModeAPI:I,omsData:O,cartWhishlist:D,callOrderSummary:L,setPostalCode:P,loader:T,setLoader:k,setFlag:_,postalCode:B,addAddress:F,addAddressHandler:M,errorAddFlag:x,setErrorAddFlag:j,vleUserAddressUpdate:Q,showNoAvailabilityText:V,allFulfillmentData:H,shippingErrMsg:U,setShippingErrMsg:G,updatedShipnode:J,isExchangeInValid:W,setIsExchangeInValid:Y,updateShippingOption:z,availableStoreNames:K,setAvailableStoreNames:X,deliveringTo:q,setDeliveringTo:Z,changePincode:$,setChangePincode:ae,removeExchangeCartItem:le,getServiceAppointmentPayload:ie,continueRegister:de,setOrderSummaryData:oe,storeSelected:ne,shipNodeObj:se,setShipNodeObj:ce,cartStoresList:ue,setStoreselected:me,storeModalSelect:ve,setStoreModalSelect:pe,callAddressCordApi:ge,setDisablePaymentBtn:Ee,isonlygiftCard:he,setShowLoader:Ae,omsCall:fe,reservationData:be,selectedDeliveryOption:Se,setSelectedDeliveryOption:Ne,outofStockPrdts:ye,setoutofStockPrdts:Ce,setoutofStockPrdtsModal:Oe,outofStockPrdtModal:De,outofStockPrdtModalEach:Le,setoutofStockPrdtsModalEach:Pe,refreshDeliveryMode:Te,paymentButtonStatus:ke,showLoader:_e}=e,Fe=Object(s.a)(e,ct);const[we,Me]=Object(l.useState)(!1),[xe,je]=Object(l.useState)(""),[Qe,Ve]=Object(l.useState)(),[Ue,Ge]=i.a.useState(""),[Je,We]=i.a.useState(!1),[Ye,ze]=i.a.useState(!1),[Ke,Xe]=Object(l.useState)(!1),[qe,Ze]=Object(l.useState)([]),[$e,et]=i.a.useState([]),[tt,at]=Object(l.useState)({open:!1,casetype:""}),lt=[];Object(l.useEffect)(()=>{const e="undefined"!==typeof Storage&&"true"===localStorage.getItem("isCSC");Xe(e),"cromaHomeDelivery"!==localStorage.getItem("deliveryMode")&&(localStorage.removeItem("sltArr"),localStorage.removeItem("slots"),localStorage.removeItem("TMSArr"),localStorage.removeItem("reserveFailed"),localStorage.removeItem("expiration"))},[]),Object(l.useEffect)(()=>{var e,t,a,l,i,d,o,n,s,r,c,u,m,v,p,g,E,h;Le&&((null===Le||void 0===Le?void 0:Le.HDEL)&&(null===Le||void 0===Le||null===(e=Le.HDEL)||void 0===e?void 0:e.SDEL)&&Array.isArray(null===Le||void 0===Le||null===(t=Le.HDEL)||void 0===t?void 0:t.SDEL)&&(null===Le||void 0===Le||null===(a=Le.HDEL)||void 0===a?void 0:a.SDEL.length)?at({open:!0,casetype:"hdeltosdel"}):(null===Le||void 0===Le?void 0:Le.HDEL)&&(null===Le||void 0===Le||null===(l=Le.HDEL)||void 0===l?void 0:l.STOR)&&Array.isArray(null===Le||void 0===Le||null===(i=Le.HDEL)||void 0===i?void 0:i.STOR)&&(null===Le||void 0===Le||null===(d=Le.HDEL)||void 0===d?void 0:d.STOR.length)?at({open:!0,casetype:"hdeltostor"}):(null===Le||void 0===Le?void 0:Le.SDEL)&&(null===Le||void 0===Le||null===(o=Le.SDEL)||void 0===o?void 0:o.HDEL)&&Array.isArray(null===Le||void 0===Le||null===(n=Le.SDEL)||void 0===n?void 0:n.HDEL)&&(null===Le||void 0===Le||null===(s=Le.SDEL)||void 0===s?void 0:s.HDEL.length)?at({open:!0,casetype:"sdeltohdel"}):(null===Le||void 0===Le?void 0:Le.SDEL)&&(null===Le||void 0===Le||null===(r=Le.SDEL)||void 0===r?void 0:r.STOR)&&Array.isArray(null===Le||void 0===Le||null===(c=Le.SDEL)||void 0===c?void 0:c.STOR)&&(null===Le||void 0===Le||null===(u=Le.SDEL)||void 0===u?void 0:u.STOR.length)?at({open:!0,casetype:"sdeltostor"}):(null===Le||void 0===Le?void 0:Le.STOR)&&(null===Le||void 0===Le||null===(m=Le.STOR)||void 0===m?void 0:m.SDEL)&&Array.isArray(null===Le||void 0===Le||null===(v=Le.STOR)||void 0===v?void 0:v.SDEL)&&(null===Le||void 0===Le||null===(p=Le.STOR)||void 0===p?void 0:p.SDEL.length)?at({open:!0,casetype:"stortosdel"}):(null===Le||void 0===Le?void 0:Le.STOR)&&(null===Le||void 0===Le||null===(g=Le.STOR)||void 0===g?void 0:g.HDEL)&&Array.isArray(null===Le||void 0===Le||null===(E=Le.STOR)||void 0===E?void 0:E.HDEL)&&(null===Le||void 0===Le||null===(h=Le.STOR)||void 0===h?void 0:h.HDEL.length)?at({open:!0,casetype:"stortohdel"}):at({open:!1,casetype:""}))},[Le]);Object(l.useEffect)(()=>{(()=>{if(ue&&Array.isArray(ue)&&(null===ue||void 0===ue?void 0:ue.length)>0){for(let e=0;e<ue.length;e++)""!==ue[e].shipNode&&lt.push(ue[e].shipNode);lt&&Array.isArray(lt)&&lt.length>0?Object(Ie.o)(lt).then(e=>{if("success"===e.status){var t;const l=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.storelist,i={};for(const e in l){var a;i[null===l||void 0===l||null===(a=l[e])||void 0===a?void 0:a.name]=null===l||void 0===l?void 0:l[e]}ce(i)}}).catch(e=>{}):ce({})}})()},[ue]);const dt=(e,t)=>{"close"===t&&We(!1),"open"===t&&We(!0)},nt=(e,t,a)=>{"close"===t&&(ze(!1),Ze([])),"open"===t&&(ze(!0),Ze(a))},st=function(e,t,a,l,i,d){let o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];We(!1),ze(!1),h(e,t,a,l,i,d,o)},vt=(e,t)=>!(ye.findIndex(a=>e==a.id&&t==a.entryNumber)<0),pt=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1st";const l=ye.find(a=>e==a.id&&t==a.entryNumber);return"1st"==a&&l&&l.deliverymode?"SDEL"===l.deliverymode?"Express delivery":"STOR"===l.deliverymode?"Store pickup":"Standard delivery":"2nd"==a&&l&&l.updatedDeliveryMode?"SDEL"===l.updatedDeliveryMode?"Express delivery":"STOR"===l.updatedDeliveryMode?"Store pickup":"Standard delivery":""};return i.a.createElement("div",null,i.a.createElement("div",{className:"delivery-text"},"Delivery Options"),(null===a||void 0===a?void 0:a.entries)&&(null===a||void 0===a||null===(t=a.entries)||void 0===t?void 0:t.map((e,t)=>{var l,d,o,n,s,v,p,g,E,h,S,I,P,T,k,B,F,M,x;return e.product.code===r.a.giftProductId||e.product.code===r.a.donateProductId?i.a.createElement(c.a,{setisGift:A,data:e,key:t,checkout:!0,setisContriBution:f}):i.a.createElement(i.a.Fragment,null,i.a.createElement("li",{className:"checkout-item",key:"indexo".concat(t)},i.a.createElement("div",{className:"cp-product typ-plp flat-border ch-procut-list checkoutLoader hide-x-scroll"},i.a.createElement("div",{className:"product-card-cont"},i.a.createElement("div",{className:"shipping-border"},i.a.createElement("div",{className:(null===e||void 0===e?void 0:e.giftCards)?"shipping-heading pd-cart-1 giftcard-cart":"shipping-heading pd-cart-1"},i.a.createElement("div",{className:"shipping-heading-img"},i.a.createElement(mt,{data:e,deviceType:b})),i.a.createElement("div",{className:"pd-details"},i.a.createElement("div",{className:(null===e||void 0===e?void 0:e.giftCards)?"shipping-heading-name giftcard-heading":"shipping-heading-name"},(null===e||void 0===e?void 0:e.hasOwnProperty("giftCards"))?i.a.createElement(i.a.Fragment,null,null===e||void 0===e||null===(l=e.product)||void 0===l?void 0:l.name,i.a.createElement("br",null),e.hasOwnProperty("giftCards")?i.a.createElement(i.a.Fragment,null,e&&e.giftCards&&(null===(d=e.giftCards)||void 0===d?void 0:d.length)&&i.a.createElement("div",{className:"checkout-GC-details"},i.a.createElement("div",{className:"m-top"},i.a.createElement("span",null,"Send To "),i.a.createElement("div",{className:"m-top"},i.a.createElement("span",null,"Email:  "),i.a.createElement("span",{className:"desc address-break pd-address-font"},e.giftCards[0].email))),i.a.createElement("div",null,i.a.createElement("span",null,"WhatsApp: "),i.a.createElement("span",{className:"desc address-break pd-address-font"},e.giftCards[0].mobileNo)),i.a.createElement("div",null,i.a.createElement("span",null,"Quantity: "),i.a.createElement("span",{className:"desc address-break pd-address-font"},e.giftCards[0].quantity)),i.a.createElement("div",null,i.a.createElement("span",null,"Message: "),i.a.createElement("span",{className:"desc address-break pd-address-font"},e.giftCards[0].message)))):i.a.createElement("div",null," ")):i.a.createElement(i.a.Fragment,null,(null===e||void 0===e?void 0:e.vasProduct)||(null===e||void 0===e||null===(o=e.product)||void 0===o?void 0:o.name.toLowerCase().includes("onsitego"))||(null===e||void 0===e||null===(n=e.product)||void 0===n?void 0:n.name.toLowerCase().includes("zopper"))?i.a.createElement("div",{className:"vas-title-name"},null===e||void 0===e||null===(s=e.product)||void 0===s?void 0:s.name):i.a.createElement(ut,{to:"".concat(null===e||void 0===e||null===(v=e.product)||void 0===v?void 0:v.url)},null===e||void 0===e||null===(p=e.product)||void 0===p?void 0:p.name),i.a.createElement("hr",{className:"horizantal-line"}),i.a.createElement(it,{allFulfillmentData:H,data:e,storeNames:K,selectedDeliveryOption:Se,setSelectedDeliveryOption:Ne,omsData:O,setDisablePaymentBtn:Ee,omsCall:fe,isCSC:Ke,setSlotArr:et,slotArr:$e,isWaived:a.isWaived,cartStoresList:ue,shipNodeObj:se,setoutofStockPrdts:Ce,outofStockPrdts:ye,setoutofStockPrdtsModal:Oe,outofStockPrdtModal:De,refreshDeliveryMode:Te,showLoader:_e}))),e&&(null===e||void 0===e||null===(g=e.product)||void 0===g?void 0:g.isDigital)&&i.a.createElement("div",{className:"checkout-GC-details"},i.a.createElement("div",null,i.a.createElement("span",{className:"m-left-12"},"Send To "),i.a.createElement("span",{className:"desc address-break pd-address-font"}," ",Ke?C.values.contactemail:C.values.digitalDeliveryEmail))),(null===e||void 0===e?void 0:e.vasProduct)&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"availability-head-err email-overflow-wrap"},i.a.createElement("div",{className:"availability-check"},"Email to ",(Re.isMobile,C.values.contactemail)))),i.a.createElement("div",{className:"cart-wish-btn-check"},r.a.PDP_STATUS_VISIBILITY?i.a.createElement(i.a.Fragment,null,("prelaunch"===(null===e||void 0===e?void 0:e.approvalStatus)||"discontinued"===(null===e||void 0===e?void 0:e.approvalStatus)||"unavailable"===(null===e||void 0===e?void 0:e.approvalStatus)||(!1===e.avaiableDelivery||vt(null===e||void 0===e||null===(E=e.product)||void 0===E?void 0:E.code,null===e||void 0===e?void 0:e.entryNumber))&&!e.vasProduct&&!Ke)&&i.a.createElement(re,{item:e,cartWhishlist:D,callOrderSummary:L,setFlag:_,showToast:Fe.showToastMsg,removeFromCartItem:st}),("prelaunch"===(null===e||void 0===e?void 0:e.approvalStatus)||"discontinued"===(null===e||void 0===e?void 0:e.approvalStatus)||"unavailable"===(null===e||void 0===e?void 0:e.approvalStatus)||!1===e.avaiableDelivery||vt(null===e||void 0===e||null===(h=e.product)||void 0===h?void 0:h.code,null===e||void 0===e?void 0:e.entryNumber)&&!e.vasProduct)&&i.a.createElement("span",{className:"cart-del del-check-pd",onClick:t=>{nt(0,"open",e)}},R.a.REMOVE_CART,i.a.createElement("img",{src:ot.a}))):i.a.createElement(i.a.Fragment,null,(!1===e.avaiableDelivery||vt(null===e||void 0===e||null===(S=e.product)||void 0===S?void 0:S.code,null===e||void 0===e?void 0:e.entryNumber))&&!e.vasProduct&&!Ke&&i.a.createElement(re,{item:e,cartWhishlist:D,callOrderSummary:L,setFlag:_,showToast:Fe.showToastMsg,removeFromCartItem:st}),(!1===e.avaiableDelivery||vt(null===e||void 0===e||null===(I=e.product)||void 0===I?void 0:I.code,null===e||void 0===e?void 0:e.entryNumber))&&!e.vasProduct&&i.a.createElement("span",{className:"cart-del del-check-pd",onClick:t=>{nt(0,"open",e)}},R.a.REMOVE_CART,i.a.createElement("img",{src:ot.a})))))))),r.a.DEMO_INSTALL_SHOW_FLAG&&((null===e||void 0===e||null===(P=e.product)||void 0===P?void 0:P.installationFlag)&&"Y"===(null===e||void 0===e?void 0:e.product.installationFlag)||e.product.demo&&"Y"===e.product.demo)&&i.a.createElement(He,{code:e.product.code,omsData:O,data:a,updatedShipnode:J,selectedShipAddress:y,item:e,index:t,getServiceAppointmentPayload:ie,selectedDeliveryOption:Se,slotArr:$e}),(null===a||void 0===a?void 0:a.hasExchangeProduct)&&((null===e||void 0===e?void 0:e.exchangeQuoteId)||"croma"===(null===e||void 0===e||null===(T=e.exchangeProductServiceProvider)||void 0===T?void 0:T.toLowerCase()))&&i.a.createElement("div",{className:" exchange-box"},i.a.createElement(Be,{item:e,isExchangeServicable:Ue,data:a,omsData:O,allFulfillmentData:H,isExchangeInValid:W,setIsExchangeInValid:Y,confirmationModalHandler:dt,selectedDeliveryOption:Se}),i.a.createElement(u.a,{classes:{paper:!r.a.CROMA_DARK_THEME&&"dark-theme dailog"},open:Je,disableBackdropClick:"true",disableEscapeKeyDown:"true"},i.a.createElement("button",{className:"icon icon-close",type:"button",onClick:e=>{dt(0,"close")}}),i.a.createElement(m.a,null,i.a.createElement("div",{className:"modal-wrap modal-sm"},i.a.createElement("div",{className:"cp-confirmation-modal"},i.a.createElement("div",{className:"confirmation-modal-desc"},i.a.createElement("p",null,R.a.CONFIRMATION_MESSAGE)),i.a.createElement("div",{className:"action-wrap"},i.a.createElement("button",{className:"btn btn-secondary",onClick:e=>{dt(0,"close")}},R.a.CANCEL_BUTTON_TEXT),i.a.createElement("button",{className:"btn btn-default",onClick:()=>{return t=e.entryNumber,We(!1),le(t),void _(!0);var t}},R.a.PROCEED_EXCHANGE))))))),i.a.createElement(w.a,{show:N}),i.a.createElement(u.a,{classes:{paper:!r.a.CROMA_DARK_THEME&&"dark-theme dailog"},open:Ye,disableBackdropClick:"true",disableEscapeKeyDown:"true"},i.a.createElement("button",{"data-testid":"closeIcon",className:"icon icon-close",type:"button",onClick:e=>{nt(0,"close")}}),i.a.createElement(m.a,null,i.a.createElement("div",{className:"modal-wrap modal-sm"},i.a.createElement("div",{className:"cp-confirmation-modal"},i.a.createElement("div",{className:"confirmation-modal-desc"},i.a.createElement("p",null,"ZEXW"===e.product.SAP_MATERIAL_TYPE?R.a.CONFIRMATION_MESSAGE_EXW:R.a.CONFIRMATION_MESSAGE)),i.a.createElement("div",{className:"action-wrap"},i.a.createElement("button",{"data-testid":"cancelBtn",className:"btn btn-secondary",onClick:e=>{nt(0,"close")}},R.a.CANCEL),i.a.createElement("button",{"data-testid":"proceedBtn",className:"btn btn-default",onClick:()=>{var e;st(qe.entryNumber,qe.product.code,qe.basePrice.value,null===(e=qe.product.mrp)||void 0===e?void 0:e.value,qe.quantity,qe)}},R.a.PROCEED)))))))),i.a.createElement(i.a.Fragment,null,e.avaiableDelivery&&vt(null===e||void 0===e||null===(k=e.product)||void 0===k?void 0:k.code,null===e||void 0===e?void 0:e.entryNumber)&&i.a.createElement("div",{className:"cart-no-delivery-available"},i.a.createElement("div",{className:"cart-no-delivery-div"},i.a.createElement("span",{className:"cart-no-delivery-text"},"Unfortunately, ",pt(null===e||void 0===e||null===(B=e.product)||void 0===B?void 0:B.code,null===e||void 0===e?void 0:e.entryNumber,"1st")," for this product is not available, ",pt(null===e||void 0===e||null===(F=e.product)||void 0===F?void 0:F.code,null===e||void 0===e?void 0:e.entryNumber,"2nd"),"   applied. Charges have been modified accordingly."))),r.a.PDP_STATUS_VISIBILITY?"prelaunch"===(null===e||void 0===e?void 0:e.approvalStatus)||"discontinued"===(null===e||void 0===e?void 0:e.approvalStatus)||"unavailable"===(null===e||void 0===e?void 0:e.approvalStatus)||!e.avaiableDelivery&&!((null===e||void 0===e||null===(M=e.product)||void 0===M?void 0:M.isDigital)||(null===e||void 0===e?void 0:e.vasProduct)||(null===e||void 0===e?void 0:e.giftCards))?i.a.createElement(i.a.Fragment,null,r.a.MULTILINE_FULLFILLMENT?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"cart-no-delivery-available"},i.a.createElement("div",{className:"cart-no-delivery-div"},i.a.createElement("span",{className:"cart-no-delivery-text"},R.a.NO_DELIVERY_TEXT)))):i.a.createElement("div",{className:"cart-no-delivery-available"},i.a.createElement("div",{className:"cart-no-delivery-div"},i.a.createElement("span",{className:"cart-no-delivery-text"},"Product is unavailable for the delivery mode selected. Remove product or change delivery mode")))):"":e.avaiableDelivery||(null===e||void 0===e||null===(x=e.product)||void 0===x?void 0:x.isDigital)||(null===e||void 0===e?void 0:e.vasProduct)||(null===e||void 0===e?void 0:e.giftCards)?"":i.a.createElement(i.a.Fragment,null,r.a.MULTILINE_FULLFILLMENT?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"cart-no-delivery-available"},i.a.createElement("div",{className:"cart-no-delivery-div"},i.a.createElement("span",{className:"cart-no-delivery-text"},R.a.NO_DELIVERY_TEXT)))):i.a.createElement("div",{className:"cart-no-delivery-available"},i.a.createElement("div",{className:"cart-no-delivery-div"},i.a.createElement("span",{className:"cart-no-delivery-text"},"Product is unavailable for the delivery mode selected. Remove product or change delivery mode"))))," "))})),i.a.createElement(rt,{handleClose:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(o.a)({},Le);if("hdeltosdel"===tt.casetype?t.HDEL.SDEL=[]:"hdeltostor"===tt.casetype?t.HDEL.STOR=[]:"sdeltohdel"===tt.casetype?t.SDEL.HDEL=[]:"sdeltostor"===tt.casetype?t.SDEL.STOR=[]:"stortosdel"===tt.casetype?t.STOR.SDEL=[]:"stortohdel"===tt.casetype&&(t.STOR.HDEL=[]),"continue"==e&&Array.isArray(t.STOR.SDEL)&&!t.STOR.SDEL.length&&Array.isArray(t.STOR.HDEL)&&!t.STOR.HDEL.length&&Array.isArray(t.HDEL.SDEL)&&!t.HDEL.SDEL.length&&Array.isArray(t.HDEL.STOR)&&!t.HDEL.STOR.length&&Array.isArray(t.SDEL.HDEL)&&!t.SDEL.HDEL.length&&Array.isArray(t.SDEL.STOR)&&!t.SDEL.STOR.length){document.getElementById("checkout-payment-button").click()}Pe(Object(o.a)({},t))},openFourOneTwo:tt,data:a,deviceType:b,allFulfillmentData:H,selectedDeliveryOption:Se,setSelectedDeliveryOption:Ne,omsData:O,setDisablePaymentBtn:Ee,omsCall:fe,isCSC:Ke,setSlotArr:et,slotArr:$e,isWaived:a.isWaived,cartStoresList:ue,shipNodeObj:se,setoutofStockPrdts:Ce,outofStockPrdts:ye,setoutofStockPrdtsModal:Oe,outofStockPrdtModal:De,outofStockPrdtModalEach:Le}),i.a.createElement(ee,Object.assign({dataGA:a,profileData:g,open:we,type:xe,clickHandler:(e,t,a)=>{e&&E(!1),Ve(a),Me(e),je(t)},shippingDialogsLoader:S,addressType:"shipping",callTdFetchCustomer:E,selectedAddresssID:Qe,updateShippingOption:z,showNoAvailabilityText:V,addAddressHandler:M,shippingErrMsg:U,setErrorAddFlag:j,callAddressCordApi:ge,setShowLoader:Ae},Fe)),i.a.createElement(te.a,Object.assign({errorAddFlag:x,addAddress:F,addAddressHandler:M,formikOrderDetails:C,addressType:"shipping",callTdFetchCustomer:E,updateShippingOption:z,vleUserAddressUpdate:Q,adobeData:a,addAddressfromPincodePopup:!1,callAddressCordApi:ge,setShowLoader:Ae},Fe)))};const gt=["svgRef","title"];function Et(){return(Et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(null,arguments)}const ht=e=>{let{svgRef:t,title:a}=e,l=function(e,t){if(null==e)return{};var a,l,i=function(e,t){if(null==e)return{};var a={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(-1!==t.indexOf(l))continue;a[l]=e[l]}return a}(e,t);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(l=0;l<d.length;l++)a=d[l],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}(e,gt);return i.a.createElement("svg",Et({width:26,height:18,viewBox:"0 0 26 18",fill:"none",ref:t},l),a?i.a.createElement("title",null,a):null,vt||(vt=i.a.createElement("path",{d:"M25.0312 1.4375L8.98047 16.75L0.96875 9.09375",stroke:"#00E9BF",strokeLinecap:"round",strokeLinejoin:"round"})))},At=i.a.forwardRef((e,t)=>i.a.createElement(ht,Et({svgRef:t},e)));var ft;a.p;const bt=["svgRef","title"];function St(){return(St=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(null,arguments)}const Nt=e=>{let{svgRef:t,title:a}=e,l=function(e,t){if(null==e)return{};var a,l,i=function(e,t){if(null==e)return{};var a={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(-1!==t.indexOf(l))continue;a[l]=e[l]}return a}(e,t);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(l=0;l<d.length;l++)a=d[l],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}(e,bt);return i.a.createElement("svg",St({width:58,height:58,viewBox:"0 0 58 58",fill:"none",ref:t},l),a?i.a.createElement("title",null,a):null,ft||(ft=i.a.createElement("path",{d:"M8.90234 49.0977C6.38672 46.582 8.05469 41.3047 6.76953 38.2148C5.48438 35.125 0.5625 32.418 0.5625 29C0.5625 25.582 5.42969 22.9844 6.76953 19.7852C8.10938 16.5859 6.38672 11.418 8.90234 8.90234C11.418 6.38672 16.6953 8.05469 19.7852 6.76953C22.875 5.48438 25.582 0.5625 29 0.5625C32.418 0.5625 35.0156 5.42969 38.2148 6.76953C41.4141 8.10938 46.582 6.38672 49.0977 8.90234C51.6133 11.418 49.9453 16.6953 51.2305 19.7852C52.5156 22.875 57.4375 25.582 57.4375 29C57.4375 32.418 52.5703 35.0156 51.2305 38.2148C49.8906 41.4141 51.6133 46.582 49.0977 49.0977C46.582 51.6133 41.3047 49.9453 38.2148 51.2305C35.125 52.5156 32.418 57.4375 29 57.4375C25.582 57.4375 22.9844 52.5703 19.7852 51.2305C16.5859 49.8906 11.418 51.6133 8.90234 49.0977Z",stroke:"#00E9BF",strokeLinecap:"round",strokeLinejoin:"round"})))},yt=i.a.forwardRef((e,t)=>i.a.createElement(Nt,St({svgRef:t},e)));a.p;var Ct=function(e){let{setActivePanCarddVarified:t,backFuncPanCardBtn:a,setPancardError:d,setPanCardTabvarified:o,panData:n}=e;Object(l.useEffect)(()=>{try{document.getElementById("pancard-top-main-sec-main").style.setProperty("display","none")}catch(l){console.log(l)}const e=setTimeout(()=>{t(""),a(),d(!1),o(!0)},5e3);return()=>{clearTimeout(e)}},[]);try{return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"pancard-modal-whole-sec pancard-varified-modal","data-testid":"pancard-varified-modal"},i.a.createElement(m.a,null,i.a.createElement("div",{className:"pancard-top-modal-main pancard-varified-modal-main"},i.a.createElement("h2",{className:"pancard-modal-title"},"PAN card details verified"),i.a.createElement("div",{className:"pancard-modal-form"},i.a.createElement("div",{className:"pancard-varified-area"},i.a.createElement("div",{className:"pancard-varified-image-sec"},i.a.createElement("div",{className:"pancard-varified-image-icon"},i.a.createElement(yt,null)),i.a.createElement("div",{className:"pancard-varified-image-check"},i.a.createElement(At,null))),i.a.createElement("div",{className:"pancard-varified-success-msg"},i.a.createElement("h3",{className:"pancard-varified-text"},"PAN Card successfully verified"),n&&(null===n||void 0===n?void 0:n.name)&&i.a.createElement("p",{className:"pancard-varified-text pancard-name"},i.a.createElement("span",null,"Name on PAN"),": ",i.a.createElement("span",{className:"txt-capitalize"},n&&(null===n||void 0===n?void 0:n.name.toLowerCase()))))))))))}catch(s){return console.log(s),i.a.createElement(i.a.Fragment,null," ")}};const It=i.a.memo(Ct);var Ot,Dt=function(e){let{setPanCardTabvarified:t,setActivePanCardTabState1:a,backFuncPanCardBtn:d,validatePancard:o,backFuncPanCardVarifiedBtn:n,handlerOpenPanCardVarifiedPopup:s,activePanCardVarified:r,setActivePanCarddVarified:c,panData:v,setPanData:p,PancardError:g,setPancardError:E,enteredPanCard:h,setEnteredPanCard:A}=e;const[f,b]=Object(l.useState)(!1),[S,N]=Object(l.useState)(!0),[y,C]=Object(l.useState)(!0),[I,O]=Object(l.useState)(!1),D=e=>{localStorage.setItem("declaration_clicked",!0),b(e=>!e)},L=e=>{"Enter"===e.key&&document.getElementById("pancard-button").click()};try{return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"pancard-modal-whole-sec","data-testid":"pancard-modal-whole-sec"},i.a.createElement(m.a,null,i.a.createElement("div",{className:"pancard-top-modal-main"},i.a.createElement("h2",{className:"pancard-modal-title"},R.a.PANCARD_MODAL_TITLE),i.a.createElement("div",{className:"pancard-modal-form"},i.a.createElement("form",null,i.a.createElement("label",{className:"pancard-list"},i.a.createElement("span",{className:"pancard-input-title"},R.a.PANCARD_NUMBER)),i.a.createElement("ul",{className:"pancard-list"},i.a.createElement("li",{className:"pancard-input-field"},i.a.createElement("input",{type:"text",placeholder:"Enter PAN Number",maxLength:"10",className:"pancard-number",value:h,onChange:e=>{(e=>{/^[a-zA-Z0-9 ]*$/.test(e.target.value)?(p(null),A(e.target.value.toUpperCase()),localStorage.setItem("enteredPanCard",e.target.value.toUpperCase()),E(!1),O(!1),C(!0)):C(!1)})(e)},onKeyDown:L})),i.a.createElement("li",{className:"pancard-input-button"},i.a.createElement("button",{type:"button",id:"pancard-button",className:S&&y?"pancard-submit-btn":"pancard-submit-btn-disable",disabled:!S&&!y,onClick:()=>{/^[A-Z]{5}[0-9]{4}[A-Z]{1}/.test(h)?(o(),O(!1)):O(!0)}},R.a.PANCARD_VALIDATE_BUTTON),r&&i.a.createElement(u.a,{classes:{paper:"pancard-varified-container"},open:r,onClose:d,disableEscapeKeyDown:!0},i.a.createElement("div",{className:"pancard-top-main-sec pancard-varified-top-main-sec"},i.a.createElement("div",{className:"pancard-inner-modal-sec pancard-varified-inner-modal-sec"},i.a.createElement("div",{className:"pancard-main-contentbox"},i.a.createElement("button",{className:"icon icon-close","data-testid":"pancard-close-btn",type:"button",onClick:d})),i.a.createElement(It,{setActivePanCarddVarified:c,backFuncPanCardBtn:d,setPancardError:E,setPanCardTabvarified:t,panData:v})))))),g&&i.a.createElement("div",{className:"pancard-error"},i.a.createElement("p",null,"*Sorry we are unable to validate the PAN number entered. ",Re.isMobile&&i.a.createElement("br",null)," Please check and try again.")),(I||v&&!v.valid)&&i.a.createElement("div",{className:"pancard-error"},i.a.createElement("p",null,"*Sorry we are unable to validate the PAN number entered.  ",Re.isMobile&&i.a.createElement("br",null),"Please enter a valid PAN Number and try again.")),i.a.createElement("hr",{className:"mini-sep proceed-card-sep"}),i.a.createElement("div",{className:"pancard-declaration"},i.a.createElement("h3",null,R.a.PANCARD_NOTE_TITLE),i.a.createElement("p",{className:"pancard-declaration-note"},"In case the total cart value exceeds Rs. 2,00,000 it is mandatory to quote valid PAN details."),i.a.createElement("label",{className:"pancard-checkbox-main"},i.a.createElement("input",{type:"checkbox",className:"pancard-input-checkbox","data-testid":"pancard-input-checkbox",checked:S,onChange:e=>{localStorage.getItem("declaration_clicked")||N(!S),localStorage.removeItem("declaration_clicked")}}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("div",{className:"pancard-checkbox-label"},R.a.PANCARD_DECLARATION_PRE_Text," ",i.a.createElement("span",{className:"pancard-input-text","data-testid":"pancard-input-text",onClick:D},R.a.PANCARD_DECLARATION)," ",i.a.createElement("span",{style:{display:"block"}}," ",R.a.PANCARD_DECLARATION_POS_Text)," ")),f&&i.a.createElement("p",{className:"pancard-declaration-text-main"},"\u201cI declare that I have provided valid Permanent Account Number details for making purchase exceeding Rs. 2,00,000 in compliance with section 139A of the Income-tax Act, 1961 read with Rule 114B of the Income-tax Rules, 1962.I understand that the said section along with the Rule provides that it is \xa0 \xa0 mandatory quoting of Permanent Account Number when the value of purchase or sale transaction of any goods or services of any nature except the others mentioned in point 1 to 17 of the table given in Rule 114B of the Income-tax Rules, 1962 exceeds Rs. 2,00,000 in a single transaction and to further avoid penalty of Rs. 10,000 that would be attracted under section 272B of the Income-tax Act, 1961 for not complying with section 139A of the Income-tax Act, 1961 or providing invalid details of Permanent Account Number. I further give authority to IRL to use my PAN details for the purpose of validating the same which would be carried out by IRL using their API\u201d"))))))))}catch(P){return console.log(P),i.a.createElement(i.a.Fragment,null," ")}},Lt=a(917),Pt=a(918);const Tt=["svgRef","title"];function kt(){return(kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(null,arguments)}const Rt=e=>{let{svgRef:t,title:a}=e,l=function(e,t){if(null==e)return{};var a,l,i=function(e,t){if(null==e)return{};var a={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(-1!==t.indexOf(l))continue;a[l]=e[l]}return a}(e,t);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(l=0;l<d.length;l++)a=d[l],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}(e,Tt);return i.a.createElement("svg",kt({width:8,height:6,viewBox:"0 0 8 6",fill:"none",ref:t},l),a?i.a.createElement("title",null,a):null,Ot||(Ot=i.a.createElement("path",{d:"M7.4375 1.125L2.85156 5.5L0.5625 3.3125",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})))},_t=i.a.forwardRef((e,t)=>i.a.createElement(Rt,kt({svgRef:t},e)));var Bt;a.p;const Ft=["svgRef","title"];function wt(){return(wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(null,arguments)}const Mt=e=>{let{svgRef:t,title:a}=e,l=function(e,t){if(null==e)return{};var a,l,i=function(e,t){if(null==e)return{};var a={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(-1!==t.indexOf(l))continue;a[l]=e[l]}return a}(e,t);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(l=0;l<d.length;l++)a=d[l],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}(e,Ft);return i.a.createElement("svg",wt({width:18,height:18,viewBox:"0 0 18 18",fill:"none",ref:t},l),a?i.a.createElement("title",null,a):null,Bt||(Bt=i.a.createElement("path",{d:"M3.25781 14.7422C2.53906 14.0234 3.01562 12.5156 2.64844 11.6328C2.28125 10.75 0.875 9.97656 0.875 9C0.875 8.02344 2.26562 7.28125 2.64844 6.36719C3.03125 5.45313 2.53906 3.97656 3.25781 3.25781C3.97656 2.53906 5.48438 3.01562 6.36719 2.64844C7.25 2.28125 8.02344 0.875 9 0.875C9.97656 0.875 10.7188 2.26562 11.6328 2.64844C12.5469 3.03125 14.0234 2.53906 14.7422 3.25781C15.4609 3.97656 14.9844 5.48438 15.3516 6.36719C15.7188 7.25 17.125 8.02344 17.125 9C17.125 9.97656 15.7344 10.7188 15.3516 11.6328C14.9688 12.5469 15.4609 14.0234 14.7422 14.7422C14.0234 15.4609 12.5156 14.9844 11.6328 15.3516C10.75 15.7188 9.97656 17.125 9 17.125C8.02344 17.125 7.28125 15.7344 6.36719 15.3516C5.45313 14.9688 3.97656 15.4609 3.25781 14.7422Z",fill:"#00E9BF"})))},xt=i.a.forwardRef((e,t)=>i.a.createElement(Mt,wt({svgRef:t},e)));a.p;var jt=a(236);const Qt=i.a.memo(Dt);var Vt=e=>{var t,a,d,n,s,c,m,v,p,g,E,h,A,f,b,S,N,y;let{formikOrderDetails:C,countError:I,panCardTabvarified:O,setPanCardTabvarified:D,inputRef:L,focus:P,data:k,isGift:_,isContriBution:B,orderDetailsLoader:F,exchangeAmount:M,disablePaymentBtn:x,callGetserviceAppointment:j,showLoader:Q,fraudMessage:U,selectedShipAddress:G,reserveSlotCall:J,validatePancard:W,backFuncPanCardVarifiedBtn:Y,handlerOpenPanCardVarifiedPopup:z,activePanCardVarified:K,setActivePanCarddVarified:X,panData:q,setPanData:Z,PancardError:$,setPancardError:ee,enteredPanCard:te,setEnteredPanCard:ae,paymentButtonStatus:le}=e;const[ie,de]=Object(l.useState)(!1),[oe,ne]=Object(l.useState)(!1),[se,re]=Object(l.useState)(!1),[ce,ue]=Object(l.useState)(""),[me,ve]=i.a.useState(!1),pe=()=>{ve(!me)},ge=()=>{ve(""),X(""),K&&D(!0)};Object(l.useEffect)(()=>{var e,t,a;const l=JSON.parse(localStorage.getItem("customer_details"));ue(l&&(null===l||void 0===l?void 0:l.neuPassInfo)&&(null===l||void 0===l||null===(e=l.neuPassInfo)||void 0===e?void 0:e.status)&&""!==(null===l||void 0===l||null===(t=l.neuPassInfo)||void 0===t?void 0:t.status)&&(null===l||void 0===l||null===(a=l.neuPassInfo)||void 0===a?void 0:a.status))},[]);const Ee=e=>e&&e.map((e,t)=>{var a,l;return{item_id:null===e||void 0===e||null===(a=e.product)||void 0===a?void 0:a.code,item_name:null===e||void 0===e||null===(l=e.product)||void 0===l?void 0:l.name,quantity:null===e||void 0===e?void 0:e.quantity}}),he=e=>{var t;(null===e||void 0===e||null===(t=e.entries)||void 0===t?void 0:t.length)>0&&(e=>{var t,a;const l=Object(V.c)(),{pagetype:i,source_page_url:d,previous_page_url:o,customer_hash:n,platform:s,login_trigger:r}=l;window.dataLayer.push({ecommerce:null}),window.dataLayer.push({event:"make_payment_click",pagetype:i,source_page_url:d,previous_page_url:o,login_trigger:n?r:"N/A",login_status:!!n,user_id:n,click_text:R.a.PROCEED_TO_PAYMENT,is_cross_sell:"N/A",platform:s,ecommerce:{currency:null===e||void 0===e||null===(t=e.totalPriceWithTax)||void 0===t?void 0:t.currencyIso,value:null===e||void 0===e||null===(a=e.totalPriceWithTax)||void 0===a?void 0:a.value,coupon:"N/A",payment_type:"N/A",items:Ee(e.entries)}})})(e)},Ae=e=>{const t=parseFloat(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return t<0?0:t};let fe=0;if(null===k||void 0===k?void 0:k.totalItems){if(fe=null===k||void 0===k?void 0:k.totalItems,(null===k||void 0===k?void 0:k.entries.length)>0){(null===k||void 0===k?void 0:k.entries.find(e=>e.product.code===r.a.giftProductId))&&(fe-=1),(null===k||void 0===k?void 0:k.entries.find(e=>e.product.code===r.a.donateProductId))&&(fe-=1)}if(fe<1)return null}const be=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mrp",t=0;if((null===k||void 0===k?void 0:k.allOfferSavingsData)&&Array.isArray(null===k||void 0===k?void 0:k.allOfferSavingsData)){(null===k||void 0===k?void 0:k.allOfferSavingsData).forEach(a=>{let l=0;"mrp"!==e||(null===a||void 0===a?void 0:a.allCouponData)?"mrp"!==e&&(null===a||void 0===a?void 0:a.allCouponData)&&(l=parseFloat(null===a||void 0===a?void 0:a.promotionSavings)):l=parseFloat(null===a||void 0===a?void 0:a.promotionSavings),t=parseFloat(t)+parseFloat(l)})}return 0===t?"0":t.toFixed(2)},Se=Object.keys(k).length>0&&k&&(null===k||void 0===k||null===(t=k.entries)||void 0===t?void 0:t.length)>0?Object(H.m)(null===k||void 0===k?void 0:k.entries):0;return i.a.createElement(i.a.Fragment,null,i.a.createElement("li",{className:"checkout-item sec-sticky"},i.a.createElement("div",{className:"summary"},i.a.createElement("div",{className:"cp-box payLoader order-summary-amount"},i.a.createElement("div",{className:"box-title chk-section-title order-summar-head"},R.a.ORDER_SUMMARY," ",k&&i.a.createElement("span",{className:"small"}," ( ",fe," ",fe>1?R.a.ITEMS:"item"," )")),i.a.createElement("div",{className:"payment-summary"},i.a.createElement("div",{className:"item-td"},i.a.createElement("div",null," ",R.a.ITEM_SUBTOTAL),i.a.createElement("div",null," ",k.subTotal?k.subTotal.formattedValue:"")),B&&B.checked&&(null===(a=B.contributionEntry)||void 0===a||null===(d=a.basePrice)||void 0===d?void 0:d.formattedValue)&&i.a.createElement("div",{className:"item-td"},i.a.createElement("div",null,R.a.DONATION),i.a.createElement("div",null," ",(null===B||void 0===B||null===(n=B.contributionEntry)||void 0===n||null===(s=n.basePrice)||void 0===s?void 0:s.formattedValue)?null===B||void 0===B||null===(c=B.contributionEntry)||void 0===c?void 0:c.basePrice.formattedValue:"")),_&&_.checked&&(null===(m=_.giftEntry)||void 0===m||null===(v=m.basePrice)||void 0===v?void 0:v.formattedValue)&&i.a.createElement("div",{className:"item-td"},i.a.createElement("div",null,R.a.GIFT_ITEM),i.a.createElement("div",null," ",(null===_||void 0===_||null===(p=_.giftEntry)||void 0===p||null===(g=p.basePrice)||void 0===g?void 0:g.formattedValue)?null===_||void 0===_||null===(E=_.giftEntry)||void 0===E?void 0:E.basePrice.formattedValue:"")),(null===k||void 0===k?void 0:k.totalDiscounts)&&(null===(h=k.totalDiscounts)||void 0===h?void 0:h.value)>0&&i.a.createElement("div",{className:"price-saver item-td-save"},i.a.createElement("div",{className:"saving-plus",onClick:()=>re(!se)},R.a.SAVINGS,i.a.createElement("div",{className:"plus-icon-tx"},se?i.a.createElement(Pt.a,null):i.a.createElement(Lt.a,null))),i.a.createElement("div",{className:"item-value"}," -",k.totalDiscounts?k.totalDiscounts.formattedValue:"")),k&&(null===k||void 0===k?void 0:k.allOfferSavingsData)&&(null===(A=k.allOfferSavingsData[0])||void 0===A?void 0:A.promotionSavings)&&se&&i.a.createElement("div",{className:"savings-main mrp-cont "},i.a.createElement("div",{className:"mrp-dis-txs"},R.a.DISCOUNT_MRP," "),i.a.createElement("div",{className:"savings-val"},"\u20b9",be("mrp"))),k&&(null===k||void 0===k?void 0:k.allOfferSavingsData)&&((null===(f=k.allOfferSavingsData[0])||void 0===f?void 0:f.promotionSavings)||(null===(b=k.allOfferSavingsData[0])||void 0===b?void 0:b.allCouponData))&&se&&i.a.createElement("div",{className:"savings-main"},i.a.createElement("div",{className:"mrp-dis-txs"},R.a.COUPON_DISCOUNT),i.a.createElement("div",{className:"savings-val"},"\u20b9",be("coupon"))),M>0&&se&&i.a.createElement("div",{className:k&&(null===k||void 0===k?void 0:k.allOfferSavingsData)&&(null===k||void 0===k?void 0:k.allOfferSavingsData.length)>0?"savings-main":"savings-main mrp-cont"},i.a.createElement("div",{className:"mrp-dis-txs"},R.a.EXCHANGE_VALUE),i.a.createElement("div",{className:"savings-val"},"\u20b9",Ae(M))),Object.keys(k).length>0&&k&&(null===k||void 0===k?void 0:k.hasExchangeProduct)&&Se>0&&se&&i.a.createElement("div",{className:"savings-main"},i.a.createElement("div",{className:"mrp-dis-txs"},R.a.EXCHANGE_BONUS),i.a.createElement("div",{className:"savings-val"},"\u20b9",Ae(Se))),i.a.createElement("div",{className:"total total-cart item-td"},i.a.createElement("div",null,R.a.ORDER_TOTAL_CHECK),i.a.createElement("div",null," ",k.totalPriceWithTax?k.totalPriceWithTax.formattedValue:""))),O&&Re.isMobile&&i.a.createElement("div",{className:"pancard-varified-success-message  pancard-varified-mobile-success"},i.a.createElement("div",{className:"pancard-varified-success-image"},i.a.createElement("div",{className:"pancard-varified-success-icon"},i.a.createElement(xt,null)),i.a.createElement("div",{className:"pancard-varified-success-check"},i.a.createElement(_t,null))),i.a.createElement("div",{className:"pancard-varified-success-text"},"PAN Card successfully verified"),i.a.createElement("div",{className:"pancard-varified-success-message-sec"},q&&(null===q||void 0===q?void 0:q.name)&&i.a.createElement("p",{className:"pancard-varified-text pancard-payment-varified-text"},i.a.createElement("span",null,"Name on PAN"),": ",i.a.createElement("span",{className:"txt-capitalize"},q&&(null===q||void 0===q?void 0:q.name.toLowerCase()))," "),i.a.createElement("button",{type:"button",className:"pancard-varified-modal",onClick:()=>{pe()}},"Edit"),me&&i.a.createElement(u.a,{classes:{paper:"pancard-container"},open:me,onClose:ge,disableEscapeKeyDown:!0},i.a.createElement("div",{className:"pancard-top-main-sec",id:"pancard-top-main-sec-main"},i.a.createElement("div",{className:"pancard-inner-modal-sec"},i.a.createElement("div",{className:"pancard-main-contentbox"},i.a.createElement("div",{className:"pancard-inner-close"},i.a.createElement("div",{className:"close-btn",onClick:ge},i.a.createElement(T.a,null)))),i.a.createElement(Qt,{activePanCardTabState1:me,setPanCardTabvarified:D,setActivePanCardTabState1:ve,backFuncPanCardBtn:ge,validatePancard:W,backFuncPanCardVarifiedBtn:Y,handlerOpenPanCardVarifiedPopup:z,activePanCardVarified:K,setActivePanCarddVarified:X,panData:q,setPanData:Z,PancardError:$,setPancardError:ee,enteredPanCard:te,setEnteredPanCard:ae})))))),i.a.createElement("div",{className:"btn-payment-checkout"},(null===(S=k.subTotal)||void 0===S?void 0:S.value)>2e5&&!O&&r.a.PANCARD_ENABLED_FLAG?i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{type:"button",className:!le||C.isSubmitting||x||I.length>0||U?"btn btn-default pay-txt pay-txt-up disable-color":"btn btn-default pay-txt-up pay-txt",id:"checkout-payment-button",disabled:!le||C.isSubmitting||x||I.length>0||U,onClick:()=>{pe()}},"Proceed to Payment"),me&&i.a.createElement(u.a,{classes:{paper:"pancard-container"},open:me,onClose:ge,disableEscapeKeyDown:!0},i.a.createElement("div",{className:"pancard-top-main-sec",id:"pancard-top-main-sec-main"},i.a.createElement("div",{className:"pancard-inner-modal-sec"},i.a.createElement("div",{className:"pancard-main-contentbox"},i.a.createElement("button",{className:"icon icon-close",type:"button",onClick:ge})),i.a.createElement(Qt,{activePanCardTabState1:me,setPanCardTabvarified:D,setActivePanCardTabState1:ve,backFuncPanCardBtn:ge,validatePancard:W,backFuncPanCardVarifiedBtn:Y,handlerOpenPanCardVarifiedPopup:z,activePanCardVarified:K,setActivePanCarddVarified:X,panData:q,setPanData:Z,PancardError:$,setPancardError:ee,enteredPanCard:te,setEnteredPanCard:ae}))))):i.a.createElement("button",{type:"submit",className:!le||C.isSubmitting||x||I.length>0||U?"btn btn-default pay-txt pay-txt-up disable-color":"btn btn-default pay-txt-up pay-txt",id:"checkout-payment-button",disabled:!le||C.isSubmitting||x||I.length>0||U,onClick:async()=>{j(),M>0&&r.a.ENABLE_UNIVERSAL_EXCHANGE&&(()=>{var e,t;const a="undefined"!==typeof Storage&&localStorage.getItem("customer_hash");let l=k&&(e=>{let t=[];return e.map(e=>{e.exchangeAmount&&(t=e)}),t})(null===k||void 0===k?void 0:k.entries),i="".concat((null===G||void 0===G?void 0:G.addressLine)?(null===G||void 0===G?void 0:G.addressLine.toUpperCase())+", ":"").concat((null===G||void 0===G?void 0:G.landmark)?(null===G||void 0===G?void 0:G.landmark.toUpperCase())+", ":"").concat((null===G||void 0===G?void 0:G.cityTown)?(null===G||void 0===G?void 0:G.cityTown)+", ":"").concat((null===G||void 0===G?void 0:G.state)?null===G||void 0===G?void 0:G.state:"").concat((null===G||void 0===G?void 0:G.pinCode)?" - "+(null===G||void 0===G?void 0:G.pinCode):""),d={orderId:k.code,customerHash:a,saleProductSKU:null===l||void 0===l||null===(e=l.product)||void 0===e?void 0:e.code,saleItemCategory:null===l||void 0===l||null===(t=l.product)||void 0===t?void 0:t.immediateSuperCategoryName,sNoOfTradeInItem:"",tradeInCategory:(null===l||void 0===l?void 0:l.exchangeProductCategoryName)?null===l||void 0===l?void 0:l.exchangeProductCategoryName:null,tradeInBrand:(null===l||void 0===l?void 0:l.exchangeProductBrandName)?null===l||void 0===l?void 0:l.exchangeProductBrandName:null,type:(null===l||void 0===l?void 0:l.exchangeProductType)?null===l||void 0===l?void 0:l.exchangeProductType:null,screenSize:(null===l||void 0===l?void 0:l.exchangeProductScreenSize)?null===l||void 0===l?void 0:l.exchangeProductScreenSize:null,tonnage:(null===l||void 0===l?void 0:l.exchangeProductTonnage)?null===l||void 0===l?void 0:l.exchangeProductTonnage:null,workingCondition:(null===l||void 0===l?void 0:l.exchangeProductWorkingCondition)?null===l||void 0===l?void 0:l.exchangeProductWorkingCondition:null,saleItemShipNode:"",pickupAddress:i,tradeInPrice:M,tradeInBonus:(null===l||void 0===l?void 0:l.exchangeProductExchangeBonus)?null===l||void 0===l?void 0:l.exchangeProductExchangeBonus:null,verifiedFlag:"",notes:"",tradeInModel:(null===l||void 0===l?void 0:l.exchangeProductName)?null===l||void 0===l?void 0:l.exchangeProductName:null,tradeInProvider:(null===l||void 0===l?void 0:l.exchangeProductServiceProvider)?null===l||void 0===l?void 0:l.exchangeProductServiceProvider:null,exchangeQuoteId:(null===l||void 0===l?void 0:l.exchangeQuoteId)?null===l||void 0===l?void 0:l.exchangeQuoteId:null};if(!r.a.LAPTOP_EXCHANGE_KEY){const e={sNoOfTradeInItem:(null===l||void 0===l?void 0:l.exchangeProductSerialNo)?null===l||void 0===l?void 0:l.exchangeProductSerialNo:null,generation:(null===l||void 0===l?void 0:l.exchangeProductGeneration)?null===l||void 0===l?void 0:l.exchangeProductGeneration:null,processor:(null===l||void 0===l?void 0:l.exchangeProductProcessor)?null===l||void 0===l?void 0:l.exchangeProductProcessor:null};d=Object(o.a)(Object(o.a)({},d),e)}if(!r.a.EXCHANGE_BONUS_KEY){const e={cromaBonusContribution:(null===l||void 0===l?void 0:l.exchangeProductCromaBonusContribution)?null===l||void 0===l?void 0:l.exchangeProductCromaBonusContribution:null,oEMBonusContribution:(null===l||void 0===l?void 0:l.exchangeProductOEMBonusContribution)?null===l||void 0===l?void 0:l.exchangeProductOEMBonusContribution:null,expiryDate:(null===l||void 0===l?void 0:l.exchangeProductBonusExpiryDate)?null===l||void 0===l?void 0:l.exchangeProductBonusExpiryDate:null};d=Object(o.a)(Object(o.a)({},d),e)}Object(jt.e)(d,null===k||void 0===k?void 0:k.code).then(e=>{}).catch(e=>{})})(),he(k),setTimeout(()=>{P()},500);const e=await C.validateForm(),t=Object.keys(e);if(t.length>0){const e=document.getElementsByName(t[0])[0];e&&e.focus()}}},"Proceed to Payment")),i.a.createElement("div",{className:"free-delivery-text"},"Delivery charges, if applicable , will be calculated on the next page"),(null===k||void 0===k?void 0:k.cartThresholdMessage)?i.a.createElement("div",{className:"free-delivery-text"},i.a.createElement("br",null),i.a.createElement("div",{className:"free-delivery-text"},null===k||void 0===k||null===(N=k.cartThresholdMessage)||void 0===N?void 0:N.split("\n")[0]),i.a.createElement("div",{className:"free-delivery-text"},null===k||void 0===k||null===(y=k.cartThresholdMessage)||void 0===y?void 0:y.split("\n")[1])):"",I.length>0&&!Re.isMobile&&i.a.createElement("div",{className:"payment-error-product"},"Remove the product not available to ship and continue to payment"),i.a.createElement(w.a,{show:F})),I.length>0&&Re.isMobile&&i.a.createElement("div",{className:"payment-error-product"},"Remove the product not available to ship and continue to payment"),O&&Re.isDesktop&&i.a.createElement("div",{className:"pancard-varified-success-message"},i.a.createElement("div",{className:"pancard-varified-success-image"},i.a.createElement("div",{className:"pancard-varified-success-icon"},i.a.createElement(xt,null)),i.a.createElement("div",{className:"pancard-varified-success-check"},i.a.createElement(_t,null))),i.a.createElement("div",{className:"pancard-varified-success-text"},"PAN Card successfully verified"),i.a.createElement("div",{className:"pancard-varified-success-message-sec"},q&&(null===q||void 0===q?void 0:q.name)&&i.a.createElement("p",{className:"pancard-varified-text pancard-payment-varified-text"},i.a.createElement("span",null,"Name on PAN"),": ",i.a.createElement("span",{className:"txt-capitalize"},q&&(null===q||void 0===q?void 0:q.name.toLowerCase()))),i.a.createElement("button",{type:"button",className:"pancard-varified-modal",onClick:()=>{pe()}},"Edit"),me&&i.a.createElement(u.a,{classes:{paper:"pancard-container"},open:me,onClose:ge,disableEscapeKeyDown:!0},i.a.createElement("div",{className:"pancard-top-main-sec",id:"pancard-top-main-sec-main"},i.a.createElement("div",{className:"pancard-inner-modal-sec"},i.a.createElement("div",{className:"pancard-main-contentbox"},i.a.createElement("button",{className:"icon icon-close",type:"button",onClick:ge})),i.a.createElement(Qt,{activePanCardTabState1:me,setPanCardTabvarified:D,setActivePanCardTabState1:ve,backFuncPanCardBtn:ge,validatePancard:W,backFuncPanCardVarifiedBtn:Y,handlerOpenPanCardVarifiedPopup:z,activePanCardVarified:K,setActivePanCarddVarified:X,panData:q,setPanData:Z,PancardError:$,setPancardError:ee,enteredPanCard:te,setEnteredPanCard:ae})))))))))},Ht=a(892),Ut=a(886),Gt=a(31),Jt=a(113),Wt=a(111);var Yt=Object(Gt.b)(e=>({mobileData:e.profileReducer.mobileData,isFetching:e.profileReducer.isFetching,updatedmobileData:e.profileReducer.updatedmobileData}),e=>({checkMobileData:t=>{e(Object(Jt.b)(t))},updateMobileData:t=>{e(Object(Jt.k)(t))}}))((function(e){let{updateMobileData:t,mobile:a,setMobile:d,mobileData:o,formikUserProfileForm:s,formikOrderDetails:r,isCSC:c,profileModification:v}=e;const[p,g]=Object(l.useState)(!0),[E,h]=Object(l.useState)(""),[A,f]=Object(l.useState)(""),b=Object(l.useRef)(null),[S,N]=Object(l.useState)(""),[y,C]=Object(l.useState)(""),[I,O]=Object(l.useState)("disabled"),[D,L]=Object(l.useState)(["","","",""]);let P=["","","",""];Object(l.useEffect)(()=>{a&&h(a)},[a]);const T=Object(n.d)({initialValues:{mobileNo:""},onSubmit:e=>{},validate:e=>{const t={};return e.mobileNo?/^([0-9]){10}?$/.test(e.mobileNo)||(t.mobileNo=R.a.MOBILE_NUMBER_VALIDATION_ERROR):t.mobileNo=R.a.MOBILE_NUMBER_ERROR,t}}),k=Object(n.d)({initialValues:{otp:""},onSubmit:e=>{s.setFieldValue("contactMobileNo",T.values.mobileNo),r.setFieldValue("contactMobileNo",T.values.mobileNo)},validate:e=>{const t={};return e.otp?/^([0-9]){4}?$/.test(e.otp)||(t.otp="Please enter valid 6 digit OTP."):t.otp="OTP is required",t}}),[_,B]=Object(l.useState)(""),[F,w]=Object(l.useState)(!1),M=()=>{w(!1),clearInterval(x),g(!0),O("disabled")},[x,j]=Object(l.useState)(0);let Q=30;const V=Object(l.useRef)(),[H,U]=i.a.useState(!1),[J,W]=Object(l.useState)(!1),[Y,z]=i.a.useState("00"),X=()=>{Q<0?(W(!0),U(!0)):(0===Q&&(W(!0),U(!0)),1===Q.toString().length?z("0"+Q):z(Q),Q--)},q=(e,t)=>{N(t),C(e),b&&b.current&&b.current.openToast()};return Object(l.useEffect)(()=>{var e;const t=null===k||void 0===k||null===(e=k.values)||void 0===e?void 0:e.otp,a=Array.from(String(t),e=>Number(e)),l=a.length;P.fill("",l,4),P.splice(0,a.length,...a),D.splice(0,P.length,...P)},[k.values.otp]),Object(l.useEffect)(()=>{setTimeout(()=>{V&&V.current&&V.current.focus()},300)},[V&&V.current]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"form-group","data-testid":"MobileNumber"},i.a.createElement("label",{className:"lbl-title"},R.a.MOBILE_NUMBER),i.a.createElement("div",{className:"add-on add-right"},i.a.createElement("span",{className:s.touched.contactMobileNo&&s.errors.contactMobileNo||r.touched.contactMobileNo&&r.errors.contactMobileNo?"input-group-addon-adjust country-code-address mobile-separator":"input-group-addon country-code-address mobile-separator"},i.a.createElement("span",{className:"country-code-separator"},"+ 91")),!c&&i.a.createElement("button",{type:"button",className:s.touched.contactMobileNo&&s.errors.contactMobileNo?"input-group-right-adjust":"input-group-right",onClick:()=>{w(!0),B("typ-mob"),g(!0)}},i.a.createElement("i",{className:"icon icon-edit"})),i.a.createElement("input",{type:"tel",className:"formControl ".concat(s.touched.contactMobileNo&&s.errors.contactMobileNo?"fc-error":""),placeholder:"Enter your mobile number",name:"contactMobileNo",maxLength:"10",onBlur:r.handleBlur,role:"presentation",readOnly:!c,value:E,onClick:()=>{c||(w(!0),B("typ-mob"),g(!0))}}),s.touched.contactMobileNo&&s.errors.contactMobileNo||r.touched.contactMobileNo&&r.errors.contactMobileNo?i.a.createElement("span",{className:"error"},s.errors.contactMobileNo):null)),i.a.createElement(u.a,{open:F,disableBackdropClick:"true",disableEscapeKeyDown:"true"},i.a.createElement("button",{className:"icon icon-close",type:"button",onClick:M}),i.a.createElement(m.a,null,p?i.a.createElement("div",{className:"modal-wrap modal-xs ".concat(p?"input-mobile-container":"input-otp-container")},i.a.createElement("div",{className:"cp-login typ-small input-mobile"}," ",i.a.createElement("form",{onSubmit:T.handleSubmit},i.a.createElement("div",{className:"login-typ cp-popup-form typ-mob ".concat("typ-mob"===_?"active":"")},i.a.createElement("h3",{className:"modal-title header-text-modal"},R.a.NEW_MOBILE_NUMBER),i.a.createElement("div",{className:"form-group"},i.a.createElement("div",{className:"add-on"},i.a.createElement("span",{className:"input-group-addon country-code-address continue-creating-code"},"+ 91"),i.a.createElement("input",{type:"tel",className:"formControl ".concat(T.touched.mobileNo&&T.errors.mobileNo?"fc-error":""),placeholder:"Enter your mobile number",name:"mobileNo",maxLength:"10",value:T.values.mobileNo,onChange:e=>{const t=e.target.value;(""===t||/^[0-9\b]+$/.test(t))&&T.setFieldValue("mobileNo",t)},onBlur:T.handleBlur})),T.touched.mobileNo&&T.errors.mobileNo?i.a.createElement("span",{className:"error"},T.errors.mobileNo):null),i.a.createElement("div",{className:"act-btn validate-mobile-button"},i.a.createElement("button",{className:"btn btn-default ".concat(T.dirty&&T.isValid?"":"disabled"),type:"submit",disabled:!(T.dirty&&T.isValid),onClick:()=>{var e;e=T.values.mobileNo,Object(Wt.d)(e).then(t=>{"success"===t.status?(Q=30,z(Q),j(setInterval(X,1e3)),g(!1),f(t.data.refId),B("typ-otp"),O("disabled"),t.data.phoneNumberEnrolled?q(R.a.EXISTING_MOBILE_MSG+e,G.f.SUCCESS):q(R.a.NEW_MOBILE_MSG+e,G.f.SUCCESS)):q(t.data.success?t.data.success:R.a.SOMETHING_WENT_WRONG,G.f.ERROR)}),L(["","","","","",""]),k.setFieldValue("otp","")}},R.a.SEND_OTP)))))):i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"ttl-con"},i.a.createElement("h1",{className:"card-title"},"Enter OTP"),i.a.createElement("small",{className:"card-subtitle"},"OTP sent successfully to ",i.a.createElement("a",null,i.a.createElement("strong",null,T.values.mobileNo))," ")),i.a.createElement("form",{onSubmit:k.handleSubmit,autoComplete:"off",className:"card-form login-otp-validate"},i.a.createElement("div",{className:"card-input-container"},i.a.createElement("div",{id:"divOuter"},i.a.createElement("div",{id:"divInner"},i.a.createElement("input",{inputmode:"numeric",id:"partitioned",type:"text",name:"otp",maxLength:4,size:4,ref:V,autofocus:!0,autoComplete:"off",onBlur:e=>{e.target.value.length<4?(k.setFieldValue("otp",e.target.value),k.setFieldTouched("otp",!0),V&&V.current&&V.current.focus()):k.setFieldTouched("otp",!0)},onChange:e=>{const t=e.target.value;""===t||/^[0-9\b]+$/.test(t)?(V.current.selectionStart=V.current.value.length,V.current.selectionEnd=V.current.value.length,k.setFieldValue("otp",t),4===t.length?O(""):O("disabled")):O("disabled")}}),i.a.createElement("div",{className:"mf-dots"},i.a.createElement("span",{className:"dot number"},k.values.otp[0]?k.values.otp[0]:""),i.a.createElement("span",{className:"dot number"},k.values.otp[1]?k.values.otp[1]:""),i.a.createElement("span",{className:"dot number"},k.values.otp[2]?k.values.otp[2]:""),i.a.createElement("span",{className:"dot number"},k.values.otp[3]?k.values.otp[3]:""))))),i.a.createElement("button",{className:"card-button btn btn-default ".concat(I),type:"submit",disabled:I,onClick:()=>{((e,t,a)=>{Object(Wt.o)(e,t,a).then(e=>{"success"===e.status?(M(),q(R.a.UPDATE_MOBILE_SUCCESS_MESSAGE,G.f.SUCCESS),s.setFieldValue("contactMobileNo",t),r.setFieldValue("contactMobileNo",t),v("mobile_modification",t),h(t),d(T.values.mobileNo),g(!1)):(L(["","","",""]),k.setFieldValue("otp",""),O("disabled"),V&&V.current&&V.current.focus(),q(e.data.message?e.data.message:R.a.SOMETHING_WENT_WRONG,G.f.ERROR))})})(A,T.values.mobileNo,k.values.otp)}},R.a.VALIDATE_OTP),i.a.createElement("small",{className:"card-notify-msg"},"This OTP is valid for 15 minutes"),i.a.createElement("small",{className:"card-new-account"},"Didn't Receive Your OTP?  ",i.a.createElement("button",{className:"btn btn-link btn-resend ".concat(H?"active":"disabled"),type:"button",onClick:()=>{Object(Wt.k)(A).then(e=>{"success"===e.status?(clearInterval(x),W(!1),U(!1),Q=30,j(setInterval(X,1e3)),z(Q),f(e.data.refId),q(R.a.RESEND_OTP_SUCCESS,G.f.SUCCESS)):q(e.data.message?e.data.message:R.a.SOMETHING_WENT_WRONG,G.f.ERROR)})},disabled:!H},"Resend ",J?"":i.a.createElement("span",{className:"login-timer"},"in ",Y," secs"))))))),i.a.createElement(K.a,{ref:b,varient:S,msg:y}))}));var zt=function(e){let{formikUserProfileForm:t,formikOrderDetails:a,email:d,isCSC:o,profileModification:s,isemailVerified:c,setIsemailVerified:v,giftcardEmail:p}=e;const[g,E]=Object(l.useState)(!0),[h,A]=Object(l.useState)(""),[f,b]=Object(l.useState)(!1),[S,N]=Object(l.useState)(""),[y,C]=Object(l.useState)(""),I=Object(l.useRef)(null),[O,D]=Object(l.useState)(""),[L,P]=Object(l.useState)(""),[T,k]=Object(l.useState)(["","","",""]);let _=["","","",""];const[B,F]=Object(l.useState)("disabled"),w=Object(n.d)({initialValues:{emailId:""},onSubmit:e=>{H=30,z(H),V(setInterval(Z,1e3)),A("typ-otp"),F("disabled")},validate:e=>{const t={};return e.emailId?/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.emailId)||(t.emailId=R.a.EMAIL_ID_VALIDATION_ERROR):t.emailId=R.a.EMAIL_ID_ERROR,t}}),M=()=>{b(!0),A("typ-mob"),E(!0)};Object(l.useEffect)(()=>{d&&(C(d),!c&&r.a.EMAIL_VERIFY_REQUIRED&&(M(),w.setFieldValue("emailId",d)))},[d,c]),Object(l.useEffect)(()=>{""!==p&&(b(!0),A("typ-mob"),E(!0),w.setFieldValue("emailId",p))},[p]);const x=()=>{b(!1),clearInterval(Q),E(!0),F("disabled")},j=Object(n.d)({initialValues:{otp:""},onSubmit:e=>{t.setFieldValue("contactemail",w.values.emailId),a.setFieldValue("contactemail",w.values.emailId),a.setFieldValue("digitalDeliveryEmail",w.values.emailId),b(!1),A("")},validate:e=>{const t={};return e.otp?/^([0-9]){4}?$/.test(e.otp)||(t.otp="Please enter valid 6 digit OTP."):t.otp="OTP is required",t}}),[Q,V]=Object(l.useState)(0);let H=30;const U=Object(l.useRef)(),[J,W]=i.a.useState(!1),[Y,z]=i.a.useState("00"),[X,q]=Object(l.useState)(!1),Z=()=>{H<0?(q(!0),W(!0)):(0===H&&(q(!0),W(!0)),1===H.toString().length?z("0"+H):z(H),H--)},$=(e,t)=>{D(t),P(e),I&&I.current&&I.current.openToast()};return Object(l.useEffect)(()=>{var e;const t=null===j||void 0===j||null===(e=j.values)||void 0===e?void 0:e.otp,a=Array.from(String(t),e=>Number(e)),l=a.length;_.fill("",l,4),_.splice(0,a.length,...a),T.splice(0,_.length,..._)},[j.values.otp]),Object(l.useEffect)(()=>{setTimeout(()=>{U&&U.current&&U.current.focus()},300)},[U&&U.current]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},R.a.EMAIL_ID),i.a.createElement("div",{className:"add-right"},!o&&i.a.createElement("button",{type:"button",className:t.touched.contactemail&&t.errors.contactemail||a.touched.contactemail&&a.errors.contactemail?"input-group-right-adjust":"input-group-right",onClick:()=>{M()}},i.a.createElement("i",{className:"icon icon-edit"})),i.a.createElement("input",{className:"formControl ".concat(t.touched.contactemail&&t.errors.contactemail||a.touched.contactemail&&a.errors.contactemail?"fc-error":""),type:"email",name:"contactemail",maxLength:"100",placeholder:"Enter Email ID",value:y,onBlur:()=>{o&&a.handleBlur()},role:"presentation",readOnly:!o,onClick:()=>{o||(b(!0),A("typ-mob"),E(!0))}}),t.touched.contactemail&&t.errors.contactemail||a.touched.contactemail&&a.errors.contactemail?i.a.createElement("span",{className:"error"},t.errors.contactemail||a.errors.contactemail):null)),i.a.createElement(u.a,{open:f,disableBackdropClick:"true",disableEscapeKeyDown:"true"},i.a.createElement("button",{className:"icon icon-close",type:"button",onClick:x}),i.a.createElement(m.a,null,g?i.a.createElement("div",{className:"modal-wrap modal-xs ".concat(g?"input-mobile-container":"input-otp-container")},i.a.createElement("div",{className:"cp-login typ-small input-mobile"}," ",i.a.createElement("form",{onSubmit:w.handleSubmit},i.a.createElement("div",{className:"login-typ cp-popup-form typ-mob ".concat("typ-mob"===h?"active":"")},i.a.createElement("h3",{className:"modal-title header-text-modal"},R.a.NEW_EMAIL_ID),i.a.createElement("div",{className:"form-group"},i.a.createElement("input",{type:"email",className:"formControl ".concat(w.touched.emailId&&w.errors.emailId?"fc-error":""),placeholder:"Enter your Email Id",name:"emailId",maxLength:"100",value:w.values.emailId,onChange:e=>{const t=e.target.value;w.setFieldValue("emailId",t)},onBlur:w.handleBlur}),w.touched.emailId&&w.errors.emailId?i.a.createElement("span",{className:"error"},w.errors.emailId):null,!c&&void 0==w.errors.emailId&&r.a.EMAIL_VERIFY_REQUIRED&&null!=d&&i.a.createElement("span",{className:"error"}," Your Emal is not verified, Please verify your email.")),i.a.createElement("div",{className:"act-btn validate-mobile-button"},i.a.createElement("button",{className:"btn btn-default ".concat(w.dirty&&w.isValid?"":"disabled"),type:"submit",disabled:!(w.dirty&&w.isValid),onClick:e=>{e.preventDefault(),(e=>{Object(Wt.b)(e).then(t=>{"success"===t.status?(H=30,z(H),V(setInterval(Z,1e3)),A("typ-otp"),E(!1),N(t.data.refId),t.data.emailEnrolled?$(R.a.EXISTING_EMAIL_MSG+e,G.f.SUCCESS):$(R.a.NEW_EMAIL_MSG+e,G.f.SUCCESS)):$(t.data.message?t.data.message:R.a.SOMETHING_WENT_WRONG,G.f.ERROR)})})(w.values.emailId),k(["","","",""]),j.setFieldValue("otp","")}},R.a.SEND_OTP)))))):i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"ttl-con"},i.a.createElement("h1",{className:"card-title"},"Enter OTP"),i.a.createElement("small",{className:"card-subtitle"},"OTP sent successfully to ",i.a.createElement("a",null,i.a.createElement("strong",null,w.values.emailId))," ")),i.a.createElement("form",{onSubmit:j.handleSubmit,autoComplete:"off",className:"card-form login-otp-validate"},i.a.createElement("div",{className:"card-input-container"},i.a.createElement("div",{id:"divOuter"},i.a.createElement("div",{id:"divInner"},i.a.createElement("input",{inputmode:"numeric",name:"otp",id:"partitioned",ref:U,autoComplete:"off",value:j.values.otp,maxLength:4,size:4,max:9999,autoFocus:!0,onChange:e=>{const t=e.target.value;""===t||/^[0-9\b]+$/.test(t)?(U.current.selectionStart=U.current.value.length,U.current.selectionEnd=U.current.value.length,j.setFieldValue("otp",t),4===t.length?F(""):F("disabled")):F("disabled")},onBlur:e=>{e.target.value.length<4?(j.setFieldValue("otp",e.target.value),j.setFieldTouched("otp",!0),U&&U.current&&U.current.focus()):j.setFieldTouched("otp",!0)}}),i.a.createElement("div",{className:"mf-dots"},i.a.createElement("span",{className:"dot number"},j.values.otp[0]?j.values.otp[0]:""),i.a.createElement("span",{className:"dot number"},j.values.otp[1]?j.values.otp[1]:""),i.a.createElement("span",{className:"dot number"},j.values.otp[2]?j.values.otp[2]:""),i.a.createElement("span",{className:"dot number"},j.values.otp[3]?j.values.otp[3]:""))))),i.a.createElement("button",{className:"card-button btn btn-default ".concat(B),type:"submit",disabled:B,onClick:e=>{e.preventDefault(),((e,l,i)=>{Object(Wt.n)(e,l,i).then(e=>{"success"===e.status?(x(),v(!0),$(R.a.UPDATE_EMAIL_SUCCESS_MESSAGE,G.f.SUCCESS),t.setFieldValue("contactemail",l),a.setFieldValue("contactemail",l),a.setFieldValue("digitalDeliveryEmail",l),s("email_modification",l),E(!1),C(l)):(k(["","","",""]),j.setFieldValue("otp",""),F("disabled"),U&&U.current&&U.current.focus(),$(e.data.message?e.data.message:R.a.SOMETHING_WENT_WRONG,G.f.ERROR))})})(S,w.values.emailId,j.values.otp)}},R.a.VALIDATE_OTP),i.a.createElement("small",{className:"card-notify-msg"},"This OTP is valid for 15 minutes"),i.a.createElement("small",{className:"card-new-account"},"Didn't Receive Your OTP? \xa0",i.a.createElement("button",{className:"btn btn-link btn-resend ".concat(J?"active":"disabled"),type:"button",onClick:()=>{Object(Wt.k)(S).then(e=>{"success"===e.status?(clearInterval(Q),q(!1),W(!1),H=30,V(setInterval(Z,1e3)),z(H),N(e.data.refId),$(R.a.RESEND_OTP_SUCCESS,G.f.SUCCESS)):$(e.data.message?e.data.message:R.a.SOMETHING_WENT_WRONG,G.f.ERROR)})},disabled:!J}," Resend ",X?"":i.a.createElement("span",{className:"login-timer"},"in ",Y," secs"))))))),i.a.createElement(K.a,{ref:I,varient:O,msg:L}))};const Kt=i.a.memo(Yt),Xt=i.a.memo(zt);var qt=e=>{var t,a,d;let{formikOrderDetails:o,addAddressSectionState:n,clickAddAddressSectionState:s,callProfileModification:c,addressloader:u,isemailVerified:m,setIsemailVerified:v,giftCardValue:p,isdigitalAvailable:g}=e;const[E,h]=i.a.useState(!1),[A,f]=i.a.useState(!1),[b,S]=i.a.useState(!1),[N,y]=i.a.useState(!1),[C,I]=i.a.useState(""),[O,D]=i.a.useState(""),[L,P]=i.a.useState(""),T=()=>{var e,t;s("contact"),f(!0),I(null===o||void 0===o||null===(e=o.values)||void 0===e?void 0:e.contactMobileNo),D(null===o||void 0===o||null===(t=o.values)||void 0===t?void 0:t.contactemail)};Object(l.useEffect)(()=>{let e="undefined"!==typeof Storage&&"true"===localStorage.getItem("isCSC");h(e),e&&""===o.values.contactemail&&T()},[]),Object(l.useEffect)(()=>{p&&(n.contactProfileInfoForm||o.setFieldValue("contactemail",null===p||void 0===p?void 0:p.fromEmail),P(null===p||void 0===p?void 0:p.fromEmail))},[p]),Object(l.useEffect)(()=>{N&&b&&(s("contact-edi"),f(!1),S(!1),y(!1),I(o.values.contactMobileNo),D(o.values.contactemail))},[b,N]);const k=(e,t)=>{const a={dateOfAnniversary:"",dateOfBirth:"",emailId:"email_modification"===e?t:o.values.contactemail,firstName:o.values.contactFName?o.values.contactFName:"",gender:"",lastName:o.values.contactLName?o.values.contactLName:"",phoneNo:"mobile_modification"===e?t:o.values.contactMobileNo,titleCode:o.values.contactTitleCode?o.values.contactTitleCode:""};c(a,!0)};return i.a.createElement("li",{className:"checkout-item"},(null===n||void 0===n?void 0:n.contactProfileInfoForm)?i.a.createElement("div",{className:"cp-box-no-shadow"},i.a.createElement("div",{className:"box-title chk-section-title"},R.a.COUNTRY_INFORMATION),i.a.createElement("div",{className:"form-list"},i.a.createElement("ul",{className:"list col2"},i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},R.a.PROFILE_TITLE),i.a.createElement(Ht.a,{labelId:"demo-simple-select-placeholder-label-label",id:"demo-simple-select-placeholder-label",value:o.values.contactTitleCode,onChange:o.handleChange,placeholder:"Select",className:"".concat(o.touched.contactTitleCode&&o.errors.contactTitleCode?"fc-error":""),name:"contactTitleCode",MenuProps:{getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},classes:{paper:!r.a.CROMA_DARK_THEME&&"dark-theme title-field"}}},i.a.createElement(Ut.a,{value:"Mr",name:"scheduleTime1"},"Mr"),i.a.createElement(Ut.a,{value:"Mrs",name:"scheduleTime2"},"Mrs"),i.a.createElement(Ut.a,{value:"Miss",name:"scheduleTime3"},"Miss"),i.a.createElement(Ut.a,{value:"Ms",name:"scheduleTime4"},"Ms"),i.a.createElement(Ut.a,{value:"Dr",name:"scheduleTime5"},"Dr"),i.a.createElement(Ut.a,{value:"Prof",name:"scheduleTime5"},"Prof")),o.touched.contactTitleCode&&o.errors.contactTitleCode?i.a.createElement("span",{className:"error"},o.errors.contactTitleCode):null)),i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},R.a.FIRST_NAME+R.a.REQUIRED),i.a.createElement("input",{type:"text",maxLength:"160",placeholder:R.a.FIRST_NAME_PLACEHOLDER,name:"contactFName",className:"formControl ".concat(o.errors.contactFName||o.touched.contactFName&&o.errors.contactFName?"fc-error":""),value:o.values.contactFName,onChange:e=>{o.setFieldValue("contactFName",e.target.value),o.setFieldValue("contactFName",e.target.value)},onBlur:o.handleBlur}),o.errors.contactFName||o.touched.contactFName&&o.errors.contactFName?i.a.createElement("span",{className:"error"},o.errors.contactFName):null)),i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},R.a.MIDDLE_NAME),i.a.createElement("input",{type:"text",placeholder:R.a.MIDDLE_NAME_PLACEHOLDER,name:"contactMName",maxLength:"80",className:"formControl ".concat(o.touched.contactMName&&o.errors.contactMName?"fc-error":""),value:o.values.contactMName,onChange:o.handleChange,onBlur:o.handleBlur}),o.touched.contactMName&&o.errors.contactMName?i.a.createElement("span",{className:"error"},o.errors.contactMName):null)),i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},R.a.LAST_NAME+R.a.REQUIRED),i.a.createElement("input",{type:"text",placeholder:R.a.LAST_NAME_PLACEHOLDER,name:"contactLName",maxLength:"80",className:"formControl ".concat(o.errors.contactLName||o.touched.contactLName&&o.errors.contactLName?"fc-error":""),value:o.values.contactLName,onChange:e=>{o.setFieldValue("contactLName",e.target.value),o.setFieldValue("contactLName",e.target.value)},onBlur:o.handleBlur}),o.errors.contactLName||o.touched.contactLName&&o.errors.contactLName?i.a.createElement("span",{className:"error"},o.errors.contactLName):null)),i.a.createElement("li",{className:"item"},i.a.createElement(Xt,{email:o.values.contactemail,formikUserProfileForm:o,formikOrderDetails:o,isCSC:E,profileModification:k,giftcardEmail:L,isemailVerified:m,setIsemailVerified:v})),i.a.createElement("li",{className:"item"},i.a.createElement(Kt,{mobile:o.values.contactMobileNo,formikUserProfileForm:o,formikOrderDetails:o,isCSC:E,profileModification:k}))))):i.a.createElement("div",{className:"cp-box flat-border ".concat((null===n||void 0===n?void 0:n.contactInfoForm)?"":"field-disabled shipBillAddressLoader")},(null===n||void 0===n?void 0:n.contactInfoForm)?"":i.a.createElement(w.a,{show:u}),i.a.createElement("div",{className:"box-title chk-section-title ship-contact-info"},R.a.COUNTRY_INFORMATION),i.a.createElement("div",{className:"form-list ship-contact-info"},i.a.createElement("ul",{className:"list col2 email-contact"},!(A&&(null===n||void 0===n?void 0:n.contactInfoForm))&&i.a.createElement("div",{className:"con-email email-mobile-view"},i.a.createElement("div",{className:"con-email"},i.a.createElement("label",{className:"lbl-title space-email-mobile"},R.a.CHECKOUT_EMAIL,":"),i.a.createElement("div",null,i.a.createElement("span",{className:"mobile-email-text"},""===(null===o||void 0===o||null===(t=o.values)||void 0===t?void 0:t.contactemail)?"Enter Email ID":null===o||void 0===o||null===(a=o.values)||void 0===a?void 0:a.contactemail))),i.a.createElement("div",{className:"con-email mobile-con"},i.a.createElement("label",{className:"lbl-title space-email-mobile mobile-new"},R.a.CHECKOUT_MOBILE,":"),i.a.createElement("div",null,i.a.createElement("span",{className:"mobile-email-text"},null===o||void 0===o||null===(d=o.values)||void 0===d?void 0:d.contactMobileNo)))),A&&(null===n||void 0===n?void 0:n.contactInfoForm)?i.a.createElement("li",{className:"item item-email"},i.a.createElement("div",{className:"form-group ".concat(A&&(null===n||void 0===n?void 0:n.contactInfoForm)?"":"con-email")},i.a.createElement("label",{className:"lbl-title space-email-mobile"},R.a.CHECKOUT_EMAIL,":"),i.a.createElement("input",{className:"formControl ".concat(o.touched.contactemail&&o.errors.contactemail?"fc-new fc-error":A&&(null===n||void 0===n?void 0:n.contactInfoForm)?"fc-new":"  email-input"),type:"email",name:"contactemail",maxLength:"100",placeholder:"Enter Email ID",value:o.values.contactemail,onChange:o.handleChange,onBlur:o.handleBlur,readOnly:!(null===n||void 0===n?void 0:n.contactInfoForm),autoComplete:"off",role:"presentation"}),o.touched.contactemail&&o.errors.contactemail?i.a.createElement("span",{className:"error"},o.errors.contactemail):null)):null,A&&(null===n||void 0===n?void 0:n.contactInfoForm)?i.a.createElement("li",{className:"item item-mobile"},i.a.createElement("div",{className:"form-group ".concat(A&&(null===n||void 0===n?void 0:n.contactInfoForm)?"":"con-email mobile-con")},i.a.createElement("label",{className:"lbl-title ".concat(A&&(null===n||void 0===n?void 0:n.contactInfoForm)?"":"mobile-title space-email-mobile")},R.a.CHECKOUT_MOBILE,": "),i.a.createElement("input",{type:"tel",className:"formControl ".concat(o.touched.contactMobileNo&&o.errors.contactMobileNo?"fc-new fc-error":A&&(null===n||void 0===n?void 0:n.contactInfoForm)?"fc-new":"email-input "),placeholder:"Enter your mobile number",name:"contactMobileNo",maxLength:"10",value:o.values.contactMobileNo,onChange:e=>{const t=e.target.value;(""===t||/^[0-9\b]+$/.test(t))&&o.setFieldValue("contactMobileNo",t)},onBlur:o.handleBlur,readOnly:!(null===n||void 0===n?void 0:n.contactInfoForm),autoComplete:"off",role:"presentation"}),o.touched.contactMobileNo&&o.errors.contactMobileNo?i.a.createElement("span",{className:"error"},o.errors.contactMobileNo):null)):null),E&&g&&i.a.createElement("div",{className:"csc-warning-text"},i.a.createElement("span",null,"* Kindly check the Email ID entered. Product sent on this Email cannot be returned or refunded")),A&&(null===n||void 0===n?void 0:n.contactInfoForm)&&i.a.createElement("div",null,i.a.createElement("button",{type:"button",className:"btn btn-default case-transfrom",onClick:()=>{((e,t)=>{const a=t;""!==a&&/^([0-9]){10}?$/.test(a)?(o.setFieldValue("contactMobileNo",a),S(!0),o.setFieldError("contactMobileNo","")):(S(!1),o.setFieldError("contactMobileNo",R.a.MOBILE_NO_VALIDATION_ERROR)),""!==e&&/^(([^<>()\]\\.,;:\s@"]+(\.[^<>()\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)?(o.setFieldValue("contactemail",e),y(!0),o.setFieldError("contactemail","")):(y(!1),o.setFieldError("contactemail",R.a.EMAIL_VALIDATION_ERROR))})(o.values.contactemail,o.values.contactMobileNo)}},R.a.CHECKOUT_SAVE_DETAILS),i.a.createElement("button",{className:"btn btn-link hyperlink-default btn-between cancel-button-contact",onClick:()=>{s("contact-edi"),f(!1),o.setFieldValue("contactMobileNo",C),o.setFieldValue("contactemail",O),o.setFieldError("contactemail",""),o.setFieldError("contactMobileNo","")}},R.a.CANCEL_BUTTON_TEXT))),i.a.createElement("button",{type:"button",className:"btn-edit btn btn-link hyperlink-default change-button ship-contact-info",onClick:T,style:{display:(null===n||void 0===n?void 0:n.contactInfoForm)?"none":"block"}},R.a.CHECKOUT_CHANGE)))},Zt=a(560);const $t=["data","callTdFetchCustomer","setDisablePaymentBtn","shippingErrMsg","selectedShipAddress","orderDetailsLoader","IsValidJSONString","billingAddress","formikOrderDetails","addAddressSectionState","addressloader","profileData","vleUserAddressUpdate","billAddress","setBillAddress","billingErrMsg","setBillingErrMsg","deliveryMode","setCheckBoxVal","checkBoxVal","updateShippingOption","callAddressCordApi"];var ea=e=>{var t,a,d,n,r;let{data:c,callTdFetchCustomer:u,setDisablePaymentBtn:m,shippingErrMsg:v,selectedShipAddress:p,orderDetailsLoader:g,IsValidJSONString:E,billingAddress:h,formikOrderDetails:A,addAddressSectionState:f,addressloader:b,profileData:S,vleUserAddressUpdate:N,billAddress:y,setBillAddress:C,billingErrMsg:I,setBillingErrMsg:O,deliveryMode:D,setCheckBoxVal:L,checkBoxVal:P,updateShippingOption:T,callAddressCordApi:k}=e,_=Object(s.a)(e,$t);const[B,F]=Object(l.useState)(!1),[M,x]=Object(l.useState)(""),[j,Q]=Object(l.useState)(""),[V,U]=Object(l.useState)(""),[G,J]=Object(l.useState)(),[W,Y]=Object(l.useState)(),[K,X]=Object(l.useState)(""),q=(e,t)=>{var a;Y(null===S||void 0===S||null===(a=S.addresses)||void 0===a?void 0:a.find(e=>e.id===t)),X(e)};Object(l.useEffect)(()=>{let e=[];P&&(O(["",""]),m(!1));const t=y;t?("undefined"!==typeof t.contactDetail.contactPersonName&&t.contactDetail.contactPersonName&&""!==t.contactDetail.contactPersonName&&null!==t.contactDetail.contactPersonName&&/^[a-zA-Z._ ]*$/.test(t.contactDetail.contactPersonName)||e.push("shippingaddressFirstName"),"undefined"!==typeof t.addressType&&t.addressType&&""!==t.addressType&&null!==t.addressType||e.push("shippingaddressAddressType"),"undefined"!==typeof t.addressLabel&&t.addressLabel&&""!==t.addressLabel&&null!==t.addressLabel||e.push("shippingaddressLabel"),"undefined"!==typeof t.addressLine&&""!==t.addressLine&&t.addressLine&&null!==t.addressLine?/^.{151,}?$/.test(t.addressLine)&&e.push(R.a.ADDRESS_MAX_LENGTH):e.push("shippingaddressLine1"),"undefined"!==typeof t.landmark&&""!==t.landmark&&t.landmark&&null!==t.landmark?/^.{151,}?$/.test(t.landmark)&&e.push(R.a.ADDRESS_MAX_LENGTH):e.push("shippingaddressLine2"),"undefined"!==typeof t.pinCode&&""!==t.pinCode&&t.pinCode&&null!==t.pinCode&&/^([0-9]){6}?$/.test(t.pinCode)||e.push("shippingaddressPostalCode"),"undefined"!==typeof t.contactDetail.phoneNumber&&""!==t.contactDetail.phoneNumber&&t.contactDetail.phoneNumber&&null!==t.contactDetail.phoneNumber&&/^([0-9]){10}?$/.test(t.contactDetail.phoneNumber)?/^0{5,}?$/.test(t.contactDetail.phoneNumber)&&e.push("shippingaddressPhone"):e.push("shippingaddressPhone"),"undefined"!==typeof(null===t||void 0===t?void 0:t.cityTown)&&""!==(null===t||void 0===t?void 0:t.cityTown)&&(null===t||void 0===t?void 0:t.cityTown)&&null!==(null===t||void 0===t?void 0:t.cityTown)||e.push("shippingaddressCity"),"undefined"!==typeof(null===t||void 0===t?void 0:t.state)&&""!==(null===t||void 0===t?void 0:t.state)&&(null===t||void 0===t?void 0:t.state)&&null!==(null===t||void 0===t?void 0:t.state)||e.push("shippingaddressState"),e.length>0&&O(["Looks like your billing address is missing a few mandatory fields. ","pick_address",{billingErr:e}]),0===e.length&&(O(["",""]),m(!1))):O(["Looks like there\u2019s no billing address.","add_address"])},[y,P]);const Z=e=>{U(e),Object(Zt.a)("add address","body",c),Q(!0)};Object(l.useEffect)(()=>{if("undefined"!==typeof Storage&&"true"===localStorage.getItem("isCSC")&&L(!1),("undefined"===typeof Storage||"true"!==localStorage.getItem("isCSC"))&&(null===f||void 0===f?void 0:f.shippingAddressForm)&&A.values.shipAddSameToBillAdd)return null},[]),Object(l.useEffect)(()=>{if(!g&&S)if("undefined"!==typeof document&&document.getElementsByClassName("add-address-btn")&&document.getElementsByClassName("add-address-btn").length>0)if(y){if(y.id)if(S&&(null===S||void 0===S?void 0:S.addresses)&&(null===S||void 0===S?void 0:S.addresses.length)>0){const e=null===S||void 0===S?void 0:S.addresses.find(e=>e.id==y.id);e&&C(Object(o.a)({},e))}else C(Object(o.a)({},y))}else h&&C(Object(o.a)({},h));else if(!y&&S&&(null===S||void 0===S?void 0:S.addresses)&&(null===S||void 0===S?void 0:S.addresses.length)>0)for(let e=0;e<(null===S||void 0===S?void 0:S.addresses.length);e++)"true"===S.addresses[e].isPrimary&&C(Object(o.a)({},S.addresses[e]))},[h,g,S]);const $=e=>{e&&(L(!1),C(e))},ae=(e,t)=>{F(e),x(t),J(null===y||void 0===y?void 0:y.id),u(!1)};Object(l.useEffect)(()=>{y&&(e=>{var t,a;const l=(null===e||void 0===e||null===(t=e.contactDetail)||void 0===t?void 0:t.contactPersonName)?null===e||void 0===e||null===(a=e.contactDetail)||void 0===a?void 0:a.contactPersonName:"";A.setFieldValue("billFName",l);let i=e.addressLine;null!==e.house&&" "!==e.house&&""!==e.house?(A.setFieldValue("billAddLine1",e.house),A.setFieldValue("billAddLine2",e.landmark),A.setFieldValue("billAddLine3",i)):(A.setFieldValue("billAddLine1",i),A.setFieldValue("billAddLine2",e.landmark),A.setFieldValue("billAddLine3","")),A.setFieldValue("billCity",e.cityTown),A.setFieldValue("billState",e.state),A.setFieldValue("billPinCode",e.pinCode)})(y)},[y]);return i.a.createElement("div",{className:"bill-wid checkout-billing-address"},""!==I[0]&&!("add_address"===v[1]||"pick_address"===v[1])&&i.a.createElement("div",{className:"exchange-eligible-alert billing-alert-checkout"},i.a.createElement("div",null,i.a.createElement(Ke,null)),i.a.createElement("div",{className:"error-clicl"},i.a.createElement("div",null,I[0]),i.a.createElement("div",null,i.a.createElement("button",{type:"button",className:"no-delivery-click-text no-delivery-margin click-here-space checkout-error-click",onClick:()=>"add_address"===I[1]?Z(!0):q(!0,null===y||void 0===y?void 0:y.id)},"click here"),"  ","add_address"===I[1]?i.a.createElement("span",{className:"padding-zero"},"to add a new address"):i.a.createElement("span",{className:"padding-zero"},"to edit the address")))),i.a.createElement("li",{className:"checkout-item",id:"checkout-item-billing-address"},i.a.createElement("div",{className:"cp-box shipBillAddressLoader border-removal",id:"checkout-biling-addressloader"},i.a.createElement(w.a,{show:b}),i.a.createElement("div",{className:"billing-header"},i.a.createElement("div",{className:"box-title w-30 chk-section-title billing-add"},R.a.BILLING_INFORMATION)),(y||y&&D)&&i.a.createElement("ul",{className:"cp-radio typ2"},i.a.createElement("li",null,i.a.createElement("div",{className:"select-address"},(null===y||void 0===y?void 0:y.addressLabel)&&i.a.createElement("span",{className:"home-store header-store bill-address-label line-ellipsis",style:{"padding-top":(null===y||void 0===y?void 0:y.addressLabel)?"2px":"","padding-bottom":(null===y||void 0===y?void 0:y.addressLabel)?"3px":""}},(null===y||void 0===y||null===(t=y.addressLabel)||void 0===t?void 0:t.charAt(0).toUpperCase())+(null===y||void 0===y||null===(a=y.addressLabel)||void 0===a?void 0:a.slice(1))),i.a.createElement("span",{className:"billing-address-font address-break state-uppercase"},Object(H.H)(y)),i.a.createElement("div",null,"  ",R.a.CHECKOUT_MOBILE,": ",(null===y||void 0===y?void 0:y.contactDetail)?null===y||void 0===y||null===(d=y.contactDetail)||void 0===d?void 0:d.phoneNumber:null)))),i.a.createElement("div",{className:"billing-button-container"},(null===S||void 0===S||null===(n=S.addresses)||void 0===n?void 0:n.length)>=1?i.a.createElement("button",{type:"button",id:"add_address_btn",className:"btn-edit btn btn-link billing-pick-another-addr add-address-btn hyperlink-default",onClick:()=>ae(!0,"address")},R.a.CHECKOUT_CHANGE):"",(null===S||void 0===S||null===(r=S.addresses)||void 0===r?void 0:r.length)>=1&&i.a.createElement("div",{className:"black-line"}),i.a.createElement("button",{type:"button",id:"add_address_btn",className:"btn-edit btn btn-link billing-add-another-addr add-address-btn hyperlink-default",onClick:Z},R.a.CHECKOUT_ADD)))),i.a.createElement(ee,Object.assign({dataGA:c,profileData:S,open:B,type:M,clickHandler:ae,addressType:"billing",selectedBillAddress:$,callTdFetchCustomer:u,checkBoxVal:P,clickFromBilling:!0,selectedAddresssID:G,addaddressshipdialogbilling:Z,updateShippingOption:T,callAddressCordApi:k},_)),i.a.createElement(te.a,Object.assign({errorAddFlag:j,addAddress:V,addAddressHandler:Z,formikOrderDetails:A,addressType:"billing",clickfromBilling:!0,getBillAddress:e=>{if(e){L(!1),C(e.address);!("undefined"!==typeof Storage&&"true"===localStorage.getItem("isCSC"))&&D&&u(!1)}},vleUserAddressUpdate:N,adobeData:c,addAddressfromPincodePopup:!1,callAddressCordApi:k},_)),i.a.createElement(z,Object.assign({addAddress:K,addAddressHandler:q,data:W,profileData:S,addressType:"billing",clickFromBilling:!0,selectedBillAddress:$,callTdFetchCustomer:u,checkBoxVal:P,selectedAddresssID:G,callAddressCordApi:k},_)))};const ta=["data","shipAddress","addAddressHandler","setErrorAddFlag","shippingErrMsg","countError","callDeliveryModeAPI","setCountError","callTdFetchCustomer","profileData","shippingDialogsLoader","orderDetailsLoader","formikOrderDetails","vleUserAddressUpdate","showNoAvailabilityText","addAddress","errorAddFlag","checkBoxVal","clickFromBilling","selectedBillAddress","updateShippingOption","shippingAddressCountArray","inputRef","item","cartStoresList","setStoreselected","storeSelected","setShipNodeObj","shipNodeObj","storeModalSelect","setStoreModalSelect","isContriBution","isGift","callAddressCordApi","setShowLoader"];var aa=function(e){let{data:t,shipAddress:a,addAddressHandler:d,setErrorAddFlag:o,shippingErrMsg:n,countError:c,callDeliveryModeAPI:u,setCountError:m,callTdFetchCustomer:v,profileData:p,shippingDialogsLoader:g,orderDetailsLoader:E,formikOrderDetails:h,vleUserAddressUpdate:A,showNoAvailabilityText:f,addAddress:b,errorAddFlag:S,checkBoxVal:N,clickFromBilling:y,selectedBillAddress:C,updateShippingOption:I,shippingAddressCountArray:O,inputRef:D,item:L,cartStoresList:P,setStoreselected:T,storeSelected:k,setShipNodeObj:_,shipNodeObj:B,storeModalSelect:F,setStoreModalSelect:w,isContriBution:M,isGift:x,callAddressCordApi:j,setShowLoader:Q}=e,V=Object(s.a)(e,ta);const[U,G]=Object(l.useState)(),[J,W]=Object(l.useState)(!1),[Y,K]=Object(l.useState)(""),[X,q]=Object(l.useState)(!1),[Z,$]=Object(l.useState)(),[te,ae]=Object(l.useState)(""),[le,ie]=Object(l.useState)(!1),de=[],oe=(e,t)=>{var a;$(null===p||void 0===p||null===(a=p.addresses)||void 0===a?void 0:a.find(e=>e.id===t)),ae(e)};Object(l.useEffect)(()=>{const e="undefined"!==typeof Storage&&"true"===localStorage.getItem("isCSC");q(e)},[]),Object(l.useEffect)(()=>{var e,a,l;"CROMASTOREPICKUP"===(null===t||void 0===t||null===(e=t.deliveryMode)||void 0===e||null===(a=e.code)||void 0===a?void 0:a.toUpperCase())&&T(null===L||void 0===L||null===(l=L.deliveryPointOfService)||void 0===l?void 0:l.name)},[L]);const ne=(e,t,a)=>{W(e),K(t),G(a),e&&v(!1)};let se=0;if(null===t||void 0===t?void 0:t.totalItems){if(se=null===t||void 0===t?void 0:t.totalItems,(null===t||void 0===t?void 0:t.entries.length)>0){(null===t||void 0===t?void 0:t.entries.find(e=>e.product.code===r.a.giftProductId))&&(se-=1),(null===t||void 0===t?void 0:t.entries.find(e=>e.product.code===r.a.donateProductId))&&(se-=1)}if(se<1)return null}"undefined"!==typeof window&&(window.editAddressFromErrGlobal=e=>{oe(!0,e)});try{var re,ce,ue,me,ve,pe,ge,Ee,he,Ae,fe,be,Se,Ne,ye,Ce,Oe,De,Le,Pe;return i.a.createElement(i.a.Fragment,null,(c.length>0||"pick_address"===n[1]||"add_address"===n[1])&&i.a.createElement("div",{className:c.length>0&&("pick_address"===n[1]||"add_address"===n[1])?"exchange-eligible-alert margin-left-err margin-left-err-two":"exchange-eligible-alert margin-left-err "},i.a.createElement("div",null,i.a.createElement(Ke,null)),i.a.createElement("div",null,c.length>0&&i.a.createElement("div",{className:"error-clicl"},i.a.createElement("div",{className:"count-item-error"},c.length," of the ",se," ",se>1?i.a.createElement(i.a.Fragment,null,"items"):i.a.createElement(i.a.Fragment,null,"item")," in the cart not available at this shipping address ")),"pick_address"===n[1]&&i.a.createElement("div",{className:c.length>0?"error-clicl":"error-clicl error-clicl-top"},i.a.createElement("div",null,n[0]),i.a.createElement("button",{type:"button",className:"no-delivery-click-text no-delivery-margin click-here-space checkout-error-click",ref:D,onClick:()=>{oe(!0,null===a||void 0===a?void 0:a.id)}},"click here")," ",i.a.createElement("span",{className:"padding-zero"},"to edit the address")),"add_address"===n[1]&&i.a.createElement("div",{className:c.length>0?"error-clicl":"error-clicl error-clicl-top"},i.a.createElement("div",null,n[0]),i.a.createElement("button",{type:"button",className:"no-delivery-click-text no-delivery-margin click-here-space checkout-error-click",ref:D,onClick:()=>{d(!0)}},"click here")," ",i.a.createElement("span",{className:"padding-zero"},"to add a new address")))),i.a.createElement("li",{className:"checkoutLoader shipping-information hide-x-scroll shipping-box"},"CROMASTOREPICKUP"===(null===t||void 0===t||null===(re=t.deliveryMode)||void 0===re||null===(ce=re.code)||void 0===ce?void 0:ce.toUpperCase())?i.a.createElement("span",null,"Store Address"):i.a.createElement("span",null,"Shipping Address"),"CROMASTOREPICKUP"===(null===t||void 0===t||null===(ue=t.deliveryMode)||void 0===ue||null===(me=ue.code)||void 0===me?void 0:me.toUpperCase())?i.a.createElement("div",{key:null===a||void 0===a?void 0:a.id,className:"home-store header-store ship-head",id:"ship-head-pickup"},i.a.createElement("div",{className:"home-store  header-store ship-head",id:"ship-head-pickup-mobile"},null===L||void 0===L||null===(ve=L.deliveryPointOfService)||void 0===ve?void 0:ve.displayName)):i.a.createElement("div",{className:"ship-head"},i.a.createElement("div",{key:null===a||void 0===a?void 0:a.id,className:"home-store header-store ".concat((null===a||void 0===a?void 0:a.addressLabel)&&(null===a||void 0===a?void 0:a.addressLabel.length)>30||X&&(null===a||void 0===a?void 0:a.addAddressNickName)&&(null===a||void 0===a||null===(pe=a.addAddressNickName)||void 0===pe?void 0:pe.length)>30?"line-ellipsis":""),id:"ship-head-standard-delivery"},((null===a||void 0===a?void 0:a.addressLabel)||(null===a||void 0===a?void 0:a.addAddressNickName))&&i.a.createElement(i.a.Fragment,null,X?(null===a||void 0===a||null===(ge=a.addAddressNickName)||void 0===ge?void 0:ge.charAt(0).toUpperCase())+(null===a||void 0===a||null===(Ee=a.addAddressNickName)||void 0===Ee?void 0:Ee.slice(1)):(null===a||void 0===a||null===(he=a.addressLabel)||void 0===he?void 0:he.charAt(0).toUpperCase())+(null===a||void 0===a||null===(Ae=a.addressLabel)||void 0===Ae?void 0:Ae.slice(1)))),((null===a||void 0===a?void 0:a.addAddressType)||(null===a||void 0===a?void 0:a.addressType))&&i.a.createElement(i.a.Fragment,null,X?i.a.createElement("div",{className:"address-type"},null===a||void 0===a?void 0:a.addAddressType):i.a.createElement("div",{className:"address-type"},null===a||void 0===a?void 0:a.addressType))),"CROMASTOREPICKUP"===(null===t||void 0===t||null===(fe=t.deliveryMode)||void 0===fe||null===(be=fe.code)||void 0===be?void 0:be.toUpperCase())?i.a.createElement("div",null,i.a.createElement("span",{className:"desc address-break billing-address-font"},null===L||void 0===L||null===(Se=L.deliveryPointOfService)||void 0===Se||null===(Ne=Se.address)||void 0===Ne?void 0:Ne.formattedAddress),i.a.createElement("div",null,R.a.CHECKOUT_MOBILE,": ",null===L||void 0===L||null===(ye=L.deliveryPointOfService)||void 0===ye?void 0:ye.contact),i.a.createElement("button",{className:"btn-edit btn btn-link hyperlink-default change-button",type:"button",onClick:()=>{(e=>{ie(e)})(!0),(()=>{if(P&&Array.isArray(P)&&(null===P||void 0===P?void 0:P.length)>0){for(let e=0;e<P.length;e++)""!==P[e].shipNode&&de.push(P[e].shipNode);de&&Array.isArray(de)&&de.length>0?Object(Ie.o)(de).then(e=>{if("success"===e.status){var t;const l=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.storelist,i={};for(const e in l){var a;i[null===l||void 0===l||null===(a=l[e])||void 0===a?void 0:a.name]=null===l||void 0===l?void 0:l[e]}_(i)}}).catch(e=>{}):_({})}})()}},"Change Store")):i.a.createElement("div",null,X?i.a.createElement("span",{className:"desc address-break billing-address-font state-uppercase"},(null===a||void 0===a?void 0:a.addAddressLine1)?(null===a||void 0===a?void 0:a.addAddressLine1.toUpperCase())+", ":null,(null===a||void 0===a?void 0:a.addAddressLine3)?(null===a||void 0===a?void 0:a.addAddressLine3.toUpperCase())+", ":null,(null===a||void 0===a?void 0:a.addAddressLine2)?(null===a||void 0===a?void 0:a.addAddressLine2.toUpperCase())+", ":null,(null===a||void 0===a?void 0:a.addAddressCity)?(null===a||void 0===a?void 0:a.addAddressCity)+", ":null,(null===a||void 0===a?void 0:a.addAddressState)?null===a||void 0===a?void 0:a.addAddressState:null,(null===a||void 0===a?void 0:a.addAddressPinCode)?" - "+(null===a||void 0===a?void 0:a.addAddressPinCode):null):i.a.createElement("span",{key:null===a||void 0===a?void 0:a.id,className:"desc address-break billing-address-font state-uppercase"},Object(H.H)(a)),i.a.createElement("div",null,R.a.CHECKOUT_MOBILE,": ",X?null===a||void 0===a?void 0:a.addAddressMobileNo:(null===a||void 0===a?void 0:a.contactDetail)?null===a||void 0===a||null===(Ce=a.contactDetail)||void 0===Ce?void 0:Ce.phoneNumber:null)),"CROMASTOREPICKUP"===(null===t||void 0===t||null===(Oe=t.deliveryMode)||void 0===Oe||null===(De=Oe.code)||void 0===De?void 0:De.toUpperCase())?"":i.a.createElement("div",{className:"pick-buttuons"},(null===p||void 0===p||null===(Le=p.addresses)||void 0===Le?void 0:Le.length)>=1?i.a.createElement("button",{className:"btn-edit btn btn-link hyperlink-default change-button",type:"button",onClick:()=>ne(!0,"address",null===a||void 0===a?void 0:a.id)},R.a.CHECKOUT_CHANGE):"",(null===p||void 0===p||null===(Pe=p.addresses)||void 0===Pe?void 0:Pe.length)>=1&&i.a.createElement("div",{className:"black-line"}),i.a.createElement("button",{className:"btn-edit btn btn-link hyperlink-default change-button",type:"button",onClick:()=>{d(!0),"add_address"===n[1]?o(!1):o(!0)}},R.a.CHECKOUT_ADD))),i.a.createElement($e,{open:le,setStoremodal:ie,shipNodeObj:B,callTdFetchCustomer:v,cartStoresList:P,setStoreselected:T,storeModalSelect:F,setStoreModalSelect:w,storeSelected:k,callDeliveryModeAPI:u}),i.a.createElement(ee,Object.assign({dataGA:t,profileData:p,open:J,type:Y,clickHandler:ne,addAddressHandler:d,setErrorAddFlag:o,shippingDialogsLoader:g,addressType:"shipping",callTdFetchCustomer:v,selectedAddresssID:U,updateShippingOption:I,showNoAvailabilityText:f,callAddressCordApi:j,setShowLoader:Q},V)),i.a.createElement(z,Object.assign({addAddress:te,addAddressHandler:oe,callAddressCordApi:j,data:Z,profileData:p,addressType:"shipping",clickFromBilling:y,selectedBillAddress:C,callTdFetchCustomer:v,checkBoxVal:N,updateShippingOption:I},V)))}catch(Te){return i.a.createElement(i.a.Fragment,null," ")}},la=a(75);var ia=(e,t,a,l)=>{const i=Object(Q.a)(),d=Object(tt.a)();let o="",n="",s="",r="",c=[],u=[],m=[],v=[],p=[],g=[],E=[],h=[],A=[],f="",b="",S=[],N=[],y=[],C=[],I=[],O=[];const D=Object(at.a)(),L=d&&(d.previousPagename?d.previousPagename:""),P=d&&(d.currentPagename?d.currentPagename:"");let T=[],k=JSON.parse(localStorage.getItem("selectedDeliveryMode"));if(k&&k.forEach(e=>{"cromaHomeDelivery"===e.deliveryModeId&&T.push("standard delivery"),"cromaExpressDelivery"===e.deliveryModeId&&T.push("express delivery"),"cromaStorePickup"===e.deliveryModeId&&T.push("store pickup")}),o=localStorage.getItem("3hrPincode")?JSON.parse(localStorage.getItem("3hrPincode")):"",n=localStorage.getItem("preferredStore")?JSON.parse(localStorage.getItem("preferredStore")):"",b="tcp"===localStorage.getItem("isTCPBody")?"yes":"No",i?(r="registered user",s=i):(r="guest user",s=""),f=l?"yes":"No",t)if(t&&Array.isArray(t)&&t.length>0)for(let Q=0;Q<=t.length-1;Q++){var R,_,B,F,w,M,x,j,V,H,U,G,J,W,Y,z,K,X,q,Z,$;c.push(null===(R=t[Q].product)||void 0===R?void 0:R.name.replace(/[`|;'",]/gi,"")),u.push(null===(_=t[Q].product)||void 0===_?void 0:_.code),m.push(null===(B=t[Q].product)||void 0===B||null===(F=B.price)||void 0===F?void 0:F.value.toString()),v.push(null===(w=t[Q].product)||void 0===w||null===(M=w.mrp)||void 0===M?void 0:M.value.toString()),p.push(t[Q].quantity.toString()),A.push(!0===(null===(x=t[Q].product)||void 0===x?void 0:x.isPODAvailable)?"yes":"No"),S.push("".concat((null===(j=t[Q])||void 0===j?void 0:j.exchangeAmount)?null===(V=t[Q])||void 0===V?void 0:V.exchangeAmount:"")),N.push((null===(H=t[Q])||void 0===H?void 0:H.exchangeProductName)?null===(U=t[Q])||void 0===U||null===(G=U.exchangeProductName)||void 0===G?void 0:G.replace(/[`|;'",]/gi,""):""),y.push(!0===(null===(J=t[Q])||void 0===J?void 0:J.vasProduct)?"yes":"NA");const e=null===(W=t[Q])||void 0===W||null===(Y=W.cartEntryRewardsData)||void 0===Y?void 0:Y.map((function(e){return(null===e||void 0===e?void 0:e.promotionTypeId)?null===e||void 0===e?void 0:e.promotionTypeId:""})).join("}");e?g.push("".concat(e)):g.push("");const a=null===(z=t[Q])||void 0===z||null===(K=z.cartEntryRewardsData)||void 0===K?void 0:K.map((function(e){return(null===e||void 0===e?void 0:e.customerDisplayText)?null===e||void 0===e?void 0:e.customerDisplayText:""})).join("}");a?E.push(a):E.push(""),h.push((null===(X=t[Q])||void 0===X||null===(q=X.cartEntryRewardsData)||void 0===q?void 0:q.length)?"".concat(null===(Z=t[Q])||void 0===Z||null===($=Z.cartEntryRewardsData)||void 0===$?void 0:$.length):"0")}else c=[],u=[],m=[],v=[],p=[],A=[],S=[],N=[],y=[],g=[],E=[],h=[];else c=[],u=[],m=[],v=[],p=[],A=[],S=[],N=[],y=[],g=[],E=[],h=[];let ee="";if(t&&t&&Array.isArray(t)&&t.length>0)for(let Q=0;Q<=t.length-1;Q++){var te,ae,le,ie,de,oe;if(null===(te=t[Q])||void 0===te?void 0:te.hasOwnProperty("exchangeProductServiceProvider")){if(O.push((null===(ae=t[Q])||void 0===ae?void 0:ae.exchangeProductExchangeBonus)||""),I.push("yes"),"cashify"===(null===(le=t[Q])||void 0===le?void 0:le.exchangeProductServiceProvider.toLowerCase()))ee=(null===(de=t[Q])||void 0===de?void 0:de.exchangeProductName)?null===(oe=t[Q])||void 0===oe?void 0:oe.exchangeProductName:"";else if("croma"===(null===(ie=t[Q])||void 0===ie?void 0:ie.exchangeProductServiceProvider.toLowerCase())){var ne,se,re,ce,ue,me,ve,pe,ge,Ee,he,Ae,fe,be,Se;ee=((null===(ne=t[Q])||void 0===ne?void 0:ne.exchangeProductBrandName)&&null!==(null===(se=t[Q])||void 0===se?void 0:se.exchangeProductBrandName)?null===(re=t[Q])||void 0===re?void 0:re.exchangeProductBrandName:"")+" "+((null===(ce=t[Q])||void 0===ce?void 0:ce.exchangeProductType)&&null!==(null===(ue=t[Q])||void 0===ue?void 0:ue.exchangeProductType)?null===(me=t[Q])||void 0===me?void 0:me.exchangeProductType:"")+" "+((null===(ve=t[Q])||void 0===ve?void 0:ve.exchangeProductScreenSize)&&null!==(null===(pe=t[Q])||void 0===pe?void 0:pe.exchangeProductScreenSize)?null===(ge=t[Q])||void 0===ge?void 0:ge.exchangeProductScreenSize:"")+" "+((null===(Ee=t[Q])||void 0===Ee?void 0:Ee.exchangeProductTonnage)&&null!==(null===(he=t[Q])||void 0===he?void 0:he.exchangeProductTonnage)?null===(Ae=t[Q])||void 0===Ae?void 0:Ae.exchangeProductTonnage:"")+" "+((null===(fe=t[Q])||void 0===fe?void 0:fe.exchangeProductCategoryName)&&null!==(null===(be=t[Q])||void 0===be?void 0:be.exchangeProductCategoryName)?null===(Se=t[Q])||void 0===Se?void 0:Se.exchangeProductCategoryName:"")}}else I.push("no"),O.push(""),C.push("")}C.push(ee),"undefined"!==typeof window&&(window.digitalData={page:{pageName:P,channel:"croma:".concat(P),prevPageName:L,pinCode:o,storeName:n,loginStatus:r,customerID:s,emailID:D.user_email,mobNo:D.user_mobile,tcpCustomer:b},product:{productCategory:[],productSKU:u,productName:c,price:m,originalPrice:v,quantity:p,gift:"".concat(f),PayOnDelivery:A,exchangeDiscount:S,exchangeProductName:C,exchangeBonus:O,exchangeProductSKU:[""],valueAddedService:y,totalOffers:h,offerCode:g,offerValue:E,buyWithExchange:I,deliveryOption:T},event:{linkName:e,linkType:"clicked",linkPosition:a}});try{"undefined"!==typeof window._satellite&&window._satellite&&window._satellite.track("otherClick")}catch(Ne){}},da=a(925),oa=a(171),na=a(206),sa=a(225),ra={GST_STATE_CODES:[{State_Code:"01",State_Nmae:"Jammu and Kashmir"},{State_Code:"02",State_Nmae:"Himachal Pradesh"},{State_Code:"03",State_Nmae:"Punjab"},{State_Code:"04",State_Nmae:"Chandigarh"},{State_Code:"05",State_Nmae:"Uttarakhand"},{State_Code:"06",State_Nmae:"Haryana"},{State_Code:"07",State_Nmae:"Delhi"},{State_Code:"08",State_Nmae:"Rajasthan"},{State_Code:"09",State_Nmae:"Uttar Pradesh"},{State_Code:"10",State_Nmae:"Bihar"},{State_Code:"11",State_Nmae:"Sikkim"},{State_Code:"12",State_Nmae:"Arunachal Pradesh"},{State_Code:"13",State_Nmae:"Nagaland"},{State_Code:"14",State_Nmae:"Manipur"},{State_Code:"15",State_Nmae:"Mizoram"},{State_Code:"16",State_Nmae:"Tripura"},{State_Code:"17",State_Nmae:"Meghalaya"},{State_Code:"18",State_Nmae:"Assam"},{State_Code:"19",State_Nmae:"West Bengal"},{State_Code:"20",State_Nmae:"Jharkhand"},{State_Code:"21",State_Nmae:"Odisha"},{State_Code:"22",State_Nmae:"Chhattisgarh"},{State_Code:"23",State_Nmae:"Madhya Pradesh"},{State_Code:"24",State_Nmae:"Gujarat"},{State_Code:"25",State_Nmae:"Daman & Diu"},{State_Code:"26",State_Nmae:"Dadra & Nagar Haveli"},{State_Code:"27",State_Nmae:"Maharashtra"},{State_Code:"29",State_Nmae:"Karnataka"},{State_Code:"30",State_Nmae:"Goa"},{State_Code:"31",State_Nmae:"Lakshdweep"},{State_Code:"32",State_Nmae:"Kerala"},{State_Code:"33",State_Nmae:"Tamil Nadu"},{State_Code:"34",State_Nmae:"Pondicherry"},{State_Code:"35",State_Nmae:"Andaman & Nicobar Islands"},{State_Code:"36",State_Nmae:"Telangana"},{State_Code:"37",State_Nmae:"Andhra Pradesh"},{State_Code:"38",State_Nmae:"LADAKH"}]},ca=a(11);var ua=a(963);var ma=e=>{var t;const a=Object(V.c)(),{pagetype:l,customer_hash:i,platform:d,login_trigger:o}=a;window.dataLayer.push({event:"add_gst_number",gst_number:(null===e||void 0===e||null===(t=e.values)||void 0===t?void 0:t.billGSTNumber)||"N/A",platform:d,pagetype:l,login_trigger:i?o:"N/A",login_status:!!i,user_id:i})};var va=e=>{let{formikOrderDetails:t,billingAddress:a,showToastMsg:d,setGstPay:o,setGstValue:s,addressloader:c,setDtyValue:u,companyValue:m,setCompanyValue:v,fraudMessage:p,setFraudMessage:g,setStateCode:E,gstValidationMessage:h,setFormikGSTValue:A}=e;const[f,b]=Object(l.useState)(""),[S,N]=Object(l.useState)(""),[y,C]=Object(l.useState)(!1),[I,O]=Object(l.useState)(!1),D=()=>{var e;let l="",i=[];if(a&&void 0!==(null===a||void 0===a?void 0:a.state)){const e=null===a||void 0===a?void 0:a.state;i=ra.GST_STATE_CODES.filter(t=>{var a;(null===(a=t.State_Nmae)||void 0===a?void 0:a.toUpperCase().replaceAll(" ","").trim())===(null===e||void 0===e?void 0:e.toUpperCase().replaceAll(" ","").trim())&&(l=t.State_Code)})}else if(t&&(null===t||void 0===t?void 0:t.values)&&void 0!==(null===t||void 0===t||null===(e=t.values)||void 0===e?void 0:e.addShipAddressState)){var d;let e="";var o,n,s;if(null===t||void 0===t||null===(d=t.values)||void 0===d?void 0:d.shipAddSameToBillAdd)e=null===t||void 0===t||null===(o=t.values)||void 0===o?void 0:o.addShipAddressState;else if(null===t||void 0===t||null===(n=t.values)||void 0===n?void 0:n.addBillAddressState)e=null===t||void 0===t||null===(s=t.values)||void 0===s?void 0:s.addBillAddressState;e&&(i=ra.GST_STATE_CODES.filter(t=>{var a,i;(null===(a=t.State_Nmae)||void 0===a?void 0:a.toUpperCase().replaceAll(" ","").trim())===(null===(i=e)||void 0===i?void 0:i.toUpperCase().replaceAll(" ","").trim())&&(l=t.State_Code)}))}return E(l),l},L=Object(n.d)({initialValues:{gstCompany:"",billGSTNumber:""},validate:e=>{e.billGSTNumber&&/^[0-9]{2,4}[A-Z]{3,5}[0-9]{4,5}[A-Z]{1}[0-9A-Z]{2,3}$/.test(e.billGSTNumber)}}),P=async()=>{var e,l,i,n,r;/^[0-9]{2,4}[A-Z]{3,5}[0-9]{4,5}[A-Z]{1}[0-9A-Z]{2,3}$/.test(L.values.billGSTNumber)?a&&void 0!==(null===a||void 0===a?void 0:a.state)||t&&(null===t||void 0===t?void 0:t.values)&&void 0!==(null===t||void 0===t||null===(e=t.values)||void 0===e?void 0:e.addShipAddressState)&&""!=(null===t||void 0===t||null===(l=t.values)||void 0===l?void 0:l.shipLat)||t&&(null===t||void 0===t?void 0:t.values)&&void 0!==(null===t||void 0===t||null===(i=t.values)||void 0===i?void 0:i.shipAddSameToBillAdd)&&0==(null===t||void 0===t||null===(n=t.values)||void 0===n?void 0:n.shipAddSameToBillAdd)&&""!=(null===t||void 0===t||null===(r=t.values)||void 0===r?void 0:r.addBillAddressState)?L.values.billGSTNumber.substring(0,2)===D()?async function(e){try{var t;const a={"Content-Type":"application/json",action:"TP",gstin:"".concat(e)},l=Object(H.a)(localStorage.getItem("cr-cache:user-data"),"token"),i="user/allchannels/v1/".concat(null===l||void 0===l||null===(t=l.customerInfo)||void 0===t?void 0:t.customerHash,"/checkout/gstValidation/").concat(e);return await ca.HttpService.get(i,{headers:a})}catch(a){return a.response?a.response:{err:a}}}(L.values.billGSTNumber).then(e=>{var t,a,l,i,d,n,r,c,m,p,E,h,A;(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.success)&&(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.result)&&(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.result)&&(null===e||void 0===e||null===(i=e.data)||void 0===i||null===(d=i.result)||void 0===d?void 0:d.gstin)&&"CING01"!==(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.errorCode)&&(null===e||void 0===e||null===(r=e.data)||void 0===r||null===(c=r.result)||void 0===c?void 0:c.gstin)===L.values.billGSTNumber?(b("GST successfully validated"),N("success"),C(!0),o(!0),s(L.values.billGSTNumber),u(null===e||void 0===e||null===(m=e.data)||void 0===m||null===(p=m.result)||void 0===p?void 0:p.dty),v(null===e||void 0===e||null===(E=e.data)||void 0===E||null===(h=E.result)||void 0===h?void 0:h.tradeNam),ma(L)):"CING01"===(null===e||void 0===e||null===(A=e.data)||void 0===A?void 0:A.errorCode)?g(!0):(b("Invalid GST number entered"),N("error"),O(!1),C(!1),o(!1))}):""!==L.values.billGSTNumber&&L.values.billGSTNumber.substring(0,2)!==D()?(b("GST No. doesn\u2019t match with the selected billing address state"),d("Please enter valid GST number to continue",G.f.ERROR),N("error"),O(!0),v(""),C(!1)):(b("Please enter valid GST number to proceed"),N("error"),O(!1),C(!1),o(!1)):(b("Please enter your billing address to proceed"),N("error"),O(!1),C(!1),o(!1)):(O(!1),b(R.a.VALID_GST_NUMBER_ERROR),N("error"),o(!1))};return Object(l.useEffect)(()=>{N(""),o(!1),""!==L.values.billGSTNumber&&L.values.billGSTNumber.substring(0,2)!==D()&&(b(""),v(""),C(!1))},[a]),Object(l.useEffect)(()=>{s(L.values.billGSTNumber.toUpperCase()),o(!1),C(!1),N(""),b(""),D(),A(L),""===L.values.billGSTNumber&&(N(""),u(),s(),v(""),C(!1)),L.setFieldValue("billGSTNumber",L.values.billGSTNumber.toUpperCase())},[L.values.billGSTNumber]),i.a.createElement("div",null,i.a.createElement("li",{className:"checkout-item"},i.a.createElement("div",{className:"cp-box none-border shipBillAddressLoader gst-info"},i.a.createElement(w.a,{show:c}),i.a.createElement("div",{className:"box-title chk-section-title gst-section"},R.a.GST_INFORMATION),i.a.createElement("div",{className:"form-list gst-section"},i.a.createElement("form",{onSubmit:L.handleSubmit},i.a.createElement("ul",{className:"list col2 gstmb0"},i.a.createElement("div",{className:"gstnumber-button"},i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group gstmb2"},i.a.createElement("label",{className:"lbl-title title-gst"},R.a.GST_NUMBER),i.a.createElement("input",{className:"formControl ".concat(L.touched.billGSTNumber&&L.errors.billGSTNumber?"fc-error gst-validate-btn border-right-gst":"gst-validate-btn"),type:"text",placeholder:"Enter GST Number",name:"billGSTNumber",value:L.values.billGSTNumber,onChange:L.handleChange,onBlur:L.handleBlur}))),r.a.GST_VALIDATION?i.a.createElement("div",{className:"gst-buttons"},i.a.createElement("button",{className:""===L.values.billGSTNumber?"btn btn-default disable-btn-in-pdp gst-validate-disable":"btn btn-default gst-validate-disable",type:"submit",disabled:""===L.values.billGSTNumber,onClick:()=>P()},R.a.GST_BUTTON)):i.a.createElement(i.a.Fragment,null)),y?i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"companyNameForm"},i.a.createElement("label",{className:"lbl-title"},R.a.GST_COMPANY_NAME," : ",m))):""),r.a.GST_VALIDATION?i.a.createElement("div",{className:"cart-no-delivery-available checkout-delivery-box"},""!==L.values.billGSTNumber&&""!==S&&"success"===S?i.a.createElement("div",{className:"no-delivery-div zip-delivery-unavailable-text success-gst-background"},i.a.createElement("span",{className:"cart-no-delivery-text success-gst-text"},i.a.createElement("img",{src:"/assets/images/orderConfirmation-tickicon.svg",className:"error-icon",alt:"error"}),f)):i.a.createElement("span",null),""!==L.values.billGSTNumber&&""!==S&&"error"===S?i.a.createElement("div",{className:"no-delivery-div zip-delivery-unavailable-text"},I?i.a.createElement("span",{className:"cart-no-delivery-text"},i.a.createElement("img",{src:"/assets/images/group-72.svg",className:"error-icon",alt:"error"}),f):i.a.createElement("span",{className:"gst-error"},f)):i.a.createElement("span",null)):i.a.createElement(i.a.Fragment,null,""!==h&&void 0!==h?i.a.createElement("div",{className:"no-delivery-div zip-delivery-unavailable-text"},i.a.createElement("span",{className:"gst-error"},h)):i.a.createElement("span",null)))),i.a.createElement(ua.a,{showFraudMessage:p,setShowFraudMessage:g,onCloseFrom:"fromGST",formikGstInfo:L}))))};const pa=e=>e&&e.map((e,t)=>{var a,l,i,d,o,n,s;return{item_id:null===e||void 0===e||null===(a=e.product)||void 0===a?void 0:a.code,item_name:null===e||void 0===e||null===(l=e.product)||void 0===l?void 0:l.name,quantity:null===e||void 0===e?void 0:e.quantity,price:null===e||void 0===e||null===(i=e.product)||void 0===i||null===(d=i.price)||void 0===d?void 0:d.value,currency:null===e||void 0===e||null===(o=e.product)||void 0===o||null===(n=o.price)||void 0===n?void 0:n.currencyIso,discount:(null===e||void 0===e||null===(s=e.product)||void 0===s?void 0:s.savedAmountPercentage)||"N/A"}});var ga=e=>{var t,a;const l=Object(V.c)(),{pagetype:i,source_page_url:d,previous_page_url:o,customer_hash:n,platform:s,login_trigger:r}=l;window.dataLayer.push({ecommerce:null}),window.dataLayer.push({event:"make_payment_click",pagetype:i,source_page_url:d,previous_page_url:o,login_trigger:n?r:"N/A",login_status:!!n,user_id:n,click_text:R.a.PROCEED_TO_PAYMENT,is_cross_sell:"N/A",platform:s,ecommerce:{currency:(null===e||void 0===e||null===(t=e.totalPriceWithTax)||void 0===t?void 0:t.currencyIso)||"N/A",value:(null===e||void 0===e||null===(a=e.totalPriceWithTax)||void 0===a?void 0:a.value)||"N/A",coupon:"N/A",payment_type:"N/A",items:pa(e.entries)}})};const Ea=i.a.memo(Dt);var ha=function(e){let{formikOrderDetails:t,countError:a,panCardTabvarified:l,setPanCardTabvarified:d,focus:n,data:s,disablePaymentBtn:c,totalItemsCart:m,fraudMessage:v,callGetserviceAppointment:p,reserveSlotCall:g,exchangeAmount:E,selectedShipAddress:h,validatePancard:A,backFuncPanCardVarifiedBtn:f,handlerOpenPanCardVarifiedPopup:b,activePanCardVarified:S,setActivePanCarddVarified:N,panData:y,setPanData:C,PancardError:I,setPancardError:O,enteredPanCard:D,setEnteredPanCard:L,paymentButtonStatus:P}=e;const[k,_]=i.a.useState(!1),B=()=>{_(""),N(""),S&&d(!0)};try{var F;return i.a.createElement("div",{id:"payment_footer_container",className:"cp-product-details"},i.a.createElement("div",{className:"container floating-payment-footer-container"},i.a.createElement("div",{className:"row flex-section payment-flex-section"},i.a.createElement("div",{className:"floating_btn_panel floating-btn no-padding-floating"},i.a.createElement("div",{className:"pd-action flex-section checkout-flex-section space-around pd-action-height"},i.a.createElement("div",{className:"cart-item-price check-item-price-floating"},i.a.createElement("div",{className:"total-price-below total-price-below-float"},m," Items | ",s.totalPriceWithTax?s.totalPriceWithTax.formattedValue:"")),(null===(F=s.subTotal)||void 0===F?void 0:F.value)>2e5&&!l&&r.a.PANCARD_ENABLED_FLAG?i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{type:"button",className:!P||t.isSubmitting||c||a.length>0||v?"btn btn-default paymment-btn-float payment-float pay-txt-up":"btn btn-default paymment-btn-float payment-floa pay-txt-up",onClick:()=>{_(!k)}},"Proceed to Payment"),k&&i.a.createElement(u.a,{classes:{paper:"pancard-container"},open:k,onClose:B,disableEscapeKeyDown:!0},i.a.createElement("div",{className:"pancard-top-main-sec",id:"pancard-top-main-sec-main"},i.a.createElement("div",{className:"pancard-inner-modal-sec"},i.a.createElement("div",{className:"pancard-main-contentbox"},i.a.createElement("div",{className:"pancard-inner-close"},i.a.createElement("div",{className:"close-btn",onClick:B},i.a.createElement(T.a,null)))),i.a.createElement(Ea,{activePanCardTabState1:k,backFuncPanCardBtn:B,setPanCardTabvarified:d,validatePancard:A,backFuncPanCardVarifiedBtn:f,handlerOpenPanCardVarifiedPopup:b,activePanCardVarified:S,setActivePanCarddVarified:N,panData:y,setPanData:C,PancardError:I,setPancardError:O,enteredPanCard:D,setEnteredPanCard:L}))))):i.a.createElement("button",{type:"submit",className:!P||t.isSubmitting||c||a.length>0||v?"btn btn-default paymment-btn-float payment-float disable-color-float":"btn btn-default paymment-btn-float payment-float",disabled:!P||t.isSubmitting||c||a.length>0||v,onClick:async()=>{setTimeout(()=>{n()},500),E>0&&r.a.ENABLE_UNIVERSAL_EXCHANGE&&(()=>{var e,t;const a="undefined"!==typeof Storage&&localStorage.getItem("customer_hash");let l=s&&(e=>{let t=[];return e.map(e=>{e.exchangeAmount&&(t=e)}),t})(null===s||void 0===s?void 0:s.entries),i="".concat((null===h||void 0===h?void 0:h.addressLine)?(null===h||void 0===h?void 0:h.addressLine.toUpperCase())+", ":"").concat((null===h||void 0===h?void 0:h.landmark)?(null===h||void 0===h?void 0:h.landmark.toUpperCase())+", ":"").concat((null===h||void 0===h?void 0:h.cityTown)?(null===h||void 0===h?void 0:h.cityTown)+", ":"").concat((null===h||void 0===h?void 0:h.state)?null===h||void 0===h?void 0:h.state:"").concat((null===h||void 0===h?void 0:h.pinCode)?" - "+(null===h||void 0===h?void 0:h.pinCode):""),d={orderId:s.code,customerHash:a,saleProductSKU:null===l||void 0===l||null===(e=l.product)||void 0===e?void 0:e.code,saleItemCategory:null===l||void 0===l||null===(t=l.product)||void 0===t?void 0:t.immediateSuperCategoryName,sNoOfTradeInItem:"",tradeInCategory:(null===l||void 0===l?void 0:l.exchangeProductCategoryName)?null===l||void 0===l?void 0:l.exchangeProductCategoryName:null,tradeInBrand:(null===l||void 0===l?void 0:l.exchangeProductBrandName)?null===l||void 0===l?void 0:l.exchangeProductBrandName:null,type:(null===l||void 0===l?void 0:l.exchangeProductType)?null===l||void 0===l?void 0:l.exchangeProductType:null,screenSize:(null===l||void 0===l?void 0:l.exchangeProductScreenSize)?null===l||void 0===l?void 0:l.exchangeProductScreenSize:null,tonnage:(null===l||void 0===l?void 0:l.exchangeProductTonnage)?null===l||void 0===l?void 0:l.exchangeProductTonnage:null,workingCondition:(null===l||void 0===l?void 0:l.exchangeProductWorkingCondition)?null===l||void 0===l?void 0:l.exchangeProductWorkingCondition:null,saleItemShipNode:"",pickupAddress:i,tradeInPrice:E,tradeInBonus:(null===l||void 0===l?void 0:l.exchangeProductExchangeBonus)?null===l||void 0===l?void 0:l.exchangeProductExchangeBonus:null,verifiedFlag:"",notes:"",tradeInModel:(null===l||void 0===l?void 0:l.exchangeProductName)?null===l||void 0===l?void 0:l.exchangeProductName:null,tradeInProvider:(null===l||void 0===l?void 0:l.exchangeProductServiceProvider)?null===l||void 0===l?void 0:l.exchangeProductServiceProvider:null,exchangeQuoteId:(null===l||void 0===l?void 0:l.exchangeQuoteId)?null===l||void 0===l?void 0:l.exchangeQuoteId:null};if(!r.a.LAPTOP_EXCHANGE_KEY){const e={sNoOfTradeInItem:(null===l||void 0===l?void 0:l.exchangeProductSerialNo)?null===l||void 0===l?void 0:l.exchangeProductSerialNo:null,generation:(null===l||void 0===l?void 0:l.exchangeProductGeneration)?null===l||void 0===l?void 0:l.exchangeProductGeneration:null,processor:(null===l||void 0===l?void 0:l.exchangeProductProcessor)?null===l||void 0===l?void 0:l.exchangeProductProcessor:null};d=Object(o.a)(Object(o.a)({},d),e)}if(!r.a.EXCHANGE_BONUS_KEY){const e={cromaBonusContribution:(null===l||void 0===l?void 0:l.exchangeProductCromaBonusContribution)?null===l||void 0===l?void 0:l.exchangeProductCromaBonusContribution:null,oEMBonusContribution:(null===l||void 0===l?void 0:l.exchangeProductOEMBonusContribution)?null===l||void 0===l?void 0:l.exchangeProductOEMBonusContribution:null,expiryDate:(null===l||void 0===l?void 0:l.exchangeProductBonusExpiryDate)?null===l||void 0===l?void 0:l.exchangeProductBonusExpiryDate:null};d=Object(o.a)(Object(o.a)({},d),e)}Object(jt.e)(d,null===s||void 0===s?void 0:s.code).then(e=>{}).catch(e=>{})})();const e=await t.validateForm();p(),(e=>{var t;(null===e||void 0===e||null===(t=e.entries)||void 0===t?void 0:t.length)>0&&ga(e)})(s);const a=Object.keys(e);if(a.length>0){const e=document.getElementsByName(a[0])[0];e&&e.focus()}}},R.a.PROCEED_TO_PAYMENT))))))}catch(w){return console.log(w),i.a.createElement(i.a.Fragment,null," ")}};var Aa=function(e){let{formikOrderDetails:t}=e;const[a,d]=i.a.useState(""),[o,n]=i.a.useState(""),[s,c]=i.a.useState(""),[u,m]=i.a.useState(""),[v,p]=i.a.useState(!1);function g(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const a=e.coords,l={lat:a.latitude,lng:a.longitude};try{const e=new window.google.maps.Geocoder;(null===e||void 0===e?void 0:e.geocode({location:l}).then(e=>e)).then(e=>{if(e.results&&e.results.length>0){const a=e.results[0];E(a,t)}}).catch(e=>{console.log("Geocoder failed due to: "+e)})}catch(i){console.log(i)}}Object(l.useEffect)(()=>{navigator.geolocation&&"CurrentLoc"===a&&(d(""),navigator.geolocation.getCurrentPosition(g,h))},[a]);const E=function(e){let l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(r.a.GOOGLE_API_WEBSERVICE&&"CurrentLoc"!==a){if((null===e||void 0===e?void 0:e.formattedAddress)&&n(e.formattedAddress),null===e||void 0===e?void 0:e.location){var i;let a,n;var d,o;if("function"!==typeof(null===e||void 0===e||null===(i=e.location)||void 0===i?void 0:i.latitude))a=null===e||void 0===e||null===(d=e.location)||void 0===d?void 0:d.latitude,n=null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude;t.setFieldValue("shipLat",a),t.setFieldValue("shipLng",n),p(!0),l&&Object(H.C)(a,n,g)}if((null===e||void 0===e?void 0:e.addressComponents)&&e.addressComponents.length>0){let a="";e.addressComponents.map(e=>{e.types.forEach(l=>{"neighborhood"!==l&&"route"!==l&&"locality"!==l&&"establishment"!==l&&"sublocality_level_2"!==l&&"sublocality_level_1"!==l||(a+=""===a?e.longText:", ".concat(e.longText),t.setFieldValue("shipAddLine3",a)),"postal_code"===l&&t.setFieldValue("shipPinCode",e.longText)})})}}else{if((null===e||void 0===e?void 0:e.formatted_address)&&n(e.formatted_address),null===e||void 0===e?void 0:e.geometry){var s,c;let a,i;a=null===e||void 0===e||null===(s=e.geometry)||void 0===s?void 0:s.location.lat(),i=null===e||void 0===e||null===(c=e.geometry)||void 0===c?void 0:c.location.lng(),t.setFieldValue("shipLat",a),t.setFieldValue("shipLng",i),p(!0),l&&Object(H.C)(a,i,g)}if((null===e||void 0===e?void 0:e.address_components)&&e.address_components.length>0){let a="";e.address_components.map(e=>{e.types.forEach(l=>{"neighborhood"!==l&&"route"!==l&&"locality"!==l&&"establishment"!==l&&"sublocality_level_2"!==l&&"sublocality_level_1"!==l||(a+=""===a?e.long_name:", ".concat(e.long_name),t.setFieldValue("shipAddLine3",a)),"postal_code"===l&&t.setFieldValue("shipPinCode",e.long_name)})})}}};function h(e){e.code===e.PERMISSION_DENIED&&m("Change your location settings in the browser to use current location."),console.warn("ERROR(".concat(e.code,"): ").concat(e.message))}const A=e=>{const a=e.target.value,l=e.target.name;(""===a||/^[A-Za-z0-9-,/ \b]+$/.test(a))&&t.setFieldValue("".concat(l),a)},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";d(""),c(""),e&&E(e)};return Object(l.useEffect)(()=>{t.values.shipPinCode&&(6===("string"===typeof t.values.shipPinCode?t.values.shipPinCode.length:t.values.shipPinCode.toString().length)?Object(Wt.h)(t.values.shipPinCode).then(e=>{var a,l,i,d;"success"===e.status&&(e.data.errorMessage?e.data.errorMessage&&(t.setFieldValue("addShipAddressState",""),t.setFieldValue("addShipAddressCity",""),t.setFieldValue("shipStateCode",""),t.setFieldValue("shipCityCode","")):(t.setFieldValue("addShipAddressState",null===(a=e.data)||void 0===a?void 0:a.stateName),t.setFieldValue("addShipAddressCity",null===(l=e.data)||void 0===l?void 0:l.cityName),t.setFieldValue("shipStateCode",null===(i=e.data)||void 0===i?void 0:i.stateCode),t.setFieldValue("shipCityCode",null===(d=e.data)||void 0===d?void 0:d.cityCode)))}):(t.setFieldValue("addShipAddressState",""),t.setFieldValue("addShipAddressCity",""),t.setFieldValue("shipStateCode",""),t.setFieldValue("shipCityCode","")))},[t.values.shipPinCode]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"cp-box add-address-box-title"},v?i.a.createElement("div",{className:"form-list"},i.a.createElement("div",{className:"map-instruction"},"Move the map to update your location."),i.a.createElement("ul",{className:"checkout-item list col2 gps"},i.a.createElement("li",{className:"item typ-full"},i.a.createElement("div",{className:"cp-box flat-border shipAddressSearch"},i.a.createElement("div",{className:"form-group"},i.a.createElement("div",{id:"rendermap"},i.a.createElement("div",{id:"map",style:{position:"unset",overflow:"visible",height:"300px"}})),i.a.createElement("div",{className:"addresss-box current-address format-address"},i.a.createElement("span",{className:"loc-icon cur-add new"},"undefined"!==typeof window&&i.a.createElement(x.a,null)),i.a.createElement("div",{className:"show-formated-address"},o),i.a.createElement("button",{className:"btn-edit btn btn-link hyperlink-default change-button",onClick:()=>{d(""),n(""),p(!1),t.setFieldValue("shipLat",""),t.setFieldValue("shipLng",""),t.setFieldValue("shipAddLine1",""),t.setFieldValue("shipAddLine2",""),t.setFieldValue("shipAddLine3",""),t.setFieldValue("shipPinCode",""),t.setFieldValue("addShipAddressState",""),t.setFieldValue("addShipAddressCity",""),t.setFieldValue("shipStateCode",""),t.setFieldValue("shipCityCode","")}},"Change"))))))):i.a.createElement("div",{className:"form-list"},i.a.createElement("ul",{className:"checkout-item list col2 gps"},i.a.createElement("li",{className:"item typ-full"},i.a.createElement("div",{className:"cp-box flat-border shipAddressSearch",id:"newuser-shippingadd"},i.a.createElement("div",{className:"form-group"},r.a.GOOGLE_API_WEBSERVICE?i.a.createElement(F.a,{handleClose:f,searchValue:s,setSearchValue:c}):i.a.createElement(B.a,{handleClose:f,searchValue:s,setSearchValue:c}),i.a.createElement("div",{className:"addresss-box current-address"},i.a.createElement("span",{className:"loc-icon cur-add"},"undefined"!==typeof window&&i.a.createElement(x.a,null)),i.a.createElement("input",{className:"formControl dark-input-pincode geoElem formControl-small newuser-gps-location",type:"text",name:"Location",placeholder:"Use Current Location (GPS)",onFocus:()=>{d("CurrentLoc")},autoComplete:"off",role:"presentation",readOnly:!0}),i.a.createElement("span",{className:"icon icon-right"},i.a.createElement(j.a,{className:"menu-click-arrow"}))),""!==u&&i.a.createElement("div",{className:"error loc-err"},u)))))),v&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"box-title address-details"},R.a.ADDRESS_DETAILS),i.a.createElement("div",{className:"form-list"},i.a.createElement("ul",{className:"list col2"},i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},R.a.FULL_NAME),i.a.createElement("input",{type:"text",maxLength:"322",placeholder:"Enter Full name",className:"formControl ".concat(t.touched.addShipAddressFullName&&t.errors.addShipAddressFullName?"fc-error":""),name:"addShipAddressFullName",value:t.values.addShipAddressFullName,onChange:e=>{const a=e.target.value;(""===a||/^[a-zA-Z ]*$/.test(a))&&t.setFieldValue("addShipAddressFullName",a)},onBlur:t.handleBlur,autoComplete:"off",role:"presentation"}),t.touched.addShipAddressFullName&&t.errors.addShipAddressFullName?i.a.createElement("span",{className:"error"},t.errors.addShipAddressFullName):null)),i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},R.a.MOBILE_NO+R.a.REQUIRED),i.a.createElement("div",{className:"add-on"},i.a.createElement("span",{className:"input-group-addon country-code-address continue-creating-code"},R.a.COUNTRY_CODE),i.a.createElement("input",{type:"tel",placeholder:"Enter your mobile number",className:"formControl ".concat(t.touched.addShipAddressMobileNo&&t.errors.addShipAddressMobileNo?"fc-error":""),name:"addShipAddressMobileNo",maxLength:"10",value:t.values.addShipAddressMobileNo,onChange:e=>{const a=e.target.value;(""===a||/^[0-9\b]+$/.test(a))&&t.setFieldValue("addShipAddressMobileNo",a)},onBlur:t.handleBlur,autoComplete:"off",role:"presentation"})),t.touched.addShipAddressMobileNo&&t.errors.addShipAddressMobileNo?i.a.createElement("span",{className:"error"},t.errors.addShipAddressMobileNo):null)),i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},R.a.ADDRESS_NICK_NAME),i.a.createElement("input",{type:"text",maxLength:"150",placeholder:"Enter Nick Name",className:"formControl ".concat(t.touched.addShipAddressNickName&&t.errors.addShipAddressNickName?"fc-error":""),name:"addShipAddressNickName",value:t.values.addShipAddressNickName,onChange:e=>{const a=e.target.value;(""===a||/^[a-zA-Z0-9 ]*$/.test(a))&&t.setFieldValue("addShipAddressNickName",a)},onBlur:t.handleBlur,autoComplete:"off",role:"presentation"}),t.touched.addShipAddressNickName&&t.errors.addShipAddressNickName?i.a.createElement("span",{className:"error"},t.errors.addShipAddressNickName):null)),i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},R.a.PIN_CODE+R.a.REQUIRED),i.a.createElement("input",{type:"tel",placeholder:"Pincode",maxLength:"6",name:"shipPinCode",className:"formControl ".concat(t.touched.shipPinCode&&t.errors.shipPinCode?"fc-error":""),value:t.values.shipPinCode,onChange:e=>{const a=e.target.value;(""===a||/^[0-9\b]+$/.test(a))&&t.setFieldValue("shipPinCode",a)},onBlur:t.handleBlur,autoComplete:"off",role:"presentation",disabled:!1}),t.touched.shipPinCode&&t.errors.shipPinCode?i.a.createElement("span",{className:"error"},t.errors.shipPinCode):null)),i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},"Address (Flat no., Building, Company, Street)*"),i.a.createElement("input",{placeholder:"Flat no./Building Name/Society",className:"formControl ".concat(t.touched.shipAddLine1&&t.errors.shipAddLine1?"fc-error":""),name:"shipAddLine1",maxLength:"150",value:t.values.shipAddLine1,onChange:A,onBlur:t.handleBlur,autoComplete:"off",role:"presentation"}),t.touched.shipAddLine1&&t.errors.shipAddLine1?i.a.createElement("span",{className:"error"},t.errors.shipAddLine1):null)),i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},"Landmark*"),i.a.createElement("input",{placeholder:"Landmark",name:"shipAddLine2",maxLength:"150",className:"formControl ".concat(t.touched.shipAddLine2&&t.errors.shipAddLine2?"fc-error":""),value:t.values.shipAddLine2,onChange:A,onBlur:t.handleBlur,autoComplete:"off",role:"presentation"}),t.touched.shipAddLine2&&t.errors.shipAddLine2?i.a.createElement("span",{className:"error"},t.errors.shipAddLine2):null)),i.a.createElement("li",{className:"item typ-full"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},"Locality / Sector / Area*"),i.a.createElement("div",{className:"addresss-box"},i.a.createElement("input",{placeholder:"Locality/Sector/Area",name:"shipAddLine3",maxLength:"150",className:"formControl ".concat(t.errors.shipAddLine3?"fc-error":""),value:t.values.shipAddLine3,onChange:A,onBlur:t.handleBlur,autoComplete:"off",role:"presentation"}),t.touched.shipAddLine3&&t.errors.shipAddLine3?i.a.createElement("span",{className:"error"},t.errors.shipAddLine3):null))),i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},R.a.STATE+R.a.REQUIRED),i.a.createElement("input",{className:"formControl",type:"text",placeholder:"State",name:"addShipAddressState",value:t.values.addShipAddressState,disabled:!0}),t.touched.addShipAddressState&&t.errors.addShipAddressState?i.a.createElement("span",{className:"error"},t.errors.addShipAddressState):null)),i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group","data-testid":"second"},i.a.createElement("label",{className:"lbl-title"},R.a.CITY+R.a.REQUIRED),i.a.createElement("input",{className:"formControl",type:"text",placeholder:"City",name:"addShipAddressCity",value:t.values.addShipAddressCity,disabled:!0}),t.touched.addShipAddressCity&&t.errors.addShipAddressCity?i.a.createElement("span",{className:"error"},t.errors.addShipAddressCity):null)),i.a.createElement("li",{className:"item typ-full"},i.a.createElement("div",{className:"form-group cr-mb-0"},i.a.createElement("label",{className:"lbl-title"},R.a.ADDRESS_TYPE),i.a.createElement("div",{className:"cp-radio"},i.a.createElement("div",{className:"cp-radio-item typ-default"},i.a.createElement("input",{type:"radio",id:"addTyp1",name:"shipAddType",value:"home",onChange:t.handleChange,defaultChecked:"home"===t.values.shipAddType}),i.a.createElement("label",{htmlFor:"addTyp1"},i.a.createElement("span",{className:"check"}),i.a.createElement("span",{className:"title"},R.a.HOME))),i.a.createElement("div",{className:"cp-radio-item typ-default"},i.a.createElement("input",{type:"radio",id:"addTyp2",name:"shipAddType",value:"work",onChange:t.handleChange,defaultChecked:"work"===t.values.shipAddType}),i.a.createElement("label",{htmlFor:"addTyp2"},i.a.createElement("span",{className:"check"}),i.a.createElement("span",{className:"title"},R.a.WORK))),i.a.createElement("div",{className:"cp-radio-item typ-default"},i.a.createElement("input",{type:"radio",id:"addTyp3",name:"shipAddType",value:"Others",onChange:t.handleChange,defaultChecked:"Others"===t.values.shipAddType}),i.a.createElement("label",{htmlFor:"addTyp3"},i.a.createElement("span",{className:"check"}),i.a.createElement("span",{className:"title"},R.a.OTHER_TEXT)))))))))))};var fa=function(e){let{checkBoxVal:t,setCheckBoxVal:a,formikOrderDetails:d}=e;const[o,n]=i.a.useState(""),[s,c]=i.a.useState(""),[u,m]=i.a.useState(""),[v,p]=i.a.useState(""),[g,E]=i.a.useState(!1),[h,A]=i.a.useState(!1);function f(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const a=e.coords,l={lat:a.latitude,lng:a.longitude};try{const e=new window.google.maps.Geocoder;(null===e||void 0===e?void 0:e.geocode({location:l}).then(e=>e)).then(e=>{if(e.results&&e.results.length>0){const a=e.results[0];b(a,t)}}).catch(e=>{console.log("Geocoder failed due to: "+e)})}catch(i){console.log(i)}}Object(l.useEffect)(()=>{navigator.geolocation&&"CurrentLoc"===o&&(n(""),navigator.geolocation.getCurrentPosition(f,S))},[o]);const b=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(r.a.GOOGLE_API_WEBSERVICE&&"CurrentLoc"!==o){if((null===e||void 0===e?void 0:e.formattedAddress)&&c(e.formattedAddress),null===e||void 0===e?void 0:e.location){var a;let d,o;var l,i;if("function"!==typeof(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.latitude))d=null===e||void 0===e||null===(l=e.location)||void 0===l?void 0:l.latitude,o=null===e||void 0===e||null===(i=e.location)||void 0===i?void 0:i.longitude;E(!0),t&&Object(H.C)(d,o,f,"mapBill")}if((null===e||void 0===e?void 0:e.addressComponents)&&e.addressComponents.length>0){let t="";e.addressComponents.map(e=>{e.types.forEach(a=>{"neighborhood"!==a&&"route"!==a&&"locality"!==a&&"establishment"!==a&&"sublocality_level_2"!==a&&"sublocality_level_1"!==a||(t+=""===t?e.longText:", ".concat(e.longText),d.setFieldValue("billAddLine3",t)),"postal_code"===a?(A(!1),d.setFieldValue("billPinCode",e.longText)):A(!1)})})}}else{if((null===e||void 0===e?void 0:e.formatted_address)&&c(e.formatted_address),null===e||void 0===e?void 0:e.geometry){var n,s;let a,l;a=null===e||void 0===e||null===(n=e.geometry)||void 0===n?void 0:n.location.lat(),l=null===e||void 0===e||null===(s=e.geometry)||void 0===s?void 0:s.location.lng(),E(!0),t&&Object(H.C)(a,l,f,"mapBill")}if((null===e||void 0===e?void 0:e.address_components)&&e.address_components.length>0){let t="";e.address_components.map(e=>{e.types.forEach(a=>{"neighborhood"!==a&&"route"!==a&&"locality"!==a&&"establishment"!==a&&"sublocality_level_2"!==a&&"sublocality_level_1"!==a||(t+=""===t?e.long_name:", ".concat(e.long_name),d.setFieldValue("billAddLine3",t)),"postal_code"===a?(A(!1),d.setFieldValue("billPinCode",e.long_name)):A(!1)})})}}};function S(e){e.code===e.PERMISSION_DENIED&&p("Change your location settings in the browser to use current location.")}const N=e=>{const t=e.target.value,a=e.target.name;(""===t||/^[A-Za-z0-9-,/ \b]+$/.test(t))&&d.setFieldValue("".concat(a),t)},y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n(""),m(""),e&&b(e)};return Object(l.useEffect)(()=>{d.values.billPinCode&&(6===("string"===typeof d.values.billPinCode?d.values.billPinCode.length:d.values.billPinCode.toString().length)?Object(_.g)(d.values.billPinCode).then(e=>{var t,a,l,i;"success"===e.status&&(e.data.errorMessage?e.data.errorMessage&&(d.setFieldValue("addBillAddressState",""),d.setFieldValue("addBillAddressCity",""),d.setFieldValue("billStateCode",""),d.setFieldValue("billCityCode","")):(d.setFieldValue("addBillAddressState",null===(t=e.data)||void 0===t?void 0:t.stateName),d.setFieldValue("addBillAddressCity",null===(a=e.data)||void 0===a?void 0:a.cityName),d.setFieldValue("billStateCode",null===(l=e.data)||void 0===l?void 0:l.stateCode),d.setFieldValue("billCityCode",null===(i=e.data)||void 0===i?void 0:i.cityCode)))}):(d.setFieldValue("addBillAddressState",""),d.setFieldValue("addBillAddressCity",""),d.setFieldValue("billStateCode",""),d.setFieldValue("billCityCode","")))},[d.values.billPinCode]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"cp-box add-address-box-title continue-user"},i.a.createElement("div",{className:"box-title address-details continue-user-padding-left"},R.a.BILLING_ADDRESS_S),i.a.createElement("div",{className:"form-list"},i.a.createElement("li",{className:"item typ-full continue-user-padding-left"},i.a.createElement("div",{className:"form-group cr-mb-0"},i.a.createElement("div",{className:"cp-checkbox"},i.a.createElement("div",{className:"cp-checkbox-item m-b-2"},i.a.createElement("input",{type:"checkbox",name:"same-as-shipping",id:"shipping-checkbox",value:"yes",checked:t,onClick:e=>{a(!t),d.setFieldValue("shipAddSameToBillAdd",!t)}}),i.a.createElement("label",{htmlFor:"shipping-checkbox"},i.a.createElement("span",{className:"check"}),i.a.createElement("span",{className:"text text-gap"},i.a.createElement("span",{className:"add-date chk-title"},R.a.SAME_AS_SHIPPING_ADD))))))),!t&&g?i.a.createElement("ul",{className:"checkout-item list col2 gps"},i.a.createElement("li",{className:"item typ-full"},i.a.createElement("div",{className:"cp-box flat-border shipAddressSearch"},i.a.createElement("div",{className:"form-group"},i.a.createElement("div",{className:"map-instruction"},"Move the map to update your location."),i.a.createElement("div",{id:"mapBill",style:{position:"unset",overflow:"visible",height:"300px"}}),i.a.createElement("div",{className:"addresss-box current-address format-address"},i.a.createElement("span",{className:"loc-icon cur-add new"},"undefined"!==typeof window&&i.a.createElement(x.a,null)),i.a.createElement("div",{className:"show-formated-address"},s),i.a.createElement("button",{className:"btn-edit btn btn-link hyperlink-default change-button",onClick:()=>{n(""),c(""),E(!1),d.setFieldValue("billAddLine1",""),d.setFieldValue("billAddLine2",""),d.setFieldValue("billAddLine3",""),d.setFieldValue("billPinCode",""),d.setFieldValue("addBillAddressState",""),d.setFieldValue("addBillAddressCity",""),d.setFieldValue("billStateCode",""),d.setFieldValue("billCityCode","")}},"Change")))))):!t&&i.a.createElement("ul",{className:"checkout-item list col2 gps"},i.a.createElement("li",{className:"item typ-full"},i.a.createElement("div",{className:"cp-box flat-border shipAddressSearch"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title newuser-shipping-title"},"Search your location "),r.a.GOOGLE_API_WEBSERVICE?i.a.createElement(F.a,{handleClose:y,searchValue:u,setSearchValue:m}):i.a.createElement(B.a,{handleClose:y,searchValue:u,setSearchValue:m}),i.a.createElement("div",{className:"addresss-box current-address"},i.a.createElement("span",{className:"loc-icon cur-add"},"undefined"!==typeof window&&i.a.createElement(x.a,null)),i.a.createElement("input",{className:"formControl dark-input-pincode geoElem formControl-small",type:"text",name:"Location",placeholder:"Use Current Location (GPS)",onFocus:()=>{n("CurrentLoc")},autoComplete:"off",role:"presentation",readOnly:!0}),i.a.createElement("span",{className:"icon icon-right"},i.a.createElement(j.a,{className:"menu-click-arrow"}))),""!==v&&i.a.createElement("div",{className:"error loc-err"},v))))),!t&&g&&i.a.createElement("ul",{className:"list col2"},i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},R.a.FULL_NAME),i.a.createElement("input",{type:"text",maxLength:"322",placeholder:"Enter Full name",className:"formControl ".concat(d.touched.addBillAddressFullName&&d.errors.addBillAddressFullName?"fc-error":""),name:"addBillAddressFullName",value:d.values.addBillAddressFullName,onChange:e=>{const t=e.target.value;(""===t||/^[a-zA-Z ]*$/.test(t))&&d.setFieldValue("addBillAddressFullName",t)},onBlur:d.handleBlur,autoComplete:"off",role:"presentation"}),d.touched.addBillAddressFullName&&d.errors.addBillAddressFullName?i.a.createElement("span",{className:"error"},d.errors.addBillAddressFullName):null)),i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},R.a.MOBILE_NO+R.a.REQUIRED),i.a.createElement("div",{className:"add-on"},i.a.createElement("span",{className:"input-group-addon country-code-address continue-creating-code"},R.a.COUNTRY_CODE),i.a.createElement("input",{type:"tel",placeholder:"Enter your mobile number",className:"formControl ".concat(d.touched.addBillAddressMobileNo&&d.errors.addBillAddressMobileNo?"fc-error":""),name:"addBillAddressMobileNo",maxLength:"10",value:d.values.addBillAddressMobileNo,onChange:e=>{const t=e.target.value;(""===t||/^[0-9\b]+$/.test(t))&&d.setFieldValue("addBillAddressMobileNo",t)},onBlur:d.handleBlur,autoComplete:"off",role:"presentation"})),d.touched.addBillAddressMobileNo&&d.errors.addBillAddressMobileNo?i.a.createElement("span",{className:"error"},d.errors.addBillAddressMobileNo):null)),i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},R.a.ADDRESS_NICK_NAME),i.a.createElement("input",{type:"text",maxLength:"150",placeholder:"Enter Nick Name",className:"formControl ".concat(d.touched.addBillAddressNickName&&d.errors.addBillAddressNickName?"fc-error":""),name:"addBillAddressNickName",value:d.values.addBillAddressNickName,onChange:e=>{const t=e.target.value;(""===t||/^[a-zA-Z0-9 ]*$/.test(t))&&d.setFieldValue("addBillAddressNickName",t)},onBlur:d.handleBlur,autoComplete:"off",role:"presentation"}),d.touched.addBillAddressNickName&&d.errors.addBillAddressNickName?i.a.createElement("span",{className:"error"},d.errors.addBillAddressNickName):null)),i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},R.a.PIN_CODE+R.a.REQUIRED),i.a.createElement("input",{type:"tel",placeholder:"Pincode",maxLength:"6",name:"billPinCode",className:"formControl ".concat(h?"disabed-text":""," ").concat(d.touched.billPinCode&&d.errors.billPinCode?"fc-error":""),value:d.values.billPinCode,onChange:e=>{const t=e.target.value;(""===t||/^[0-9\b]+$/.test(t))&&d.setFieldValue("billPinCode",t)},onBlur:d.handleBlur,autoComplete:"off",role:"presentation",disabled:h}),d.touched.billPinCode&&d.errors.billPinCode?i.a.createElement("span",{className:"error"},d.errors.billPinCode):null)),i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},"Address (Flat no., Building, Company, Street)*"),i.a.createElement("div",{className:"addresss-box"},i.a.createElement("input",{placeholder:"Flat no./Building Name/Society",className:"formControl ".concat(d.touched.billAddLine1&&d.errors.billAddLine1?"fc-error":""),name:"billAddLine1",value:d.values.billAddLine1,onChange:N,onBlur:d.handleBlur,autoComplete:"off",role:"presentation"}),d.touched.billAddLine1&&d.errors.billAddLine1?i.a.createElement("span",{className:"error"},d.errors.billAddLine1):null))),i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},"Landmark*"),i.a.createElement("div",{className:"addresss-box"},i.a.createElement("input",{placeholder:"Landmark/Locality/Area",name:"billAddLine2",className:"formControl ".concat(d.touched.billAddLine2&&d.errors.billAddLine2?"fc-error":""),value:d.values.billAddLine2,onChange:N,onBlur:d.handleBlur,autoComplete:"off",role:"presentation"}),d.touched.billAddLine2&&d.errors.billAddLine2?i.a.createElement("span",{className:"error"},d.errors.billAddLine2):null))),i.a.createElement("li",{className:"item typ-full"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},"Locality / Sector / Area*"),i.a.createElement("div",{className:"addresss-box"},i.a.createElement("input",{placeholder:"Locality/Sector/Area",name:"billAddLine3",className:"formControl ".concat(d.errors.billAddLine3?"fc-error":""),value:d.values.billAddLine3,onChange:N,onBlur:d.handleBlur,autoComplete:"off",role:"presentation"}),d.touched.billAddLine3&&d.errors.billAddLine3?i.a.createElement("span",{className:"error"},d.errors.billAddLine3):null))),i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"lbl-title"},R.a.STATE+R.a.REQUIRED),i.a.createElement("input",{className:"formControl",type:"text",placeholder:"State",name:"addBillAddressState",value:d.values.addBillAddressState,disabled:!0}),d.touched.addBillAddressState&&d.errors.addBillAddressState?i.a.createElement("span",{className:"error"},d.errors.addBillAddressState):null)),i.a.createElement("li",{className:"item"},i.a.createElement("div",{className:"form-group","data-testid":"second"},i.a.createElement("label",{className:"lbl-title"},R.a.CITY+R.a.REQUIRED),i.a.createElement("input",{className:"formControl",type:"text",placeholder:"City",name:"addAddressCity",value:d.values.addBillAddressCity,disabled:!0}),d.touched.addBillAddressCity&&d.errors.addBillAddressCity?i.a.createElement("span",{className:"error"},d.errors.addBillAddressCity):null))))))};a(613);var ba=function(e){let{data:t,profileData:a,formikUserProfileForm:o,formikOrderDetails:s,email:r}=e;const[c,v]=Object(l.useState)(""),p=Object(d.useHistory)(),[g,E]=Object(l.useState)(!0),[h,A]=Object(l.useState)(""),[f,b]=Object(l.useState)(!1),[S,N]=Object(l.useState)(""),[y,C]=Object(l.useState)(""),I=Object(l.useRef)(null),[O,D]=Object(l.useState)(""),[L,P]=Object(l.useState)(""),[T,k]=Object(l.useState)(["","","",""]);let _=["","","",""];const[B,F]=Object(l.useState)("disabled");Object(l.useEffect)(()=>{r&&C(r)},[r]),Object(l.useEffect)(()=>{var e;if(t&&(null===t||void 0===t?void 0:t.entries)&&(null===t||void 0===t||null===(e=t.entries)||void 0===e?void 0:e.length)>0){(null===t||void 0===t?void 0:t.entries).find(e=>{e.giftCards&&v(e.giftCards[0])})}},[t]);const w=Object(n.d)({initialValues:{emailId:""},onSubmit:e=>{H=30,z(H),V(setInterval(Z,1e3)),A("typ-otp"),F("disabled")},validate:e=>{const t={};return e.emailId?/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.emailId)||(t.emailId=R.a.EMAIL_ID_VALIDATION_ERROR):t.emailId=R.a.EMAIL_ID_ERROR,t}}),M=()=>{b(!1),clearInterval(Q),E(!0),F("disabled")},x=e=>{const t=e.target.value;""===t||/^[0-9\b]+$/.test(t)?(U.current.selectionStart=U.current.value.length,U.current.selectionEnd=U.current.value.length,j.setFieldValue("otp",t),4===t.length?F(""):F("disabled")):F("disabled")},j=Object(n.d)({initialValues:{otp:""},onSubmit:e=>{s.setFieldValue("digitalDeliveryEmail",w.values.emailId),b(!1),A("")},validate:e=>{const t={};return e.otp?/^([0-9]){4}?$/.test(e.otp)||(t.otp="Please enter valid 6 digit OTP."):t.otp="OTP is required",t}}),[Q,V]=Object(l.useState)(0);let H=30;const U=Object(l.useRef)(),[J,W]=i.a.useState(!1),[Y,z]=i.a.useState("00"),[X,q]=Object(l.useState)(!1),Z=()=>{H<0?(q(!0),W(!0)):(0===H&&(q(!0),W(!0)),1===H.toString().length?z("0"+H):z(H),H--)},$=()=>{Object(Wt.k)(S).then(e=>{"success"===e.status?(clearInterval(Q),q(!1),W(!1),H=30,V(setInterval(Z,1e3)),z(H),N(e.data.refId),te(R.a.RESEND_OTP_SUCCESS,G.f.SUCCESS)):te(e.data.message?e.data.message:R.a.SOMETHING_WENT_WRONG,G.f.ERROR)})},ee=e=>{const t=e.target.value;w.setFieldValue("emailId",t)},te=(e,t)=>{D(t),P(e),I&&I.current&&I.current.openToast()};Object(l.useEffect)(()=>{var e;const t=null===j||void 0===j||null===(e=j.values)||void 0===e?void 0:e.otp,a=Array.from(String(t),e=>Number(e)),l=a.length;_.fill("",l,4),_.splice(0,a.length,...a),T.splice(0,_.length,..._)},[j.values.otp]),Object(l.useEffect)(()=>{setTimeout(()=>{U&&U.current&&U.current.focus()},300)},[U&&U.current]);const ae=()=>{p.push("/giftcard/update")};try{return i.a.createElement(i.a.Fragment,null,i.a.createElement("li",{className:"checkoutLoader shipping-information hide-x-scroll shipping-box"},i.a.createElement("span",null,"Send To"),i.a.createElement("div",null,c?i.a.createElement("div",{className:"select-address mt-1"},i.a.createElement("span",{className:"home-store header-store bill-address-label"}," ",i.a.createElement("span",{className:"checkout-email-level"}," Email: ")," ",i.a.createElement("span",{className:"checkout-email-address"},null===c||void 0===c?void 0:c.email)),i.a.createElement("span",{className:"billing-address-font address-break"}," Mobile: ",null===c||void 0===c?void 0:c.mobileNo),i.a.createElement("button",{type:"button",className:"btn-edit btn btn-link hyperlink-default change-button",style:{display:"block"},onClick:ae},R.a.CHECKOUT_CHANGE)):i.a.createElement("div",{className:"select-address mt-1"},i.a.createElement("span",{className:"home-store header-store bill-address-label"},i.a.createElement("span",{className:"checkout-email-level"}," Email: ")," ",i.a.createElement("span",{className:"checkout-email-address"}," ",s.values.digitalDeliveryEmail?s.values.digitalDeliveryEmail:s.values.contactemail)))),i.a.createElement(u.a,{open:f,disableBackdropClick:"true",disableEscapeKeyDown:"true"},i.a.createElement("button",{className:"icon icon-close",type:"button",onClick:M}),i.a.createElement(m.a,null,g?i.a.createElement("div",{className:"modal-wrap modal-xs ".concat(g?"input-mobile-container":"input-otp-container")},i.a.createElement("div",{className:"cp-login typ-small input-mobile"}," ",i.a.createElement("form",{onSubmit:w.handleSubmit},i.a.createElement("div",{className:"login-typ cp-popup-form typ-mob ".concat("typ-mob"===h?"active":"")},i.a.createElement("h3",{className:"modal-title header-text-modal"},R.a.NEW_EMAIL_ID),i.a.createElement("div",{className:"form-group"},i.a.createElement("input",{type:"email",className:"formControl ".concat(w.touched.emailId&&w.errors.emailId?"fc-error":""),placeholder:"Enter your Email Id",name:"emailId",maxLength:"100",value:w.values.emailId,onChange:ee,onBlur:w.handleBlur}),w.touched.emailId&&w.errors.emailId?i.a.createElement("span",{className:"error"},w.errors.emailId):null),i.a.createElement("div",{className:"act-btn validate-mobile-button"},i.a.createElement("button",{className:"btn btn-default ".concat(w.dirty&&w.isValid?"":"disabled"),type:"submit",disabled:!(w.dirty&&w.isValid),onClick:e=>{e.preventDefault(),(e=>{Object(Wt.b)(e).then(t=>{"success"===t.status?(H=30,z(H),V(setInterval(Z,1e3)),A("typ-otp"),E(!1),N(t.data.refId),t.data.emailEnrolled?te(R.a.EXISTING_EMAIL_MSG+e,G.f.SUCCESS):te(R.a.NEW_EMAIL_MSG+e,G.f.SUCCESS)):te(t.data.message?t.data.message:R.a.SOMETHING_WENT_WRONG,G.f.ERROR)})})(w.values.emailId),k(["","","",""]),j.setFieldValue("otp","")}},R.a.SEND_OTP)))))):i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"ttl-con"},i.a.createElement("h1",{className:"card-title"},"Enter OTP"),i.a.createElement("small",{className:"card-subtitle"},"OTP sent successfully to ",i.a.createElement("a",null,i.a.createElement("strong",null,w.values.emailId))," ")),i.a.createElement("form",{onSubmit:j.handleSubmit,autoComplete:"off",className:"card-form login-otp-validate"},i.a.createElement("div",{className:"card-input-container"},i.a.createElement("div",{id:"divOuter"},i.a.createElement("div",{id:"divInner"},i.a.createElement("input",{inputmode:"numeric",name:"otp",id:"partitioned",ref:U,autoComplete:"off",value:j.values.otp,maxLength:4,size:4,max:9999,autoFocus:!0,onChange:x,onBlur:e=>{e.target.value.length<4?(j.setFieldValue("otp",e.target.value),j.setFieldTouched("otp",!0),U&&U.current&&U.current.focus()):j.setFieldTouched("otp",!0)}}),i.a.createElement("div",{className:"mf-dots"},i.a.createElement("span",{className:"dot number"},j.values.otp[0]?j.values.otp[0]:""),i.a.createElement("span",{className:"dot number"},j.values.otp[1]?j.values.otp[1]:""),i.a.createElement("span",{className:"dot number"},j.values.otp[2]?j.values.otp[2]:""),i.a.createElement("span",{className:"dot number"},j.values.otp[3]?j.values.otp[3]:""))))),i.a.createElement("button",{className:"card-button btn btn-default ".concat(B),type:"submit",disabled:B,onClick:e=>{e.preventDefault(),((e,t,a)=>{Object(Wt.n)(e,t,a).then(e=>{"success"===e.status?(M(),te(R.a.UPDATE_EMAIL_SUCCESS_MESSAGE,G.f.SUCCESS),s.setFieldValue("digitalDeliveryEmail",t),E(!1),C(t)):(k(["","","",""]),j.setFieldValue("otp",""),F("disabled"),U&&U.current&&U.current.focus(),te(e.data.message?e.data.message:R.a.SOMETHING_WENT_WRONG,G.f.ERROR))})})(S,w.values.emailId,j.values.otp)}},R.a.VALIDATE_OTP),i.a.createElement("small",{className:"card-notify-msg"},"This OTP is valid for 15 minutes"),i.a.createElement("small",{className:"card-new-account"},"Didn't Receive Your OTP? \xa0",i.a.createElement("button",{className:"btn btn-link btn-resend ".concat(J?"active":"disabled"),type:"button",onClick:$,disabled:!J}," Resend ",X?"":i.a.createElement("span",{className:"login-timer"},"in ",Y," secs"))))))),i.a.createElement(K.a,{ref:I,varient:O,msg:L})))}catch(le){return console.log("e"),console.log(le),i.a.createElement(i.a.Fragment,null," ")}},Sa=(a(224),a(962)),Na=a(919);var ya=e=>{let{removeFromCart:t,deviceType:a}=e;localStorage.getItem("customer_hash");const s=Object(d.useHistory)(),[c,u]=Object(l.useState)(""),[m,v]=Object(l.useState)({}),[p,g]=Object(l.useState)({addresses:[]}),[E,h]=Object(l.useState)({billingAddressForm:!1,shippingAddressForm:!1,contactInfoForm:!1,editAddressForm:!1,contactProfileInfoForm:!1}),[A,f]=Object(l.useState)({shippingAddress:null,billingAddress:null}),[b,S]=Object(l.useState)({checked:!1,giftEntry:""}),[N,y]=Object(l.useState)({checked:!1,contributionEntry:""}),C=Object(l.useRef)(null),[I,O]=Object(l.useState)(""),[D,L]=Object(l.useState)(""),[P,T]=Object(l.useState)(""),[k,B]=Object(l.useState)(!0),[F,M]=Object(l.useState)(!0),x=[],[j,Q]=Object(l.useState)([]),[V,J]=Object(l.useState)(""),[W,Y]=Object(l.useState)(""),[z,K]=Object(l.useState)(""),[q,Z]=Object(l.useState)("undefined"!==typeof Storage&&JSON.parse(localStorage.getItem("3hrPincode"))),[$,ee]=Object(l.useState)(),[te,ae]=Object(l.useState)(!0),[le,ie]=Object(l.useState)(!0),[de,oe]=Object(l.useState)(!0),[ne,se]=Object(l.useState)(0),[re,ce]=Object(l.useState)(""),[ue,me]=Object(l.useState)({STOR:{status:!1,selected:!1,products:[]},SDEL:{status:!1,selected:!1,products:[]},HDEL:{status:!1,selected:!1,products:[]}}),[ve,pe]=Object(l.useState)(""),[ge,Ee]=Object(l.useState)(!1),[he,Ae]=Object(l.useState)([]),[fe,Se]=Object(l.useState)(),[Ne,ye]=Object(l.useState)(!1),[Ce,Oe]=Object(l.useState)(),[De,Le]=Object(l.useState)(),[Pe,Te]=Object(l.useState)(!0),[ke,Re]=Object(l.useState)(),[_e,Be]=Object(l.useState)(["","",{shippingErr:[]}]),[Fe,we]=Object(l.useState)(["","",{billingErr:[]}]),[Me,xe]=Object(l.useState)(!1),[je,Qe]=Object(l.useState)([]),[Ve,He]=Object(l.useState)(null),[Ge,Je]=Object(l.useState)(!1),[We,Ye]=Object(l.useState)(!1),[ze,Ke]=Object(l.useState)(""),[Xe,qe]=Object(l.useState)({}),[Ze,$e]=Object(l.useState)(!1),tt=Object(l.useRef)(),[at,lt]=Object(l.useState)({entryDemoAndInstallationDetails:[]}),[it,dt]=Object(l.useState)(!1),[ot,nt]=Object(l.useState)(),[st,rt]=Object(l.useState)([]),[ct,ut]=Object(l.useState)(""),[mt,vt]=Object(l.useState)([]),[gt,Et]=i.a.useState(!1),[ht,At]=i.a.useState(!1),[ft,bt]=i.a.useState(!1),[St,Nt]=i.a.useState(!0),[yt,Ct]=i.a.useState(),It="undefined"!==typeof Storage&&"true"===localStorage.getItem("isCSC"),Ot=Math.floor(1e3+9e3*Math.random())+Math.floor(1e3+9e3*Math.random()),[Dt,Lt]=Object(l.useState)(!0),[Pt,Tt]=i.a.useState(""),[kt,Rt]=Object(l.useState)(!1),[_t,Bt]=Object(l.useState)(!1),[Ft,wt]=i.a.useState(!1),[Mt,xt]=i.a.useState(""),[jt,Qt]=Object(l.useState)(),[Ht,Ut]=Object(l.useState)(),[Gt,Jt]=Object(l.useState)(!1),[Wt,Yt]=Object(l.useState)(!0),[zt,Kt]=Object(l.useState)(!1),[Xt,Zt]=Object(l.useState)([]),[$t,ta]=Object(l.useState)(""),[ra,ca]=Object(l.useState)([]),[ua,pa]=Object(l.useState)([]),[ga,Ea]=Object(l.useState)(""),[ya,Ca]=Object(l.useState)(""),[Ia,Oa]=Object(l.useState)(!1),[Da,La]=Object(l.useState)(!1),[Pa,Ta]=Object(l.useState)(""),[ka,Ra]=Object(l.useState)(!1),[_a,Ba]=Object(l.useState)(!1),[Fa,wa]=Object(l.useState)({HDEL:{SDEL:[],STOR:[]},SDEL:{HDEL:[],STOR:[]},STOR:{SDEL:[],HDEL:[]}}),[Ma,xa]=Object(l.useState)(!0),ja={HDEL:"cromaHomeDelivery",SDEL:"cromaExpressDelivery",STOR:"cromaStorePickup"},Qa=Object(n.d)({initialValues:{billFName:"",billAddLine1:"",billAddLine2:"",billAddLine3:"",billCity:"",billState:"",billCityCode:"",billStateCode:"",billPinCode:"",contactFName:"",contactLName:"",contactMobileNo:"",contactemail:"",shippingAddress:"",shipAddSameToBillAdd:"undefined"===typeof Storage||"true"!==localStorage.getItem("isCSC"),shipFName:"",shipAddType:"home",shipAddLine1:"",shipAddLine2:"",shipCity:"",shipState:"",shipCityCode:"",shipStateCode:"",shipPinCode:"",shipAddSave:"yes",billGSTNumber:"",primaryFirstName:"",primaryLastName:"",contactMName:"",contactTitleCode:"",addShipAddressFullName:"",addShipAddressMobileNo:"",addShipAddressNickName:"",addShipAddressCity:"",addShipAddressState:"",addBillAddressFullName:"",addBillAddressMobileNo:"",addBillAddressNickName:"",addBillAddressCity:"",addBillAddressState:"",addShipAddressSaveDefault:"",digitalDeliveryEmail:"",shipLat:"",shipLng:"",shipAddLine3:""},validateOnChange:!1,validateOnBlur:!0,onSubmit:async e=>{var t,a,l,i,d;if((null===(t=m.subTotal)||void 0===t?void 0:t.value)>2e5&&!ft&&r.a.PANCARD_ENABLED_FLAG)return!1;let o={},n={},s="",c="",u="",v="",p="",g="",h="",f="",b=null,S=null;const N=Object(H.a)(localStorage.getItem("cr-cache:user-data"),"token"),y="undefined"!==typeof Storage&&"true"===localStorage.getItem("isCSC");Ze?(b={pinCode:null===e||void 0===e?void 0:e.shipPinCode},S={loyalCustomer:Object(X.a)()?"Y":"N",address:{id:null,addressType:e.shipAddType,addressLabel:e.addShipAddressNickName,country:R.a.COUNTRY_NAME,contactDetail:{areaCode:"",contactPersonName:e.addShipAddressFullName,phoneNumber:e.addShipAddressMobileNo,isdCode:R.a.PROFILE_COUNTRY_CODE},gpsCoordinates:{latitude:e.shipLat?e.shipLat:"",longitude:e.shipLng?e.shipLng:""},cityTown:e.addShipAddressCity,isPrimary:!0,pinCode:e.shipPinCode,state:e.addShipAddressState,addressLine:e.shipAddLine3,landmark:e.shipAddLine2,house:e.shipAddLine1,createdDate:"",modifiedDate:""}}):b=null===A||void 0===A?void 0:A.shippingAddress;const C=y?null===(l=b)||void 0===l?void 0:l.addAddressPinCode:null===(a=b)||void 0===a?void 0:a.pinCode;let I=e.billPinCode;Ze&&it&&(I=null===e||void 0===e?void 0:e.shipPinCode);const O=await Ga(gt?I:C,"shipping");var D,L,P,T;O&&(null===O||void 0===O?void 0:O.data)&&(null===O||void 0===O||null===(i=O.data)||void 0===i?void 0:i.cityCode)&&(s=null===O||void 0===O||null===(D=O.data)||void 0===D?void 0:D.stateCode,c=null===O||void 0===O||null===(L=O.data)||void 0===L?void 0:L.cityCode,p=null===O||void 0===O||null===(P=O.data)||void 0===P?void 0:P.stateName,g=null===O||void 0===O||null===(T=O.data)||void 0===T?void 0:T.cityName);const k=await Ga(I,"billing");var _,B,F,w;k&&(null===k||void 0===k?void 0:k.data)&&(null===k||void 0===k||null===(d=k.data)||void 0===d?void 0:d.cityCode)&&(u=null===k||void 0===k||null===(_=k.data)||void 0===_?void 0:_.stateCode,v=null===k||void 0===k||null===(B=k.data)||void 0===B?void 0:B.cityCode,h=null===k||void 0===k||null===(F=k.data)||void 0===F?void 0:F.stateName,f=null===k||void 0===k||null===(w=k.data)||void 0===w?void 0:w.cityName);if(y){var x,j,Q,V,U,J,W,Y,z,K,q,Z,$;const t=gt?e.billFName:null===(x=b)||void 0===x?void 0:x.addAddressFullName;let a="",l="";t.toString().length<=160?(a=t,l=""):(a=t.toString().substring(0,160),l=t.toString().substring(160)),n={country:{isocode:"IN"},digitalDeliveryEmail:e.contactemail,email:e.contactemail,firstName:a,formattedAddress:"",lastName:l,nickName:b.addAddressNickName,addressType:null===(j=b)||void 0===j?void 0:j.addAddressType,line1:gt?null===e||void 0===e?void 0:e.billAddLine1:(null===(Q=b)||void 0===Q?void 0:Q.addAddressLine1)?null===(V=b)||void 0===V?void 0:V.addAddressLine1:"",line2:gt?null===e||void 0===e?void 0:e.billAddLine3:(null===(U=b)||void 0===U?void 0:U.addAddressLine3)?null===(J=b)||void 0===J?void 0:J.addAddressLine3:"",house:gt?null===e||void 0===e?void 0:e.billAddLine2:(null===(W=b)||void 0===W?void 0:W.addAddressLine2)?null===(Y=b)||void 0===Y?void 0:Y.addAddressLine2:"",region:"",town:"",latitude:(null===(z=b)||void 0===z?void 0:z.shipLat)?null===(K=b)||void 0===K?void 0:K.shipLat:"",longitude:(null===(q=b)||void 0===q?void 0:q.shipLng)?null===(Z=b)||void 0===Z?void 0:Z.shipLng:"",shippingAddress:!0,billingAddress:!1,postalCode:gt?I:null===($=b)||void 0===$?void 0:$.addAddressPinCode,phone:e.contactMobileNo,state:{code:gt?u:s,name:gt?h:p},city:{code:gt?v:c,name:gt?f:g}}}else{var ee,te,ae,le;let t="",a="";const l=Ze?null===e||void 0===e?void 0:e.addShipAddressFullName:null===(ee=b)||void 0===ee||null===(te=ee.contactDetail)||void 0===te?void 0:te.contactPersonName;var ie,de,oe,ne,se,re,ce,ue,me,ve,pe;if(l&&l.length<=160?(t=l,a=""):(t=l&&l.substring(0,160),a=l&&l.substring(160)),n={country:{isocode:"IN"},digitalDeliveryEmail:e.digitalDeliveryEmail?e.digitalDeliveryEmail:e.contactemail,email:e.contactemail,firstName:e.billFName.toString().length<=160?e.billFName:e.billFName.toString().substring(0,160),formattedAddress:"",lastName:e.billFName.toString().length<=160?"":e.billFName.toString().substring(160),nickName:e.addShipAddressNickName,addressType:null===(ae=b)||void 0===ae?void 0:ae.addressType,line1:e.billAddLine1,line2:e.billAddLine2,region:"",town:"",shippingAddress:!0,billingAddress:!1,postalCode:C,phone:e.contactMobileNo,state:{code:u,name:h},city:{code:v,name:f},house:(null===e||void 0===e?void 0:e.shipAddLine3)?null===e||void 0===e?void 0:e.shipAddLine3:""},Ze)if(n.line1=null===e||void 0===e?void 0:e.shipAddLine1,n.line2=null===e||void 0===e?void 0:e.shipAddLine3,n.house=null===e||void 0===e?void 0:e.shipAddLine2,null===e||void 0===e?void 0:e.shipLat)n.latitude=null===e||void 0===e?void 0:e.shipLat,n.longitude=null===e||void 0===e?void 0:e.shipLng;else{const e=n.line1+" "+n.line2,t=await hl(e,n.postalCode);n.latitude=null===t||void 0===t?void 0:t.lat,n.longitude=null===t||void 0===t?void 0:t.lng}else if(n.line1=gt?null===e||void 0===e?void 0:e.billAddLine1:(null===(ie=b)||void 0===ie?void 0:ie.house)?null===(de=b)||void 0===de?void 0:de.house:null===(oe=b)||void 0===oe?void 0:oe.addressLine,n.line2=gt?(null===e||void 0===e?void 0:e.billAddLine3)?null===e||void 0===e?void 0:e.billAddLine3:null===e||void 0===e?void 0:e.billAddLine2:(null===(ne=b)||void 0===ne?void 0:ne.house)?null===(se=b)||void 0===se?void 0:se.addressLine:null===(re=b)||void 0===re?void 0:re.landmark,n.house=gt?(null===e||void 0===e?void 0:e.billAddLine3)?null===e||void 0===e?void 0:e.billAddLine2:"":(null===(ce=b)||void 0===ce?void 0:ce.house)?null===(ue=b)||void 0===ue?void 0:ue.landmark:"",(null===(me=b)||void 0===me?void 0:me.gpsCoordinates)&&(null===(ve=b)||void 0===ve||null===(pe=ve.gpsCoordinates)||void 0===pe?void 0:pe.latitude)){var ge,Ee,he,Ae;n.latitude=null===(ge=b)||void 0===ge||null===(Ee=ge.gpsCoordinates)||void 0===Ee?void 0:Ee.latitude,n.longitude=null===(he=b)||void 0===he||null===(Ae=he.gpsCoordinates)||void 0===Ae?void 0:Ae.longitude}else{const e=n.line1+" "+n.line2,t=await hl(e,n.postalCode);var be;if(!((null===t||void 0===t?void 0:t.lat)&&(null===t||void 0===t?void 0:t.lng)||gt))return Bt(!0),localStorage.setItem("cordinatedError",!0),window.editAddressFromErrGlobal(null===(be=b)||void 0===be?void 0:be.id),!1;n.latitude=null===t||void 0===t?void 0:t.lat,n.longitude=null===t||void 0===t?void 0:t.lng}n.postalCode=gt?I:null===(le=b)||void 0===le?void 0:le.pinCode,n.firstName=gt?e.billFName.toString().length<=160?e.billFName:e.billFName.toString().substring(0,160):t,n.lastName=gt?e.billFName.toString().length<=160?e.billFName:e.billFName.toString().substring(160):a,n.state={code:gt?u:s,name:gt?h:p},n.city={code:gt?v:c,name:gt?f:g}}if(o.country={isocode:"IN"},o.email=e.contactemail,o.formattedAddress="",o.lastName="",o.addressType=(null===fe||void 0===fe?void 0:fe.addressType)?null===fe||void 0===fe?void 0:fe.addressType:" ",o.nickName=(null===fe||void 0===fe?void 0:fe.addressLabel)?null===fe||void 0===fe?void 0:fe.addressLabel:" ",o.region="",o.town="",o.shippingAddress=!1,o.billingAddress=!0,o.state={code:u,name:h},o.city={code:v,name:f},o.postalCode=I,o.gstNumber=Ce,o.dty=De,o.companyName=ke,o.line1=e.billAddLine1,o.line2=e.billAddLine3?e.billAddLine3:e.billAddLine2,o.house=e.billAddLine3?e.billAddLine2:"",Ze?it?(o.firstName=e.addShipAddressFullName.toString().length<=160?e.addShipAddressFullName:e.addShipAddressFullName.toString().substring(0,160),o.lastName=e.addShipAddressFullName.toString().length<=160?"":e.addShipAddressFullName.toString().substring(160),o.line1=e.shipAddLine1,o.house=e.shipAddLine2,o.line2=e.shipAddLine3,o.phone=e.contactMobileNo):(o.firstName=e.addBillAddressFullName.toString().length<=160?e.addBillAddressFullName:e.addBillAddressFullName.toString().substring(0,160),o.lastName=e.addBillAddressFullName.toString().length<=160?"":e.addBillAddressFullName.toString().substring(160),o.phone=e.addBillAddressMobileNo):(o.firstName=e.billFName.toString().length<=160?e.billFName:e.billFName.toString().substring(0,160),o.lastName=e.billFName.toString().length<=160?" ":e.billFName.toString().substring(160),o.phone=e.contactMobileNo),!Ze&&!gt&&!y&&o.line2.length>151&&(o.line2=n.line2),Ce&&!ol())$a("GST no. doesn\u2019t match with the selected billing address state",G.f.ERROR);else if(!1===E.editAddressForm&&Ja(n,o)&&Pe){var Se;const t={addresses:[]};t.addresses.push(n,o);const a=n.postalCode?n.postalCode:null===N||void 0===N||null===(Se=N.customerInfo)||void 0===Se?void 0:Se.pincode,l=localStorage.getItem("customer_hash"),i=Object(X.a)()?"Y":"N",d={nameDetails:{firstName:e.contactFName,middleName:e.contactMName,lastName:e.contactLName},customerHash:l,programId:null,loyalCustomer:i,primaryEmailId:e.contactemail};""!==e.contactTitleCode&&(d.nameDetails.salutation=e.contactTitleCode);const s={dateOfAnniversary:"",dateOfBirth:"",emailId:e.contactemail?e.contactemail:"",firstName:e.contactFName,gender:"",lastName:e.contactLName,phoneNo:e.contactMobileNo?e.contactMobileNo:"",titleCode:e.contactTitleCode?e.contactTitleCode:""};Ge?($a(R.a.EXCHANGE_ERROR,G.f.ERROR,!0),Qa.setSubmitting(!1),M(!1),xe(!1)):!0===E.contactProfileInfoForm?il(t,S,a,!0,d,s):il(t,S,a)}else Qa.setSubmitting(!1),!0===E.editAddressForm&&$a("Please save address to proceed",G.f.ERROR),Pe||$a("Please validate your GST number to proceed",G.f.ERROR)},validate:e=>{const t={};(E.contactInfoForm&&(E.contactProfileInfoForm&&(e.contactFName?/^[a-zA-Z._ ]*$/.test(e.contactFName)||(t.contactFName=R.a.VALID_NAME_ERROR):t.contactFName=R.a.FIRST_NAME_IS_REQUIRED_ERROR,e.contactLName?/^[a-zA-Z._ ]*$/.test(e.contactLName)||(t.contactLName=R.a.VALID_NAME_ERROR):t.contactLName=R.a.FIRST_NAME_IS_REQUIRED_ERROR,!St&&r.a.EMAIL_VERIFY_REQUIRED&&(t.contactemail="Your Emal is not verified, Please verify your email.")),e.contactMobileNo?/^([0-9]){10}?$/.test(e.contactMobileNo)||(t.contactMobileNo=R.a.MOBILE_NO_VALIDATION_ERROR):t.contactMobileNo=R.a.MOBILE_NO_IS_REQUIRED_ERROR,e.contactemail?/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.contactemail)||(t.contactemail=R.a.EMAIL_VALIDATION_ERROR):t.contactemail=R.a.EMAIL_IS_REQUIRED_ERROR),Ze)&&(e.shipPinCode&&(Z(e.shipPinCode),localStorage.setItem("3hrPincode",JSON.stringify(e.shipPinCode)),window&&window.setDeliveringTo&&window.setDeliveringTo()),e.addShipAddressFullName||(t.addShipAddressFullName=R.a.FULL_NAME_ERROR),e.addShipAddressMobileNo?/^([0-9]){10}?$/.test(e.addShipAddressMobileNo)?/^0{5,}?$/.test(e.addShipAddressMobileNo)&&(t.addShipAddressMobileNo=R.a.MOBILE_NUMBER_VALIDATION_ERROR):t.addShipAddressMobileNo=R.a.MOBILE_NUMBER_VALIDATION_ERROR:t.addShipAddressMobileNo=R.a.MOBILE_NUMBER_ERROR,e.addShipAddressNickName||(t.addShipAddressNickName=R.a.NICK_NAME_ERROR),e.shipAddType||(t.shipAddType=R.a.ADDRESS_TYPE_ERROR),e.shipAddLine1?/^.{151,}?$/.test(e.shipAddLine1)&&(t.shipAddLine1=R.a.ADDRESS_MAX_LENGTH):t.shipAddLine1=R.a.FIELD_ERROR,e.shipAddLine2?/^.{151,}?$/.test(e.shipAddLine2)&&(t.shipAddLine2=R.a.ADDRESS_MAX_LENGTH):t.shipAddLine2=R.a.FIELD_ERROR,e.shipAddLine3?/^.{151,}?$/.test(e.shipAddLine3)&&(t.shipAddLine3=R.a.ADDRESS_MAX_LENGTH):t.shipAddLine3=R.a.FIELD_ERROR,e.addShipAddressCity||(t.addShipAddressCity=R.a.CITY_FIELD_ERROR),e.addShipAddressState||(t.addShipAddressState=R.a.STATE_FIELD_ERROR),e.shipPinCode?/^([0-9]){6}?$/.test(e.shipPinCode)?/^.{1,6}?$/.test(e.shipPinCode)||(t.shipPinCode=R.a.PINCODE_VALIDATION_ERROR):t.shipPinCode=R.a.PINCODE_ERROR:t.shipPinCode=R.a.PINCODE_FIELD_ERROR,it||(e.addBillAddressFullName||(t.addBillAddressFullName=R.a.FULL_NAME_ERROR),e.addBillAddressMobileNo?/^([0-9]){10}?$/.test(e.addBillAddressMobileNo)?/^0{5,}?$/.test(e.addBillAddressMobileNo)&&(t.addBillAddressMobileNo=R.a.MOBILE_NUMBER_VALIDATION_ERROR):t.addBillAddressMobileNo=R.a.MOBILE_NUMBER_VALIDATION_ERROR:t.addBillAddressMobileNo=R.a.MOBILE_NUMBER_ERROR,e.addBillAddressNickName||(t.addBillAddressNickName=R.a.NICK_NAME_ERROR),e.billAddLine1?/^.{151,}?$/.test(e.billAddLine1)&&(t.billAddLine1=R.a.ADDRESS_MAX_LENGTH):t.billAddLine1=R.a.FIELD_ERROR,e.billAddLine2?/^.{151,}?$/.test(e.billAddLine2)&&(t.billAddLine2=R.a.ADDRESS_MAX_LENGTH):t.billAddLine2=R.a.FIELD_ERROR,e.billAddLine3?/^.{151,}?$/.test(e.billAddLine3)&&(t.billAddLine3=R.a.ADDRESS_MAX_LENGTH):t.billAddLine3=R.a.FIELD_ERROR,e.addBillAddressCity||(t.addBillAddressCity=R.a.CITY_FIELD_ERROR),e.addBillAddressState||(t.addBillAddressState=R.a.STATE_FIELD_ERROR),e.billPinCode?/^([0-9]){6}?$/.test(e.billPinCode)?/^.{1,6}?$/.test(e.billPinCode)||(t.billPinCode=R.a.PINCODE_VALIDATION_ERROR):t.billPinCode=R.a.PINCODE_ERROR:t.billPinCode=R.a.PINCODE_FIELD_ERROR),document.getElementsByName("addShipAddressFullName").length||$a("Please add Shipping and Billing Address to proceed",G.f.ERROR));return t}});function Va(){tt&&tt.current&&tt.current.focus()}const Ha=e=>{pe(e)};Object(l.useEffect)(()=>{const e=localStorage.getItem("customer_hash"),t=localStorage.getItem("access_token"),a=localStorage.getItem("csc_code");if(e&&""!==e&&t&&""!==t||a&&""!==a){var l,i;const e=Object(H.a)(localStorage.getItem("cr-cache:user-data"),"token");e&&""!==e&&(null===e||void 0===e||null===(l=e.wishListInfo)||void 0===l||null===(i=l.cartWsDto)||void 0===i?void 0:i.code)&&"undefined"!==typeof window&&"undefined"===typeof window.PIL&&(console.log("load script in checkout"),(()=>{if(!document.getElementById("pilScript")){const e=document.createElement("script");e.src="https://public.releases.juspay.in/hyper-sdk-web/HyperServices.js",e.clientId="croma",e.async=!0,document.body.appendChild(e)}})())}},[]),Object(l.useEffect)(()=>{const e="true"===localStorage.getItem("isCSC");if(A.shippingAddress){const t=[],a=A.shippingAddress;e||("undefined"!==typeof a.contactDetail.contactPersonName&&a.contactDetail.contactPersonName&&""!==a.contactDetail.contactPersonName&&null!==a.contactDetail.contactPersonName&&/^[a-zA-Z._ ]*$/.test(a.contactDetail.contactPersonName)||t.push("shippingaddressFirstName"),"undefined"!==typeof a.addressType&&a.addressType&&""!==a.addressType&&null!==a.addressType||t.push("shippingaddressAddressType"),"undefined"!==typeof a.addressLabel&&a.addressLabel&&""!==a.addressLabel&&null!==a.addressLabel||t.push("shippingaddressLabel"),"undefined"!==typeof a.addressLine&&""!==a.addressLine&&a.addressLine&&null!==a.addressLine?/^.{151,}?$/.test(a.addressLine)&&t.push(R.a.ADDRESS_MAX_LENGTH):t.push("shippingaddressLine1"),"undefined"!==typeof a.landmark&&""!==a.landmark&&a.landmark&&null!==a.landmark?/^.{151,}?$/.test(a.landmark)&&t.push(R.a.ADDRESS_MAX_LENGTH):t.push("shippingaddressLine2"),"undefined"!==typeof a.pinCode&&""!==a.pinCode&&a.pinCode&&null!==a.pinCode&&/^([0-9]){6}?$/.test(a.pinCode)||t.push("shippingaddressPostalCode"),"undefined"!==typeof a.contactDetail.phoneNumber&&""!==a.contactDetail.phoneNumber&&a.contactDetail.phoneNumber&&null!==a.contactDetail.phoneNumber&&/^([0-9]){10}?$/.test(a.contactDetail.phoneNumber)?/^0{5,}?$/.test(a.contactDetail.phoneNumber)&&t.push("shippingaddressPhone"):t.push("shippingaddressPhone"),"undefined"!==typeof(null===a||void 0===a?void 0:a.cityTown)&&""!==(null===a||void 0===a?void 0:a.cityTown)&&(null===a||void 0===a?void 0:a.cityTown)&&null!==(null===a||void 0===a?void 0:a.cityTown)||t.push("shippingaddressCity"),"undefined"!==typeof(null===a||void 0===a?void 0:a.state)&&""!==(null===a||void 0===a?void 0:a.state)&&(null===a||void 0===a?void 0:a.state)&&null!==(null===a||void 0===a?void 0:a.state)||t.push("shippingaddressState"),t.length>0&&Be(["Looks like your shipping address is missing a few mandatory fields. ","pick_address",{shippingErr:t}])),0===t.length&&Be(["",""])}},[A]),Object(l.useEffect)(()=>{_e[0]&&!We||Fe[0]?xe(!0):xe(!1)},[We,_e,Fe]);const Ua=function(){var e,t;let a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const l=localStorage.getItem("customer_hash"),i="undefined"!==typeof Storage&&"true"===localStorage.getItem("isCSC"),d=localStorage.getItem("csc_code"),o=JSON.parse(localStorage.getItem("customer_details"));let n="";var c,u;o&&(null===o||void 0===o?void 0:o.neuPassInfo)&&(null===o||void 0===o||null===(e=o.neuPassInfo)||void 0===e?void 0:e.status)&&""!==(null===o||void 0===o||null===(t=o.neuPassInfo)||void 0===t?void 0:t.status)?n="&isSubscribed="+(null===o||void 0===o||null===(c=o.neuPassInfo)||void 0===c||null===(u=c.status)||void 0===u?void 0:u.toLowerCase()):n="&isSubscribed=inactive";if(l&&""!==l||d&&""!==d){var m,p;const e=Object(H.a)(localStorage.getItem("cr-cache:user-data"),"token"),t=localStorage.getItem("access_token"),o=l,c=document.head.querySelector("[name=tdl-sso-client_id][content]"),u=c?c.content:r.a.CLIENT_ID,b="undefined"===typeof Storage||"tcp"!==localStorage.getItem("userSource")&&"tcp-pwa"!==localStorage.getItem("userSource")?"null":"TCP";let S={};if(e&&""!==e&&(null===e||void 0===e||null===(m=e.wishListInfo)||void 0===m||null===(p=m.cartWsDto)||void 0===p?void 0:p.code)){let c="";var g,E,h,A,f;if(i)c="".concat(d,"/carts/").concat(null===e||void 0===e||null===(g=e.wishListInfo)||void 0===g||null===(E=g.cartWsDto)||void 0===E?void 0:E.code,"/getcart?isGetCart=true&fields=FULL").concat(n,"&isCheckoutCart=true"),S={client_id:u,accessToken:t,customerHash:d,cco:1,Usersource:b};else c="".concat(null===e||void 0===e||null===(h=e.customerInfo)||void 0===h?void 0:h.customerHash,"/carts/").concat(null===e||void 0===e||null===(A=e.wishListInfo)||void 0===A||null===(f=A.cartWsDto)||void 0===f?void 0:f.code,"/getcart?isGetCart=true&fields=FULL").concat(n,"&isCheckoutCart=true"),S={client_id:u,accessToken:t,customerHash:o,cco:1,Usersource:b};M(!0),Object(_.d)(c,S).then(e=>{if(localStorage.removeItem("selectedDeliveryOptiontmp"),a||setTimeout(()=>{M(!1)},0),"success"===e.status){var t,i,d,o,n,c,u,m,p;if((null===e||void 0===e||null===(t=e.data)||void 0===t||null===(i=t.entries)||void 0===i?void 0:i.length)>0){var g;(null===e||void 0===e||null===(g=e.data)||void 0===g?void 0:g.entries).map((e,t)=>{e.avaiableDelivery=!0});let t=localStorage.getItem("logintypeAdd")&&localStorage.getItem("logintypeAdd"),a=localStorage.getItem("wishlistAddPayload")&&localStorage.getItem("wishlistAddPayload");if(!It&&t&&"wishlist:added"===t){var E,h;const t=JSON.parse(a).pid,l=null===e||void 0===e||null===(E=e.data)||void 0===E||null===(h=E.entries)||void 0===h?void 0:h.find(e=>{var a;return(null===e||void 0===e||null===(a=e.product)||void 0===a?void 0:a.code)===t});Xa(null===l||void 0===l?void 0:l.entryNumber,t)}}if(null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.failureMsgForValidateOffer)$a(null===e||void 0===e||null===(p=e.data)||void 0===p?void 0:p.failureMsgForValidateOffer,G.f.ERROR);let a=0;if(pl(e.data),(null===(o=e.data)||void 0===o||null===(n=o.entries)||void 0===n?void 0:n.length)>0){var A,f,b;a=null===(A=e.data)||void 0===A?void 0:A.totalItems;const t=null===(f=e.data)||void 0===f?void 0:f.entries.find(e=>e.product.code===r.a.giftProductId),l=null===(b=e.data)||void 0===b?void 0:b.entries.find(e=>e.product.code===r.a.donateProductId);t&&(a-=1),l&&(a-=1)}if(0===a&&s.push("/cart"),null===(c=e.data)||void 0===c||null===(u=c.entries)||void 0===u?void 0:u.length){var S,N,y;const t=null===(S=e.data)||void 0===S?void 0:S.entries.every(e=>{var t;return e.giftCards||(null===e||void 0===e||null===(t=e.product)||void 0===t?void 0:t.isDigital)}),a=null===(N=e.data)||void 0===N?void 0:N.entries.find(e=>{var t;return null===e||void 0===e||null===(t=e.product)||void 0===t?void 0:t.isDigital}),l=null===(y=e.data)||void 0===y?void 0:y.entries.every(e=>e.giftCards);Jt(!!a),Yt(!l),t?(Et(!0),Ct(!0)):(Et(!1),Ct(!1))}else Ct(!1);nt(a),document.getElementById("cart_count_notification")&&(document.getElementById("cart_count_notification").innerHTML=a),It||null===l?v(e.data):Ka(e.data),(null===(m=e.data)||void 0===m?void 0:m.hasExchangeProduct)||setTimeout(()=>{Je(!1)},0),setTimeout(()=>{Object(da.a)("order summary",e.data,"","","")},1e3)}else setTimeout(()=>{Object(da.a)("order summary",[])},1e3)})}}else s.push("/cart")};Object(l.useEffect)(()=>{localStorage.removeItem("selectedDeliveryOptiontmp"),It||(h({billingAddressForm:!1,shippingAddressForm:!1,contactInfoForm:!1,editAddressForm:!1,contactProfileInfoForm:!1}),xe(!1)),localStorage.getItem("3hrPincode")&&T(JSON.parse(localStorage.getItem("3hrPincode")));const e=localStorage.getItem("customer_hash"),t=localStorage.getItem("csc_code"),a=localStorage.getItem("access_token");if(e&&""!==e&&a&&""!==a||t&&""!==t){var l,i;const t=Object(H.a)(localStorage.getItem("cr-cache:user-data"),"token");if(t&&""!==t&&(null===t||void 0===t||null===(l=t.wishListInfo)||void 0===l||null===(i=l.cartWsDto)||void 0===i?void 0:i.code)){var d,o;!!(null===t||void 0===t||null===(d=t.wishListInfo)||void 0===d?void 0:d.isFraud)&&(null===t||void 0===t||null===(o=t.wishListInfo)||void 0===o||o.isFraud);((e,t)=>{if(e){const t={customerHash:e};Object(Ie.e)(t).then(e=>{var t;"success"===e.status&&(e.data&&(null===(t=e.data)||void 0===t?void 0:t.isFraudCustomer)&&"Y"===e.data.isFraudCustomer&&(localStorage.setItem("isFraud","true"),s.push("/cart")))}).catch(e=>{})}})(e),Ua(),It?(Qa.setFieldValue("contactemail",Object(et.a)(t.customerInfo.email,!1,!0,!1)),Qa.setFieldValue("contactMobileNo",t.customerInfo.mob_no)):Ya(!0)}else s.push("/cart")}else{const e="function"===typeof window.cromaSso?new window.cromaSso({env:"sit"}):null;null!==e?e.logIn("others"):It?Object(oa.a)():s.push("/")}localStorage.removeItem("cordinatedError"),Object(Sa.a)(e=>{})},[]),Object(l.useEffect)(()=>{It?!0===yt?(B(!1),xe(!1),h({billingAddressForm:!0,shippingAddressForm:!0,contactInfoForm:!0,editAddressForm:!1,contactProfileInfoForm:!1})):!1===yt&&(B(!1),Ha(!0),ce(!1),Be(["Looks like there\u2019s no matching address for this pincode.","add_address"]),xe(!0),h({billingAddressForm:!0,shippingAddressForm:!0,contactInfoForm:!0,editAddressForm:!1,contactProfileInfoForm:!1})):!1===yt&&!0===kt&&(Ha(!0),ce(!1),Be(["Looks like there\u2019s no matching address for this pincode.","add_address",{shippingErr:[]}]),xe(!0))},[yt,kt]),Object(l.useEffect)(()=>{if(m.entries&&m.entries.length>0&&r.a.PDP_STATUS_VISIBILITY){let e=m.entries.findIndex(e=>"prelaunch"===e.approvalStatus||"discontinued"===e.approvalStatus||"unavailable"===e.approvalStatus);xa(!(e>-1))}m.entries&&m.entries.map((e,t)=>{var a;(null===m||void 0===m?void 0:m.hasExchangeProduct)&&((null===e||void 0===e?void 0:e.exchangeQuoteId)||"croma"===(null===e||void 0===e||null===(a=e.exchangeProductServiceProvider)||void 0===a?void 0:a.toLowerCase()))&&se(e.exchangeAmount),(null===e||void 0===e?void 0:e.giftCards)&&Tt(null===e||void 0===e?void 0:e.giftCards[0])})},[m]);const Ga=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"shipping",a=null;try{a="shipping"===t?await Object(_.h)(e):await Object(_.g)(e)}catch(l){}return a},Ja=(e,t)=>{const a=[],l="undefined"!==typeof Storage&&"true"===localStorage.getItem("isCSC");let i=0,d=0;var o,n,s,r,c,u,m,v,p,g,E,h,A,f,b,S;(l&&!gt&&("undefined"!==typeof e.email&&""!==e.email||(a.push("shippingaddressEmail"),i++),"undefined"!==typeof e.firstName&&""!==e.firstName||(a.push("shippingaddressFirstName"),i++),"undefined"===typeof e.line1||""===e.line1?(a.push("shippingaddressLine1"),i++):/^.{151,}?$/.test(e.line1)&&(a.push(R.a.ADDRESS_MAX_LENGTH),i++),"undefined"===typeof e.line2||""===e.line2?(a.push("shippingaddressLine2"),i++):/^.{151,}?$/.test(e.line2)&&(a.push(R.a.ADDRESS_MAX_LENGTH),i++),"undefined"!==typeof e.postalCode&&""!==e.postalCode||(a.push("shippingaddressPostalCode"),i++),"undefined"!==typeof e.phone&&""!==e.phone||(a.push("shippingaddressPhone"),i++),"undefined"!==typeof(null===e||void 0===e||null===(o=e.city)||void 0===o?void 0:o.code)&&""!==(null===e||void 0===e||null===(n=e.city)||void 0===n?void 0:n.code)||(a.push("shippingaddressCity"),i++),"undefined"!==typeof(null===e||void 0===e||null===(s=e.city)||void 0===s?void 0:s.code)&&""!==(null===e||void 0===e||null===(r=e.state)||void 0===r?void 0:r.code)||(a.push("shippingaddressState"),i++)),l||gt||(e.email&&""!==e.email&&null!==e.email||(a.push("shippingaddressEmail"),i++),e.firstName&&""!==e.firstName&&null!==e.firstName||(a.push("shippingaddressFirstName"),i++),e.line1&&""!==e.line1&&null!==e.line1?/^.{151,}?$/.test(e.line1)&&(a.push(R.a.ADDRESS_MAX_LENGTH),i++):(a.push("shippingaddressLine1"),i++),e.line2&&""!==e.line2&&null!==e.line2?/^.{151,}?$/.test(e.line2)&&(a.push(R.a.ADDRESS_MAX_LENGTH),i++):(a.push("shippingaddressLine2"),i++),e.postalCode&&""!==e.postalCode&&null!==e.postalCode||(a.push("shippingaddressPostalCode"),i++),e.phone&&""!==e.phone&&null!==e.phone||(a.push("shippingaddressPhone"),i++),(null===e||void 0===e||null===(c=e.city)||void 0===c?void 0:c.code)&&""!==(null===e||void 0===e||null===(u=e.city)||void 0===u?void 0:u.code)&&null!==(null===e||void 0===e||null===(m=e.city)||void 0===m?void 0:m.code)||(a.push("shippingaddressCity"),i++),(null===e||void 0===e||null===(v=e.state)||void 0===v?void 0:v.code)&&""!==(null===e||void 0===e||null===(p=e.state)||void 0===p?void 0:p.code)&&null!==(null===e||void 0===e||null===(g=e.state)||void 0===g?void 0:g.code)||(a.push("shippingaddressState"),i++)),gt||!1===Qa.values.shipAddSameToBillAdd)&&(t.email&&""!==t.email&&null!==t.email||(a.push("billingaddressEmail"),d++),t.firstName&&""!==t.firstName&&null!==t.firstName||(a.push("billingaddressFirstName"),d++),t.line1&&""!==t.line1&&null!==t.line1?/^.{151,}?$/.test(t.line1)&&(a.push(R.a.ADDRESS_MAX_LENGTH),d++):(a.push("billingaddressLine1"),d++),t.line2&&""!==t.line2&&null!==t.line2?/^.{151,}?$/.test(t.line2)&&(a.push(R.a.ADDRESS_MAX_LENGTH),d++):(a.push("billingaddressLine2"),d++),t.postalCode&&""!==t.postalCode&&null!==t.postalCode||(a.push("billingaddressPostalCode"),d++),t.phone&&""!==t.phone&&null!==t.phone||(a.push("billingaddressPhone"),d++),(null===t||void 0===t||null===(E=t.city)||void 0===E?void 0:E.code)&&""!==(null===t||void 0===t||null===(h=t.city)||void 0===h?void 0:h.code)&&null!==(null===t||void 0===t||null===(A=t.city)||void 0===A?void 0:A.code)||(a.push("billingaddressCity"),d++),(null===t||void 0===t||null===(f=t.state)||void 0===f?void 0:f.code)&&""!==(null===t||void 0===t||null===(b=t.state)||void 0===b?void 0:b.code)&&null!==(null===t||void 0===t||null===(S=t.state)||void 0===S?void 0:S.code)||(a.push("billingaddressState"),d++));return 0===a.length?(xe(!1),!0):(i>0?6===i?(Be(["Looks like there\u2019s no matching address for this pincode.","add_address",{shippingErr:a}]),xe(!0)):Be(["Looks like your shipping address is missing a few mandatory fields. ","pick_address",{shippingErr:a}]):d>0?6===d?(we(["Looks like there\u2019s no billing address.","add_address",{billingErr:a}]),xe(!0)):(we(["Looks like your billing address is missing a few mandatory fields. ","pick_address",{billingErr:a}]),xe(!0),console.log("oredersummary")):$a(R.a.INVALID_ADDRESS,G.f.ERROR),!1)},Wa=e=>{e&&(Z(e),Q([]),J("changePincode"),Y(e),localStorage.setItem("3hrPincode",JSON.stringify(e.toString())),window&&window.setDeliveringTo&&window.setDeliveringTo())},Ya=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=P,l="";B(!0),M(!0),K(!0);const i=localStorage.getItem("access_token");Object(_.f)(i).then(async i=>{B(!1),M(!1),K(!1);const d=Object(o.a)({},E);if("success"===i.status){var n,s,c,m,v,p,b,S;u(i.data);const o=Object(H.a)(localStorage.getItem("cr-cache:user-data"),"token");var N,y,C,I,O,D,L,P;if(!(null===o||void 0===o||null===(n=o.customerInfo)||void 0===n?void 0:n.firstName)&&0===(null===o||void 0===o||null===(s=o.customerInfo)||void 0===s||null===(c=s.firstName)||void 0===c?void 0:c.length))console.log("enter : "),o.customerInfo.firstName=(null===(N=i.data)||void 0===N||null===(y=N.nameDetails)||void 0===y?void 0:y.firstName)?Object(et.b)(null===(C=i.data)||void 0===C||null===(I=C.nameDetails)||void 0===I?void 0:I.firstName):"";if(!(null===o||void 0===o||null===(m=o.customerInfo)||void 0===m?void 0:m.lastName)&&0===(null===o||void 0===o||null===(v=o.customerInfo)||void 0===v||null===(p=v.lastName)||void 0===p?void 0:p.length))o.customerInfo.lastName=(null===(O=i.data)||void 0===O||null===(D=O.nameDetails)||void 0===D?void 0:D.lastName)?Object(et.b)(null===(L=i.data)||void 0===L||null===(P=L.nameDetails)||void 0===P?void 0:P.lastName):"";if(o.customerInfo.email=(null===(b=i.data)||void 0===b?void 0:b.primaryEmailId)?Object(et.b)(null===(S=i.data)||void 0===S?void 0:S.primaryEmailId):"",localStorage.setItem("cr-cache:user-data",JSON.stringify(o)),e){var T,k,R,_;const e=i.data.addresses?i.data.addresses:[];if(i.data.addresses){e.find(e=>{var t;return e.id===(null===A||void 0===A||null===(t=A.billingAddress)||void 0===t?void 0:t.id)})||dt(!0)}else dt(!0);let o;localStorage.getItem("3hrPincode")&&(a=JSON.parse(localStorage.getItem("3hrPincode"))),localStorage.getItem("deliveryMode")&&(l=localStorage.getItem("deliveryMode"));const n=[];if(de){if(e.find(e=>{String(a)===e.pinCode&&n.push(e)}),n.length>0)o=n.find(e=>"true"===e.isPrimary),void 0===o&&(o=n[n.length-1]),f({shippingAddress:o,billingAddress:o});else if("cromaStorePickup"===l)o=e.find(e=>"true"===e.isPrimary),Ye(!0);else if(e.length)Rt(!0);else{"true"===localStorage.getItem("isCSC")||($e(!0),xe(!1))}oe(!1)}else t?(xe(!1),o=t):null!==A.shippingAddress&&(o=A.shippingAddress);let s="";if(void 0!==o){var F,w,x,j,Q;f({shippingAddress:o,billingAddress:o}),Qa.setFieldValue("shippingAddress",o.id),Qa.setFieldValue("shipFName",o.contactDetail.contactPersonName);let e=o.addressLine;null!==o.house&&" "!==o.house&&""!==o.house?(Qa.setFieldValue("shipAddLine1",o.house),Qa.setFieldValue("shipAddLine3",e)):(Qa.setFieldValue("shipAddLine1",e),Qa.setFieldValue("shipAddLine3","")),Qa.setFieldValue("shipAddLine2",o.landmark),Qa.setFieldValue("addShipAddressNickName",o.addressLabel);const t=await Ga(null===(F=o)||void 0===F?void 0:F.pinCode,"shipping");Qa.setFieldValue("shipState",null===t||void 0===t||null===(w=t.data)||void 0===w?void 0:w.stateName),Qa.setFieldValue("shipCity",null===t||void 0===t||null===(x=t.data)||void 0===x?void 0:x.cityName),Qa.setFieldValue("shipStateCode",null===t||void 0===t||null===(j=t.data)||void 0===j?void 0:j.stateCode),Qa.setFieldValue("shipCityCode",null===t||void 0===t||null===(Q=t.data)||void 0===Q?void 0:Q.cityCode)}else(null===e||void 0===e?void 0:e.length)>0&&"undefined"!==typeof Storage&&"true"!==localStorage.getItem("isCSC")?d.shippingAddressForm=!1:d.shippingAddressForm=!0,Qa.setFieldValue("shipPinCode",a);var V;if(""===s&&(null!==i.data.primaryMobile||""!==(null===(T=i.data.primaryMobile)||void 0===T?void 0:T.phoneNumber)||null!==(null===(k=i.data.primaryMobile)||void 0===k?void 0:k.phoneNumber)))s=null===(V=i.data.primaryMobile)||void 0===V?void 0:V.phoneNumber;""===i.data.primaryEmailId||null===i.data.primaryEmailId||""===s||""===i.data.primaryMobile||null===i.data.primaryMobile||"false"==i.data.emailVerified&&r.a.EMAIL_VERIFY_REQUIRED?("false"==i.data.emailVerified&&r.a.EMAIL_VERIFY_REQUIRED&&Nt(!1),d.contactInfoForm=!0,d.contactProfileInfoForm=!0):d.contactInfoForm=!1,i.data.nameDetails?(""===i.data.nameDetails.firstName||null===i.data.nameDetails.firstName?d.contactProfileInfoForm=!0:(Qa.setFieldValue("primaryFirstName",i.data.nameDetails.firstName),Qa.setFieldValue("contactFName",i.data.nameDetails.firstName)),""===i.data.nameDetails.lastName||null===i.data.nameDetails.lastName?d.contactProfileInfoForm=!0:(Qa.setFieldValue("primaryLastName",i.data.nameDetails.lastName),Qa.setFieldValue("contactLName",i.data.nameDetails.lastName))):d.contactProfileInfoForm=!0,d.contactProfileInfoForm&&(d.contactInfoForm=!0),Qa.setFieldValue("contactemail",null===i||void 0===i||null===(R=i.data)||void 0===R?void 0:R.primaryEmailId),Qa.setFieldValue("digitalDeliveryEmail",null===i||void 0===i||null===(_=i.data)||void 0===_?void 0:_.primaryEmailId),Qa.setFieldValue("contactMobileNo",s||null),g({addresses:e})}}else K(!1),d.billingAddressForm=!1,d.shippingAddressForm=!0,d.contactInfoForm=!0,d.contactProfileInfoForm=!0;h(d)})},za=(e,t,a)=>{Qa.setFieldValue("shipAddSameToBillAdd",!1),t.addAddressType=a;let l=A.billingAddress,i=A.shippingAddress;const d="undefined"!==typeof Storage&&"true"===localStorage.getItem("isCSC");"billing"===e?(localStorage.setItem("cscBillingUpdate",!0),Qa.setFieldValue("billAddLine1",t.addAddressLine1),Qa.setFieldValue("billAddLine2",t.addAddressLine2),Qa.setFieldValue("billCity",t.addAddressCity),Qa.setFieldValue("billState",t.addAddressState),Qa.setFieldValue("billCityCode",t.addAddressCityCode),Qa.setFieldValue("billStateCode",t.addAddressStateCode),Qa.setFieldValue("billPinCode",t.addAddressPinCode),l=t):(Qa.setFieldValue("shipAddLine1",t.addAddressLine1),Qa.setFieldValue("shipAddLine2",t.addAddressLine2),Qa.setFieldValue("shipCity",t.addAddressCity),Qa.setFieldValue("shipState",t.addAddressState),Qa.setFieldValue("shipCityCode",t.addAddressCityCode),Qa.setFieldValue("shipStateCode",t.addAddressStateCode),Qa.setFieldValue("shipPinCode",t.addAddressPinCode),Qa.setFieldValue("shipFName",t.addAddressFullName),i=t),gt&&d&&(i=l),f({shippingAddress:i,billingAddress:l})};Object(l.useEffect)(()=>{(null===m||void 0===m?void 0:m.cartTotalZeroValueMessage)&&""!==(null===m||void 0===m?void 0:m.cartTotalZeroValueMessage)&&(xe(!0),$a(null===m||void 0===m?void 0:m.cartTotalZeroValueMessage,G.f.ERROR))});const Ka=e=>{Object(na.a)().then(t=>{var a;if(t.defaultWishlist&&t.entries&&Array.isArray(t.entries)&&t.entries.length>0)if(e&&(null===e||void 0===e||null===(a=e.entries)||void 0===a?void 0:a.length)>0){let a=e;a&&(null===a||void 0===a?void 0:a.entries.length)>0&&a.entries.map(e=>{const a=t.entries.findIndex(t=>t.product.code===e.product.code);e.isActive=a>-1}),v(a)}else v(e);else v(e)}).catch(t=>{v(e)})},Xa=(e,t,a)=>{const l=localStorage.getItem("customer_hash"),i=localStorage.getItem("csc_code");let d={},o="";const n=localStorage.getItem("access_token");if(l&&""!==l||i&&""!==i){var s,r;const e=Object(H.a)(localStorage.getItem("cr-cache:user-data"),"token");var c,u;if(e&&""!==e&&(null===e||void 0===e||null===(s=e.wishListInfo)||void 0===s||null===(r=s.cartWsDto)||void 0===r?void 0:r.code))o=null===e||void 0===e||null===(c=e.wishListInfo)||void 0===c||null===(u=c.cartWsDto)||void 0===u?void 0:u.code,d=It?{accessToken:n,csc_code:i}:{accessToken:n,customer_hash:l}}if(l&&""!==l||i&&""!==i)localStorage.removeItem("logintypeAdd"),localStorage.removeItem("wishlistAddPayload"),Object(Ie.c)(e,o,l,d,t,n).then(e=>{if(e&&"success"===e.status)Ua(a),ae(!0),It||$a("Product Added to Wishlist",G.f.SUCCESS);else if(401===e.status){const e="function"===typeof window.cromaSso?new window.cromaSso({env:"sit"}):null;null!==e&&e.logIn("others")}}).catch(e=>{});else if(!It){const e="function"===typeof window.cromaSso?new window.cromaSso({env:"sit"}):null;null!==e&&e.logIn("others")}},qa=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const a=Object(o.a)({},E);t?"shipping"===e?(a.editAddressForm=!1,a.shippingAddressForm=!0,a.billingAddressForm=!Qa.values.shipAddSameToBillAdd,ll()):"contact"===e?(a.contactInfoForm=!0,ia("edit contact info",null===m||void 0===m?void 0:m.entries,"body",null===b||void 0===b?void 0:b.checked)):"contact-edi"===e?a.contactInfoForm=!1:"editShipping"===e&&(a.editAddressForm=!0,a.shippingAddressForm=!1):(a.shippingAddressForm=!1,a.editAddressForm=!1,Qa.values.shipAddSameToBillAdd?a.billingAddressForm=!1:a.billingAddressForm=!0),h(a)},Za=(e,t)=>{const a=Object(o.a)({},A);if("shipping"===e&&Qa.values.shipAddSameToBillAdd){const e=Object(o.a)({},E);e.billingAddressForm=!1,a.shippingAddress=t,a.billingAddress=t,ll(t),h(e)}else a.shippingAddress=t,a.billingAddress=null,ll();localStorage.setItem("saveShippingAddress",JSON.stringify(a.shippingAddress.id)),f(a)},$a=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];O(t),L(e),a&&localStorage.setItem("setAutoHide",a),l&&localStorage.setItem("showAlways",l),C.current&&C&&C.current&&C.current.openToast()},el=function(e,a,l){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const n=Object(H.a)(localStorage.getItem("cr-cache:user-data"),"token"),s=localStorage.getItem("csc_code"),c="undefined"!==typeof Storage&&"true"===localStorage.getItem("isCSC");let u="";if(n&&""!==n&&(u+=c?"".concat(s,"/carts/").concat(n.wishListInfo.cartWsDto.code,"/removeEntries/").concat(e):"".concat(n.customerInfo.customerHash,"/carts/").concat(n.wishListInfo.cartWsDto.code,"/removeEntries/").concat(e)),""!==u){var v;M(!0);const s=localStorage.getItem("access_token"),c=null===n||void 0===n||null===(v=n.customerInfo)||void 0===v?void 0:v.customerHash,p=document.head.querySelector("[name=tdl-sso-client_id][content]"),g={client_id:p?p.content:r.a.CLIENT_ID,accessToken:s,customerHash:c};M(!0),Object(_.c)(u,g).then(n=>{if("success"===n.status){$a(o?R.a.PRODUCT_ADDED_WISHLIST:"Product removed",G.f.SUCCESS);const n="function"===typeof window.cromaSsoCartWish?new window.cromaSsoCartWish({env:"sit"}):null;if(null!==n&&n.getCartDetails().then(e=>{}).catch(e=>{}),localStorage.getItem("PFMOrder")&&localStorage.getItem("PFMOrderDet")){var s,r;let t=[],a=[];t=JSON.parse(localStorage.getItem("PFMOrder"));let l=t&&t.length>0?null===(s=t)||void 0===s?void 0:s.filter((t,a)=>a!==e):[];localStorage.setItem("PFMOrder",JSON.stringify(l)),a=JSON.parse(localStorage.getItem("PFMOrderDet"));let i=a&&a.length>0?null===(r=a)||void 0===r?void 0:r.filter((t,a)=>a!==e):[];localStorage.setItem("PFMOrderDet",JSON.stringify(i))}Ua(!0),ae(!0);t(a,l*d,i*d,d),ia("remove cart",null===m||void 0===m?void 0:m.entries,"body",null===b||void 0===b?void 0:b.checked)}else $a(R.a.REMOVED_CART_FAILED,G.f.ERROR),M(!0)}).catch(e=>{$a(R.a.REMOVED_CART_FAILED,G.f.ERROR),M(!0)})}},tl=e=>{var t;const a=Object(H.a)(localStorage.getItem("cr-cache:user-data"),"token");let l="";const i=localStorage.getItem("csc_code"),d="undefined"!==typeof Storage&&"true"===localStorage.getItem("isCSC");let o=null===a||void 0===a||null===(t=a.customerInfo)||void 0===t?void 0:t.customerHash;d&&(o=i),a&&""!==a&&(l+="".concat(o,"/carts/").concat(a.wishListInfo.cartWsDto.code,"/removeExchange?entryNumber=").concat(e,"&fields=FULL")),""!==l&&(M(!0),Object(Ie.g)(l).then(e=>{"success"===e.status?(se(0),Je(!1),$a("Exchange Product Removed",G.f.SUCCESS),setTimeout(()=>{Ua()},0)):($a("Exchange Product Cannot Be Removed",G.f.ERROR),M(!1))}).catch(e=>{$a("Exchange Product Cannot Be Removed",G.f.ERROR),M(!1)}))},al=e=>{const t=Object(o.a)({},A),a=Object(o.a)({},E);e.target.checked?(t.billingAddress=t.shippingAddress,a.billingAddressForm=!1):(t.billingAddress=null,a.billingAddressForm=!0,ll()),f(t),h(a),Qa.setFieldValue("shipAddSameToBillAdd",e.target.checked)},ll=async e=>{const t="undefined"!==typeof Storage&&"true"===localStorage.getItem("isCSC"),a=Object(H.a)(localStorage.getItem("cr-cache:user-data"),"token");let l="";if(e){var i,d,o,n,s;const t=await Ga(null===e||void 0===e?void 0:e.pinCode,"billing");l=null===(i=e.contactDetail)||void 0===i?void 0:i.contactPersonName;let a=e.addressLine;null!==e.house&&" "!==e.house&&""!==e.house?(Qa.setFieldValue("billAddLine1",e.house),Qa.setFieldValue("billAddLine2",e.landmark),Qa.setFieldValue("billAddLine3",a)):(Qa.setFieldValue("billAddLine1",a),Qa.setFieldValue("billAddLine2",e.landmark),Qa.setFieldValue("billAddLine3","")),Qa.setFieldValue("billCity",null===t||void 0===t||null===(d=t.data)||void 0===d?void 0:d.stateName),Qa.setFieldValue("billState",null===t||void 0===t||null===(o=t.data)||void 0===o?void 0:o.cityName),Qa.setFieldValue("billStateCode",null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.stateCode),Qa.setFieldValue("billCityCode",null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.cityCode),Qa.setFieldValue("billPinCode",null===e||void 0===e?void 0:e.pinCode)}else if(t){var r,c,u,m;const e=null===a||void 0===a||null===(r=a.customerInfo)||void 0===r?void 0:r.name;Qa.setFieldValue("shipAddLine1",null===a||void 0===a||null===(c=a.customerInfo)||void 0===c?void 0:c.address),Qa.setFieldValue("shipAddLine2",null===a||void 0===a||null===(u=a.customerInfo)||void 0===u?void 0:u.address),Qa.setFieldValue("shipCity",""),Qa.setFieldValue("shipState",""),Qa.setFieldValue("shipPinCode",JSON.parse(localStorage.getItem("3hrPincode"))),Qa.setFieldValue("billAddLine1",""),Qa.setFieldValue("billAddLine2",""),Qa.setFieldValue("billAddLine3",""),Qa.setFieldValue("billCity",""),Qa.setFieldValue("billState",""),Qa.setFieldValue("billPinCode",""),Qa.setFieldValue("shipAddSameToBillAdd",!1),Qa.setFieldValue("contactMobileNo",null===a||void 0===a||null===(m=a.customerInfo)||void 0===m?void 0:m.mob_no),Qa.setFieldValue("contactemail",Object(et.a)(a.customerInfo.email,!1,!0,!1)),Qa.setFieldValue("shipFName",e)}else Qa.setFieldValue("billAddLine1",""),Qa.setFieldValue("billAddLine2",""),Qa.setFieldValue("billAddLine3",""),Qa.setFieldValue("billCity",""),Qa.setFieldValue("billState",""),Qa.setFieldValue("billPinCode","");Qa.setFieldValue("billFName",l)},il=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0,l=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(Array.isArray(Xt)&&Xt.length||gt){var n,s;let g=new Date;const E=String(g.getDate()).padStart(2,"0"),h=String(g.getMonth()+1).padStart(2,"0"),A=g.getFullYear();g=A+"-"+h+"-"+E;const f="R".concat(m.code),b=[];let S=!0;if((null===m||void 0===m?void 0:m.entries)&&m.entries.length>0){let e=0;for(let t=0;t<m.entries.length;t++){var c;const l=m.entries[t];if(l.product.code!==r.a.giftProductId&&l.product.code!==r.a.donateProductId&&!(null===l||void 0===l||null===(c=l.product)||void 0===c?void 0:c.isDigital)&&(gt||!l.hasOwnProperty("giftCards")))for(let t=0;t<l.quantity;t++){var u,v;let i=Xt.find(e=>e.code==l.product.code&&l.entryNumber==e.entryNumber),d=l.product.code;if(((null===l||void 0===l?void 0:l.vasProduct)||(null===l||void 0===l||null===(u=l.product)||void 0===u?void 0:u.name.toLowerCase().includes("onsitego"))||(null===l||void 0===l||null===(v=l.product)||void 0===v?void 0:v.name.toLowerCase().includes("zopper")))&&l.hasOwnProperty("baseProductCode")){let e=Xt.find(e=>e.code==l.baseProductCode);e&&(i=e,d=l.baseProductCode)}if(i&&i.deliveryMode){const o={fulfillmentType:i.deliveryMode,isProcurementAllowed:"Y",itemID:l.product.code,lineId:l.entryNumber,reqStartDate:g,requiredQty:1,sourcingClassification:"EC",reservationParameters:{reservationID:f+"_"+Ot+"_"+l.product.code+"_"+t+"_"+l.entryNumber},shipToAddress:{city:"",mobilePhone:"",zipCode:a,state:"",country:"india"},extn:{preOrderItem:"N"}};if(i&&"HDEL"==i.deliveryMode)ue.HDEL.products.forEach(e=>{var t,a,l,i;d===(null===e||void 0===e?void 0:e.id)&&(o.shipNode=null===e||void 0===e||null===(t=e.option)||void 0===t||null===(a=t.assignments)||void 0===a?void 0:a.assignment[0].shipNode,o.shipDate=null===e||void 0===e||null===(l=e.option)||void 0===l||null===(i=l.assignments)||void 0===i?void 0:i.assignment[0].deliveryDate)});else if(i&&"STOR"==i.deliveryMode){var p;o.shipNode=null===(p=i)||void 0===p?void 0:p.storeId}i&&(o.fulfillmentType=i.deliveryMode),e++,b.push(o)}else l.hasOwnProperty("giftCards")||(S=!1)}}}const N=b.filter((function(e){return null!==e})),y=Object(H.a)(localStorage.getItem("cr-cache:user-data"),"token"),C=null===y||void 0===y||null===(n=y.wishListInfo)||void 0===n||null===(s=n.cartWsDto)||void 0===s?void 0:s.code;if(M(!0),N.length>0){const n=[],s=[],r={HDEL:{SDEL:[],STOR:[]},SDEL:{HDEL:[],STOR:[]},STOR:{SDEL:[],HDEL:[]}},c=[],u=Object(o.a)({},ue);Object(_.o)(N,C).then(async m=>{if(M(!1),"success"!==m.status)return sl("error:failed reservation","body"),Qa.setSubmitting(!1),M(!1),null;{var v,p,g;let h=null===(v=m.data)||void 0===v||null===(p=v.PromiseHeader)||void 0===p||null===(g=p.promiseLines)||void 0===g?void 0:g.promiseLine;if(!(h&&h.length>0))return Qa.setSubmitting(!1),null;{var E;h.forEach(e=>{var t,a;if((null===(t=e.reservations)||void 0===t?void 0:t.qtyToBeReserved)!==(null===(a=e.reservations)||void 0===a?void 0:a.totalReservedQty))if("SDEL"==e.fulfillmentType){const t=ue.HDEL.products.find(t=>e.itemID===(null===t||void 0===t?void 0:t.id));if(t){var l,i,d,o,m,v;if("CromaTransportService"===(null===t||void 0===t||null===(l=t.option)||void 0===l?void 0:l.scac)&&!0===(null===t||void 0===t||null===(i=t.option)||void 0===i?void 0:i.zipEnabledInTMS))if((null===t||void 0===t||null===(d=t.option)||void 0===d||null===(o=d.assignments)||void 0===o||null===(m=o.assignment[0])||void 0===m||null===(v=m.deliveryDates)||void 0===v?void 0:v.length)>0)n.push({id:e.itemID,deliverymode:e.fulfillmentType,updatedDeliveryMode:"HDEL",entryNumber:e.lineId}),s.push({id:e.itemID,deliverymode:e.fulfillmentType,updatedDeliveryMode:"HDEL",entryNumber:e.lineId}),r.SDEL.HDEL.push({id:e.itemID,deliverymode:e.fulfillmentType,entryNumber:e.lineId});else{ue.STOR.products.find(t=>e.itemID===(null===t||void 0===t?void 0:t.id))?(n.push({id:e.itemID,deliverymode:e.fulfillmentType,updatedDeliveryMode:"STOR",entryNumber:e.lineId}),s.push({id:e.itemID,deliverymode:e.fulfillmentType,updatedDeliveryMode:"STOR",entryNumber:e.lineId}),r.SDEL.STOR.push({id:e.itemID,deliverymode:e.fulfillmentType,entryNumber:e.lineId})):(n.push({id:e.itemID,deliverymode:e.fulfillmentType,updatedDeliveryMode:"",entryNumber:e.lineId}),c.push(e.itemID))}else n.push({id:e.itemID,deliverymode:e.fulfillmentType,updatedDeliveryMode:"HDEL",entryNumber:e.lineId}),r.SDEL.HDEL.push({id:e.itemID,deliverymode:e.fulfillmentType,entryNumber:e.lineId}),s.push({id:e.itemID,deliverymode:e.fulfillmentType,updatedDeliveryMode:"HDEL",entryNumber:e.lineId})}else{ue.STOR.products.find(t=>e.itemID===(null===t||void 0===t?void 0:t.id))?(n.push({id:e.itemID,deliverymode:e.fulfillmentType,updatedDeliveryMode:"STOR",entryNumber:e.lineId}),s.push({id:e.itemID,deliverymode:e.fulfillmentType,updatedDeliveryMode:"STOR",entryNumber:e.lineId}),r.SDEL.STOR.push({id:e.itemID,deliverymode:e.fulfillmentType,entryNumber:e.lineId})):(n.push({id:e.itemID,deliverymode:e.fulfillmentType,updatedDeliveryMode:"",entryNumber:e.lineId}),c.push(e.itemID))}u.SDEL.products=u.SDEL.products.filter(t=>t.id!==e.itemID)}else if("HDEL"==e.fulfillmentType){if(ue.SDEL.products.find(t=>e.itemID===(null===t||void 0===t?void 0:t.id)))n.push({id:e.itemID,deliverymode:e.fulfillmentType,updatedDeliveryMode:"SDEL",entryNumber:e.lineId}),r.HDEL.SDEL.push({id:e.itemID,deliverymode:e.fulfillmentType,entryNumber:e.lineId}),s.push({id:e.itemID,deliverymode:e.fulfillmentType,updatedDeliveryMode:"SDEL",entryNumber:e.lineId});else{ue.STOR.products.find(t=>e.itemID===(null===t||void 0===t?void 0:t.id))?(n.push({id:e.itemID,deliverymode:e.fulfillmentType,updatedDeliveryMode:"STOR",entryNumber:e.lineId}),s.push({id:e.itemID,deliverymode:e.fulfillmentType,updatedDeliveryMode:"STOR",entryNumber:e.lineId}),r.HDEL.STOR.push({id:e.itemID,deliverymode:e.fulfillmentType,entryNumber:e.lineId})):(n.push({id:e.itemID,deliverymode:e.fulfillmentType,updatedDeliveryMode:"",entryNumber:e.lineId}),c.push(e.itemID))}u.HDEL.products=u.HDEL.products.filter(t=>t.id!==e.itemID)}else if("STOR"==e.fulfillmentType){if(ue.SDEL.products.find(t=>e.itemID===(null===t||void 0===t?void 0:t.id)))n.push({id:e.itemID,deliverymode:e.fulfillmentType,updatedDeliveryMode:"SDEL",entryNumber:e.lineId}),s.push({id:e.itemID,deliverymode:e.fulfillmentType,updatedDeliveryMode:"SDEL",entryNumber:e.lineId}),r.STOR.SDEL.push({id:e.itemID,deliverymode:e.fulfillmentType,entryNumber:e.lineId});else{const t=ue.HDEL.products.find(t=>e.itemID===(null===t||void 0===t?void 0:t.id));var p,g,E,h,A,f;if(t)if("CromaTransportService"===(null===t||void 0===t||null===(p=t.option)||void 0===p?void 0:p.scac)&&!0===(null===t||void 0===t||null===(g=t.option)||void 0===g?void 0:g.zipEnabledInTMS))(null===t||void 0===t||null===(E=t.option)||void 0===E||null===(h=E.assignments)||void 0===h||null===(A=h.assignment[0])||void 0===A||null===(f=A.deliveryDates)||void 0===f?void 0:f.length)>0?(n.push({id:e.itemID,deliverymode:e.fulfillmentType,updatedDeliveryMode:"HDEL",entryNumber:e.lineId}),s.push({id:e.itemID,deliverymode:e.fulfillmentType,updatedDeliveryMode:"HDEL",entryNumber:e.lineId}),r.STOR.HDEL.push({id:e.itemID,deliverymode:e.fulfillmentType,entryNumber:e.lineId})):(n.push({id:e.itemID,deliverymode:e.fulfillmentType,updatedDeliveryMode:"",entryNumber:e.lineId}),c.push(e.itemID));else n.push({id:e.itemID,deliverymode:e.fulfillmentType,updatedDeliveryMode:"HDEL",entryNumber:e.lineId}),r.STOR.HDEL.push({id:e.itemID,deliverymode:e.fulfillmentType,entryNumber:e.lineId}),s.push({id:e.itemID,deliverymode:e.fulfillmentType,updatedDeliveryMode:"HDEL",entryNumber:e.lineId});else n.push({id:e.itemID,deliverymode:e.fulfillmentType,updatedDeliveryMode:"",entryNumber:e.lineId}),c.push(e.itemID)}u.STOR.products=u.STOR.products.filter(t=>t.id!==e.itemID)}else n.push({id:e.itemID,deliverymode:e.fulfillmentType,updatedDeliveryMode:"",entryNumber:e.lineId}),c.push(e.itemID)}),Qa.setSubmitting(!0),M(!1);const v=parseInt(null===(E=m.data)||void 0===E?void 0:E.reservationStatusCodeEC);if(!(v>=200&&v<300))return 412==v?(me(Object(o.a)({},u)),Qa.setSubmitting(!1),ca([...n]),c&&c.length>0?$a(c.toString()+" "+R.a.OUT_OF_STOCK_MULTILINE,G.f.ERROR):(localStorage.removeItem("selectedDeliveryOptiontmp"),pa([...s]),wa(Object(o.a)({},r)))):($a(R.a.EGV_RESEND_FAILED,G.f.ERROR),Qa.setSubmitting(!1)),null;if(await ml("selectPayment",h))if("undefined"!==typeof Storage&&localStorage.getItem("slots")&&null!=localStorage.getItem("slots")&&"null"!=localStorage.getItem("slots")){if(await Al(e,d))nl(e,t,a,l,i,d);else{"true"===localStorage.getItem("TMS_address_error")?($a("Please add correct address.",G.f.ERROR,!1,!0),localStorage.setItem("TMS_address_error",!1)):$a(R.a.RESERVATION_SLOT_API_FAILED,G.f.ERROR,!1,!0),Qa.setSubmitting(!1),M(!1),xe(!1)}}else nl(e,t,a,l,i,d);else Qa.setSubmitting(!1)}}}).catch(e=>(sl("error:failed reservation","body"),Qa.setSubmitting(!1),xe(!1),M(!1),null))}else if(S){Qa.setSubmitting(!0),M(!1);await ml("selectPayment","")?nl(e,t,a,l,i,d):Qa.setSubmitting(!1)}else $a("Remove out of stock products to proceed",G.f.ERROR),Qa.setSubmitting(!0),M(!1)}},dl=e=>{var t,a,l,i,d,o,n,s,r,c,u,m,v,p,g,E,h,A,f,b,S,N,y,C,I,O,D,L,P,T,k,R,_,B,F,w;return void 0===Ce||((null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.updateAddressAPIResponse)||void 0===a?void 0:a.errors)&&"something went wrong"===(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.updateAddressAPIResponse)||void 0===i||null===(d=i.errors[0])||void 0===d||null===(o=d.message)||void 0===o?void 0:o.toLowerCase())?(At(!0),!1):(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(s=n.updateAddressAPIResponse)||void 0===s?void 0:s.errors)&&"invalid gst number"===(null===e||void 0===e||null===(r=e.data)||void 0===r||null===(c=r.updateAddressAPIResponse)||void 0===c||null===(u=c.errors[0])||void 0===u||null===(m=u.message)||void 0===m?void 0:m.toLowerCase())?(Ta(null===e||void 0===e||null===(C=e.data)||void 0===C||null===(I=C.validateGSTAPIResponse)||void 0===I?void 0:I.message),!1):!(null===e||void 0===e||null===(v=e.data)||void 0===v?void 0:v.errorCode)||"CING01"!==(null===e||void 0===e||null===(p=e.data)||void 0===p?void 0:p.errorCode)&&"croma invalid gst"!==(null===(g=e.data)||void 0===g?void 0:g.message.toLowerCase())&&"something went wrong"!==(null===(E=e.data)||void 0===E?void 0:E.message.toLowerCase())?(null===e||void 0===e||null===(h=e.data)||void 0===h?void 0:h.errorCode)&&"FO8000"===(null===e||void 0===e||null===(A=e.data)||void 0===A?void 0:A.errorCode)?(Ea("Invalid GST number entered"),Ta(null===e||void 0===e||null===(O=e.data)||void 0===O?void 0:O.message),Ca("error"),La(!1),Oa(!1),ye(!1),!1):(null===e||void 0===e||null===(f=e.data)||void 0===f?void 0:f.updateAddressAPIResponse)&&"success"===(null===e||void 0===e||null===(b=e.data)||void 0===b?void 0:b.updateAddressAPIResponse.toLowerCase())&&(null===e||void 0===e||null===(S=e.data)||void 0===S?void 0:S.validateGSTAPIResponse)&&!0===(null===e||void 0===e||null===(N=e.data)||void 0===N||null===(y=N.validateGSTAPIResponse)||void 0===y?void 0:y.success)?(Ea("GST successfully validated"),Ta(null===e||void 0===e||null===(D=e.data)||void 0===D||null===(L=D.validateGSTAPIResponse)||void 0===L?void 0:L.message),Ca("success"),Oa(!0),ye(!0),Oe(Ce),Le(null===e||void 0===e||null===(P=e.data)||void 0===P||null===(T=P.validateGSTAPIResponse)||void 0===T||null===(k=T.result)||void 0===k?void 0:k.dty),Re(null===e||void 0===e||null===(R=e.data)||void 0===R||null===(_=R.validateGSTAPIResponse)||void 0===_||null===(B=_.result)||void 0===B?void 0:B.tradeNam),ma(ka),!0):(Ta(null===e||void 0===e||null===(F=e.data)||void 0===F?void 0:F.message),Ca("error"),La(!1),Oa(!1),ye(!1),!1):(At(!0),Ta(null===e||void 0===e||null===(w=e.data)||void 0===w?void 0:w.message),!1))},ol=()=>void 0===Ce||(Ce.substring(0,2)!==$t.toString()?(Ba(!0),!1):(Ba(!1),!0)),nl=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;const d=localStorage.getItem("access_token"),o="undefined"!==typeof Storage&&"true"===localStorage.getItem("isCSC"),n=Object(H.a)(localStorage.getItem("cr-cache:user-data"),"token");if(n&&""!==n){var r,c;M(!0);let Je="";var u,v;if(o)Je=null===n||void 0===n||null===(u=n.customerInfo)||void 0===u?void 0:u.csc_code;else Je=null===n||void 0===n||null===(v=n.customerInfo)||void 0===v?void 0:v.customerHash;const We="".concat(Je,"/checkout/").concat(null===n||void 0===n||null===(r=n.wishListInfo)||void 0===r||null===(c=r.cartWsDto)||void 0===c?void 0:c.code,"/addresses?refreshCart=false");if(Object(H.G)(m),a&&t){const[a,i,o]=await Promise.all([Object(_.b)(We,e),Object(_.a)(d,t),Object(_.q)(l)]);if(a&&i&&o&&"success"===a.status&&"success"===i.status&&"SUCCESS"===o.data.status.message&&dl(a))localStorage.setItem("saveShippingAddress",JSON.stringify(i.data.id)),ia("select payment",null===m||void 0===m?void 0:m.entries,"body",null===b||void 0===b?void 0:b.checked),s.push({pathname:"/payment",state:{cartData:m}});else{var p,g,E,h,A,f,S,N,y,C;if(sl("error:address","body"),!a.data||!1!==(null===(p=a.data)||void 0===p?void 0:p.success)||"CING01"!==(null===(g=a.data)||void 0===g?void 0:g.errorCode)&&"croma invalid gst"!==(null===(E=a.data)||void 0===E?void 0:E.message.toLowerCase())&&"something went wrong"!==(null===(h=a.data)||void 0===h?void 0:h.message.toLowerCase())){if((null===a||void 0===a||null===(A=a.data)||void 0===A||null===(f=A.updateAddressAPIResponse)||void 0===f?void 0:f.errors)&&"invalid gst number"===(null===a||void 0===a||null===(S=a.data)||void 0===S||null===(N=S.updateAddressAPIResponse)||void 0===N||null===(y=N.errors[0])||void 0===y?void 0:y.message.toLowerCase())){var I,O;Ta(null===a||void 0===a||null===(I=a.data)||void 0===I||null===(O=I.validateGSTAPIResponse)||void 0===O?void 0:O.message)}else if("success"!==(null===a||void 0===a?void 0:a.status)){var D,L,P,T,k,B,F;if((null===a||void 0===a||null===(D=a.data)||void 0===D||null===(L=D.updateAddressAPIResponse)||void 0===L?void 0:L.errors)&&"something went wrong"===(null===a||void 0===a||null===(P=a.data)||void 0===P||null===(T=P.updateAddressAPIResponse)||void 0===T||null===(k=T.errors[0])||void 0===k?void 0:k.message.toLowerCase()))Ta(null===a||void 0===a||null===(B=a.data)||void 0===B||null===(F=B.validateGSTAPIResponse)||void 0===F?void 0:F.message),At(!0);else $a(R.a.SAVE_ADDRESS_FAILED,G.f.ERROR)}}else Ta(null===a||void 0===a||null===(C=a.data)||void 0===C?void 0:C.message),At(!0);x.push({"Shipping Address":"Unable to save address please try again"});const e=Object.assign({},...x);Object(sa.a)(Object.keys(e),Object.values(e)),M(!1),Qa.setSubmitting(!1),xe(!1)}}else if(t){const[a,l]=await Promise.all([Object(_.b)(We,e),Object(_.a)(d,t)]);if(a&&l&&"success"===a.status&&"success"===l.status&&dl(a))localStorage.setItem("saveShippingAddress",JSON.stringify(l.data.id)),ia("select payment",null===m||void 0===m?void 0:m.entries,"body",null===b||void 0===b?void 0:b.checked),s.push({pathname:"/payment",state:{cartData:m}});else{var w,j,Q,V,U,J,W,Y,z,K;if(sl("error:address","body"),!a.data||!1!==(null===(w=a.data)||void 0===w?void 0:w.success)||"CING01"!==(null===(j=a.data)||void 0===j?void 0:j.errorCode)&&"croma invalid gst"!==(null===(Q=a.data)||void 0===Q?void 0:Q.message.toLowerCase())&&"something went wrong"!==(null===(V=a.data)||void 0===V?void 0:V.message.toLowerCase())){if((null===a||void 0===a||null===(U=a.data)||void 0===U||null===(J=U.updateAddressAPIResponse)||void 0===J?void 0:J.errors)&&"invalid gst number"===(null===a||void 0===a||null===(W=a.data)||void 0===W||null===(Y=W.updateAddressAPIResponse)||void 0===Y||null===(z=Y.errors[0])||void 0===z?void 0:z.message.toLowerCase())){var X,q;Ta(null===a||void 0===a||null===(X=a.data)||void 0===X||null===(q=X.validateGSTAPIResponse)||void 0===q?void 0:q.message)}else if("success"!==(null===a||void 0===a?void 0:a.status)){var Z,$,ee,te,ae,le,ie;if((null===a||void 0===a||null===(Z=a.data)||void 0===Z||null===($=Z.updateAddressAPIResponse)||void 0===$?void 0:$.errors)&&"something went wrong"===(null===a||void 0===a||null===(ee=a.data)||void 0===ee||null===(te=ee.updateAddressAPIResponse)||void 0===te||null===(ae=te.errors[0])||void 0===ae?void 0:ae.message.toLowerCase()))Ta(null===a||void 0===a||null===(le=a.data)||void 0===le||null===(ie=le.validateGSTAPIResponse)||void 0===ie?void 0:ie.message),At(!0);else $a(R.a.SAVE_ADDRESS_FAILED,G.f.ERROR)}}else Ta(null===a||void 0===a||null===(K=a.data)||void 0===K?void 0:K.message),At(!0);x.push({"Shipping Address":"Unable to save address please try again"});const e=Object.assign({},...x);Object(sa.a)(Object.keys(e),Object.values(e)),M(!1),Qa.setSubmitting(!1),xe(!1)}}else if(a){const[t,a]=await Promise.all([Object(_.b)(We,e),Object(_.q)(l)]);if(t&&a&&"success"===t.status&&"SUCCESS"===a.data.status.message&&dl(t))El(i),ia("select payment",null===m||void 0===m?void 0:m.entries,"body",null===b||void 0===b?void 0:b.checked),s.push({pathname:"/payment",state:{cartData:m}});else{var de,oe,ne,se,re,ce,ue,me,ve,pe;if(sl("error:address","body"),!t.data||!1!==(null===(de=t.data)||void 0===de?void 0:de.success)||"CING01"!==(null===(oe=t.data)||void 0===oe?void 0:oe.errorCode)&&"croma invalid gst"!==(null===(ne=t.data)||void 0===ne?void 0:ne.message.toLowerCase())&&"something went wrong"!==(null===(se=t.data)||void 0===se?void 0:se.message.toLowerCase())){if((null===t||void 0===t||null===(re=t.data)||void 0===re||null===(ce=re.updateAddressAPIResponse)||void 0===ce?void 0:ce.errors)&&"invalid gst number"===(null===t||void 0===t||null===(ue=t.data)||void 0===ue||null===(me=ue.updateAddressAPIResponse)||void 0===me||null===(ve=me.errors[0])||void 0===ve?void 0:ve.message.toLowerCase())){var ge,Ee;Ta(null===t||void 0===t||null===(ge=t.data)||void 0===ge||null===(Ee=ge.validateGSTAPIResponse)||void 0===Ee?void 0:Ee.message)}else if("success"!==(null===t||void 0===t?void 0:t.status)){var he,Ae,fe,be,Se,Ne,ye;if((null===t||void 0===t||null===(he=t.data)||void 0===he||null===(Ae=he.updateAddressAPIResponse)||void 0===Ae?void 0:Ae.errors)&&"something went wrong"===(null===t||void 0===t||null===(fe=t.data)||void 0===fe||null===(be=fe.updateAddressAPIResponse)||void 0===be||null===(Se=be.errors[0])||void 0===Se?void 0:Se.message.toLowerCase()))Ta(null===t||void 0===t||null===(Ne=t.data)||void 0===Ne||null===(ye=Ne.validateGSTAPIResponse)||void 0===ye?void 0:ye.message),At(!0);else $a(R.a.SAVE_ADDRESS_FAILED,G.f.ERROR)}}else Ta(null===t||void 0===t||null===(pe=t.data)||void 0===pe?void 0:pe.message),At(!0);x.push({"Shipping Address":"Unable to save address please try again"});const e=Object.assign({},...x);Object(sa.a)(Object.keys(e),Object.values(e)),M(!1),Qa.setSubmitting(!1),xe(!1)}}else{const[t]=await Promise.all([Object(_.b)(We,e)]);if(t&&"success"===t.status&&dl(t))ia("select payment",null===m||void 0===m?void 0:m.entries,"body",null===b||void 0===b?void 0:b.checked),s.push({pathname:"/payment",state:{cartData:m}});else{var Ce,Ie,Oe,De,Le,Pe,Te,ke,Re,_e;if(sl("error:address","body"),!t.data||!1!==(null===(Ce=t.data)||void 0===Ce?void 0:Ce.success)||"CING01"!==(null===(Ie=t.data)||void 0===Ie?void 0:Ie.errorCode)&&"croma invalid gst"!==(null===(Oe=t.data)||void 0===Oe?void 0:Oe.message.toLowerCase())&&"something went wrong"!==(null===(De=t.data)||void 0===De?void 0:De.message.toLowerCase())){if((null===t||void 0===t||null===(Le=t.data)||void 0===Le||null===(Pe=Le.updateAddressAPIResponse)||void 0===Pe?void 0:Pe.errors)&&"invalid gst number"===(null===t||void 0===t||null===(Te=t.data)||void 0===Te||null===(ke=Te.updateAddressAPIResponse)||void 0===ke||null===(Re=ke.errors[0])||void 0===Re?void 0:Re.message.toLowerCase())){var Be,Fe;Ta(null===t||void 0===t||null===(Be=t.data)||void 0===Be||null===(Fe=Be.validateGSTAPIResponse)||void 0===Fe?void 0:Fe.message)}else if("success"!==(null===t||void 0===t?void 0:t.status)){var we,Me,je,Qe,Ve,He,Ue,Ge;if((null===t||void 0===t||null===(we=t.data)||void 0===we||null===(Me=we.updateAddressAPIResponse)||void 0===Me?void 0:Me.errors)&&"something went wrong"===(null===t||void 0===t||null===(je=t.data)||void 0===je||null===(Qe=je.updateAddressAPIResponse)||void 0===Qe||null===(Ve=Qe.errors[0])||void 0===Ve?void 0:Ve.message.toLowerCase()))Ta(null===t||void 0===t||null===(He=t.data)||void 0===He||null===(Ue=He.validateGSTAPIResponse)||void 0===Ue?void 0:Ue.message),At(!0);else Ta(null===t||void 0===t||null===(Ge=t.data)||void 0===Ge?void 0:Ge.message),$a(R.a.SAVE_ADDRESS_FAILED,G.f.ERROR)}}else Ta(null===t||void 0===t||null===(_e=t.data)||void 0===_e?void 0:_e.message),At(!0);x.push({"Shipping Address":"Unable to save address please try again"});const e=Object.assign({},...x);Object(sa.a)(Object.keys(e),Object.values(e)),M(!1),Qa.setSubmitting(!1),xe(!1)}}}},sl=(e,t)=>{Object(la.a)(e,t,m)},rl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="";if(m&&m.entries&&m.entries.length>0){let O=0;const D=[];localStorage.getItem("deliveryMode")&&(t=localStorage.getItem("deliveryMode"));for(let t=0;t<m.entries.length;t++){var a,l,i,d,o,n,s,c,u,v,p;const L=m.entries[t].product.code,P=m.entries[t].hasOwnProperty("exchangeAmount")?"trade-in":"normal",T=m.entries[t].quantity,k=null===(a=m.entries[t].product)||void 0===a?void 0:a.categoryType,R=(null===(l=m.entries[t].product)||void 0===l?void 0:l.applianceType)?null===(i=m.entries[t].product)||void 0===i?void 0:i.applianceType:"",_=(null===(d=m.entries[t].product)||void 0===d?void 0:d.wiiFlag)?"Y":"N",B=(null===m||void 0===m||null===(o=m.entries[t])||void 0===o||null===(n=o.product)||void 0===n?void 0:n.classCode)?null===(s=m.entries[t].product)||void 0===s?void 0:s.classCode:"";let F=[];F=(null===(c=m.entries[t].product)||void 0===c?void 0:c.isGiftCard)||(null===(u=m.entries[t].product)||void 0===u?void 0:u.isDigital)||m.entries[t].hasOwnProperty("giftCards")?["HDEL"]:["HDEL","STOR","SDEL"];let w=[];if("ZPAK"===(null===m||void 0===m||null===(v=m.entries[t])||void 0===v||null===(p=v.product)||void 0===p?void 0:p.SAP_MATERIAL_TYPE)){var g,E;let e=(null===m||void 0===m||null===(g=m.entries[t])||void 0===g||null===(E=g.product)||void 0===E?void 0:E.SAP_BOM_DESC).split(",");w=[{itemID:"".concat(e[0]),quantity:"1"},{itemID:"".concat(e[1]),quantity:"1"}]}else w=[];if(L!==r.a.giftProductId&&L!==r.a.donateProductId)for(let t=0;t<F.length;t++){var h,f,b,S,N,y,C,I;if("Y"===_){if("HDEL"!==F[t])continue}else if("STOR"===F[t]&&"LA"===R)continue;const a={fulfillmentType:"".concat(F[t]),mch:B,order_type:P,itemID:"".concat(L),lineId:"".concat(O+1),reEndDate:"2500-01-01",reqStartDate:"",requiredQty:"".concat(T),shipToAddress:{company:"",country:"",city:"",mobilePhone:"",state:"",zipCode:"".concat(""==e?q:e),lat:(null===A||void 0===A||null===(h=A.shippingAddress)||void 0===h||null===(f=h.gpsCoordinates)||void 0===f?void 0:f.latitude)?null===A||void 0===A||null===(b=A.shippingAddress)||void 0===b||null===(S=b.gpsCoordinates)||void 0===S?void 0:S.latitude:"",lon:(null===A||void 0===A||null===(N=A.shippingAddress)||void 0===N||null===(y=N.gpsCoordinates)||void 0===y?void 0:y.longitude)?null===A||void 0===A||null===(C=A.shippingAddress)||void 0===C||null===(I=C.gpsCoordinates)||void 0===I?void 0:I.longitude:"",extn:{irlAddressLine1:"",irlAddressLine2:""}},extn:{widerStoreFlag:_},zpactItems:w};k&&(a.categoryType=k),O+=1,D.push(a)}}("undefined"!==typeof Storage&&"true"===localStorage.getItem("isCSC")||Ze)&&Lt(!0),He(null),M(!0),K(!0),localStorage.removeItem("countError"),xe(!1),Kt(!0),Object(Ie.i)(D).then(e=>{"cromaStorePickup"!==t&&M(!1),Zt([]),K(!1),localStorage.removeItem("selectedDeliveryOptiontmp"),Kt(!1),"success"===e.status?(localStorage.removeItem("sltArr"),localStorage.removeItem("TMSArr"),localStorage.removeItem("slots"),ee(e.data),ul(e.data),localStorage.setItem("countError",[]),rt([]),Lt(!1)):(ee(),Lt(!1),ul({STOR:{status:!1,selected:!1,products:[]},SDEL:{status:!1,selected:!1,products:[]},HDEL:{status:!1,selected:!1,products:[]}}))}).catch(()=>{Kt(!1),Lt(!1),K(!1),ee(),ul({STOR:{status:!1,selected:!1,products:[]},SDEL:{status:!1,selected:!1,products:[]},HDEL:{status:!1,selected:!1,products:[]}})})}};Object(l.useEffect)(()=>{te&&m&&m.entries&&m.entries.length>0&&(rl(),ae(!1))},[m]),Object(l.useEffect)(()=>{m&&m.entries&&m.entries.length>0&&(localStorage.getItem("cscBillingUpdate")?localStorage.removeItem("cscBillingUpdate"):(ie(!0),rl()))},[A]),Object(l.useEffect)(()=>{var e;Ze&&Qa.values.shipPinCode&&6==(null===(e=Qa.values.shipPinCode)||void 0===e?void 0:e.length)&&Qa.values.shipPinCode!=q&&(Wa(Qa.values.shipPinCode),rl(Qa.values.shipPinCode))},[Qa.values.shipPinCode]);const cl=(e,t)=>{const a=[];if(e&&Array.isArray(e))for(let n=0;n<e.length;n++){var l,i;const t=e[n];if((null===t||void 0===t||null===(l=t.promiseLines)||void 0===l?void 0:l.promiseLine)&&Array.isArray(null===t||void 0===t||null===(i=t.promiseLines)||void 0===i?void 0:i.promiseLine))for(let e=0;e<(null===t||void 0===t||null===(d=t.promiseLines)||void 0===d?void 0:d.promiseLine.length);e++){var d,o;const l=null===t||void 0===t||null===(o=t.promiseLines)||void 0===o?void 0:o.promiseLine[e];if("STOR"===l.fulfillmentType&&l&&l.assignments&&l.assignments.assignment&&Array.isArray(l.assignments.assignment)&&l.assignments.assignment.length>0&&!l.assignments.assignment[0].hasOwnProperty("emptyAssignmentReason")){const e=a.find(e=>e.shipNode===l.assignments.assignment[0].shipNode),t=l.itemID;if(e){void 0===e.products.find(e=>e===t)&&e.products.push(t)}else a.push({shipNode:l.assignments.assignment[0].shipNode,products:[l.itemID]})}}}if(t.status&&Array.isArray(t.products)){const e=t.products;for(let t=0;t<e.length;t++){const l=e[t].option;if("STOR"===l.fulfillmentType&&l&&l.assignments&&l.assignments.assignment&&Array.isArray(l.assignments.assignment)&&l.assignments.assignment.length>0&&!l.assignments.assignment[0].hasOwnProperty("emptyAssignmentReason")){const e=a.find(e=>e.shipNode===l.assignments.assignment[0].shipNode),t=l.itemID;if(e){void 0===e.products.find(e=>e===t)&&e.products.push(t)}else a.push({shipNode:l.assignments.assignment[0].shipNode,products:[l.itemID]})}}}Ae(a)},ul=e=>{var t,a,l,i,d,o;const n=null===e||void 0===e||null===(t=e.promise)||void 0===t||null===(a=t.suggestedOption)||void 0===a||null===(l=a.option)||void 0===l||null===(i=l.promiseLines)||void 0===i?void 0:i.promiseLine,s={STOR:{status:!1,selected:!1,products:[]},SDEL:{status:!1,selected:!1,products:[]},HDEL:{status:!1,selected:!1,products:[]}};if(n&&Array.isArray(n)&&n.length>0)for(let u=0;u<n.length;u++){const e=n[u];"HDEL"===e.fulfillmentType?e&&e.assignments&&e.assignments.assignment&&Array.isArray(e.assignments.assignment)&&e.assignments.assignment.length>0&&!e.assignments.assignment[0].hasOwnProperty("emptyAssignmentReason")&&(s.HDEL.products.push({id:e.itemID,option:e,selected:!1}),s.HDEL.status=!0):"STOR"===e.fulfillmentType?e&&e.assignments&&e.assignments.assignment&&Array.isArray(e.assignments.assignment)&&e.assignments.assignment.length>0&&!e.assignments.assignment[0].hasOwnProperty("emptyAssignmentReason")&&(s.STOR.products.push({id:e.itemID,option:e,selected:!1}),s.STOR.status=!0):"SDEL"===e.fulfillmentType&&e&&e.assignments&&e.assignments.assignment&&Array.isArray(e.assignments.assignment)&&e.assignments.assignment.length>0&&!e.assignments.assignment[0].hasOwnProperty("emptyAssignmentReason")&&(s.SDEL.products.push({id:e.itemID,option:e,selected:!1}),s.SDEL.status=!0)}var r,c;(null===e||void 0===e||null===(d=e.promise)||void 0===d||null===(o=d.options)||void 0===o?void 0:o.option)?cl(null===e||void 0===e||null===(r=e.promise)||void 0===r||null===(c=r.options)||void 0===c?void 0:c.option,s.STOR):cl("",s.STOR);setTimeout(()=>{me(s)},1e3)};Object(l.useEffect)(()=>{if($){var e,t,a,l;const i=m.entries.every(e=>{var t,a,l,i,d;return!(e.product.code!==r.a.giftProductId&&e.product.code!==r.a.donateProductId&&!e.hasOwnProperty("giftCards")&&!(null===(t=e.product)||void 0===t?void 0:t.isDigital))||("CROMAEXPRESSDELIVERY"===(null===m||void 0===m||null===(a=m.deliveryMode)||void 0===a||null===(l=a.code)||void 0===l?void 0:l.toUpperCase())?!!ue.SDEL.products.find(t=>t.id===e.product.code):"CROMAHOMEDELIVERY"===(null===m||void 0===m||null===(i=m.deliveryMode)||void 0===i||null===(d=i.code)||void 0===d?void 0:d.toUpperCase())&&!!ue.HDEL.products.find(t=>t.id===e.product.code))});i?(Ee(!1),Qa.setSubmitting(!1)):i||"CROMAEXPRESSDELIVERY"!==(null===m||void 0===m||null===(e=m.deliveryMode)||void 0===e||null===(t=e.code)||void 0===t?void 0:t.toUpperCase())&&"CROMAHOMEDELIVERY"!==(null===m||void 0===m||null===(a=m.deliveryMode)||void 0===a||null===(l=a.code)||void 0===l?void 0:l.toUpperCase())||(Ee(!0),Qa.setSubmitting(!0))}},[ue]);const ml=async function(e,t){const a="undefined"!==typeof Storage&&"true"===localStorage.getItem("isCSC"),l=localStorage.getItem("csc_code"),i=localStorage.getItem("customer_hash");let d="";if(l||i&&""!==i){var n,s;const e=Object(H.a)(localStorage.getItem("cr-cache:user-data"),"token");var r,c,u,v,p;if(e&&""!==e&&(null===e||void 0===e||null===(n=e.wishListInfo)||void 0===n||null===(s=n.cartWsDto)||void 0===s?void 0:s.code))if(a)d+="users/".concat(l,"/carts/").concat(null===e||void 0===e||null===(r=e.wishListInfo)||void 0===r||null===(c=r.cartWsDto)||void 0===c?void 0:c.code,"/deliverymode?refreshCart=false");else d+="users/".concat(null===e||void 0===e||null===(u=e.customerInfo)||void 0===u?void 0:u.customerHash,"/carts/").concat(null===e||void 0===e||null===(v=e.wishListInfo)||void 0===v||null===(p=v.cartWsDto)||void 0===p?void 0:p.code,"/deliverymode?refreshCart=false")}const g=[],E=[],h={};if("selectPayment"===e&&(m&&m.entries.forEach(e=>{var t;if((null===e||void 0===e||null===(t=e.product)||void 0===t?void 0:t.isDigital)||e.hasOwnProperty("giftCards")){var a,l,i,d,n;const t=ue.HDEL.products.find(t=>t.id==e.product.code);g.push({code:e.product.code,deliveryModeId:"cromaHomeDelivery",deliveryShipNode:null===t||void 0===t||null===(a=t.option)||void 0===a||null===(l=a.assignments)||void 0===l?void 0:l.assignment[0].shipNode,eddDate:null===t||void 0===t||null===(i=t.option)||void 0===i||null===(d=i.assignments)||void 0===d||null===(n=d.assignment[0].deliveryDate)||void 0===n?void 0:n.slice(0,10),entryNumber:e.entryNumber})}else{var s,r;let t=e.product.code,a="";if(e.vasProduct&&e.hasOwnProperty("baseProductCode")?(a=Xt.find(t=>e.vasProduct?t.code==e.baseProductCode:t.code==e.product.code&&t.entryNumber==e.entryNumber),a&&(t=e.baseProductCode)):a=Xt.find(t=>t.code==e.product.code&&t.entryNumber==e.entryNumber),a.deliveryMode&&"HDEL"===a.deliveryMode&&localStorage.setItem("deliveryMode",ja[a.deliveryMode]),"STOR"===a.deliveryMode){const t=Object.entries(Xe).map(e=>{let[t,a]=e;return Object(o.a)({name:t},a)});let l={};t.forEach((e,t)=>{e.name==a.storeId.toString()&&(l=e)}),E.push({entryNumber:e.entryNumber,address:l.address,contact:l.contact,description:l.description,displayName:l.displayName,features:l.features,geoPoint:l.geoPoint,name:l.name,openingHours:l.openingHours,storeImageUrl:l.storeImageUrl,storeImages:l.storeImages,storeManagerImageUrl:l.storeManagerImageUrl,storeManagerNamestoreManagerName:l.storeManagerName})}if(a||(null===e||void 0===e?void 0:e.vasProduct)||(null===e||void 0===e||null===(s=e.product)||void 0===s?void 0:s.name.toLowerCase().includes("onsitego"))||(null===e||void 0===e||null===(r=e.product)||void 0===r?void 0:r.name.toLowerCase().includes("zopper")))try{const l=a?a.deliveryMode:"HDEL";let i="";i="SDEL"==l?"cromaExpressDelivery":"HDEL"==l?"cromaHomeDelivery":"cromaStorePickup";const d=ue[l].products.find(e=>e.id==t);var c,u,m,v,p,h,A;if("STOR"==l)g.push({code:e.product.code,deliveryModeId:i,deliveryShipNode:a.storeId,eddDate:"",entryNumber:e.entryNumber});else g.push({code:e.product.code,deliveryModeId:i,deliveryShipNode:null===d||void 0===d||null===(c=d.option)||void 0===c||null===(u=c.assignments)||void 0===u?void 0:u.assignment[0].shipNode,eddDate:"SDEL"==l?Object(be.a)(null===d||void 0===d||null===(m=d.option)||void 0===m||null===(v=m.assignments)||void 0===v?void 0:v.assignment[0].deliveryDate):null===d||void 0===d||null===(p=d.option)||void 0===p||null===(h=p.assignments)||void 0===h||null===(A=h.assignment[0].deliveryDate)||void 0===A?void 0:A.slice(0,10),entryNumber:e.entryNumber})}catch(f){console.log(f)}}}),h.entryDetailsList=g,h.deliveryPointOfService=E,localStorage.setItem("selectedDeliveryMode",JSON.stringify(g))),""!==d)try{return"success"===(await Object(Ie.s)(d,h)).status||null}catch(A){return null}},vl=()=>{const e=Object(o.a)({},E);e.contactProfileInfoForm=!1,h(e)};Object(l.useEffect)(()=>{vt(st)},[st]),Object(l.useEffect)(()=>{""===Ce||void 0===Ce?(Re(),Te(!0)):""!==Ce&&/^[0-9]{2,4}[A-Z]{3,5}[0-9]{4,5}[A-Z]{1}[0-9A-Z]{2,3}$/.test(Ce)?Te(!0):Te(!1)},[Ce,Ne]),"undefined"!==typeof window&&(document.onscroll=function(){if(m&&m.entries&&m.entries.length>0){let e="",t="";document.getElementById(R.a.usefulLinks)&&(t=document.getElementById(R.a.usefulLinks)),document.getElementById("payment_footer_container")&&(e=document.getElementById("payment_footer_container")),0===document.body.scrollTop&&0===document.documentElement.scrollTop?e&&(e.classList.remove("show_add_to_cart"),t&&t.classList.remove("footer-margin-bottom")):e&&(e.classList.add("show_add_to_cart"),t&&t.classList.add("footer-margin-bottom"))}});const pl=e=>{const t=localStorage.getItem("customer_hash"),a=localStorage.getItem("csc_code"),l="undefined"!==typeof Storage&&"true"===localStorage.getItem("isCSC");if(t&&""!==t||l&&""!==a){const t=Object(H.a)(localStorage.getItem("cr-cache:user-data"),"token");e.code&&(t.wishListInfo.cartWsDto=e),localStorage.setItem("cr-cache:user-data",JSON.stringify(t))}else e.guid&&localStorage.setItem("cr-cache:guest-cart",JSON.stringify(e))},gl=()=>{if(at.entryDemoAndInstallationDetails.length>0){let e=(()=>{var e,t;const a=localStorage.getItem("customer_hash"),l=Object(H.a)(localStorage.getItem("cr-cache:user-data"),"token");let i="",d="";return l&&""!==l&&(null===l||void 0===l||null===(e=l.wishListInfo)||void 0===e||null===(t=e.cartWsDto)||void 0===t?void 0:t.code)&&(i=l.wishListInfo.cartWsDto.code),""!==a&&""!==i&&(d="/user/allchannels/v1/".concat(a,"/checkout/").concat(i,"/service-appointment")),d})();""!==e&&Object(_.k)(e,at).then(e=>{"success"===e.status||console.log("callGetserviceAppointment failed")})}},El=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a="undefined"!==typeof window&&localStorage.getItem("customer_hash"),l="/".concat(a,"/profilemodification");Object(_.m)(e,l).then(e=>{"success"===e.status&&(t||vl())}).catch(e=>{})},hl=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const a=await Object(_.j)(e,t);let l="",i="";if(a&&(null===a||void 0===a?void 0:a.results)&&Array.isArray(a.results)&&a.results.length>0){const e=a.results[0];var d,n;if(null===e||void 0===e?void 0:e.geometry)l=null===e||void 0===e||null===(d=e.geometry)||void 0===d?void 0:d.location.lat,i=null===e||void 0===e||null===(n=e.geometry)||void 0===n?void 0:n.location.lng;return Object(o.a)({lat:l,lng:i},e)}return{lat:l,lng:i}},Al=async(e,t)=>{try{let u=[],m=[],v=Object(H.a)(localStorage.getItem("slots"),"token"),p=Object(H.a)(localStorage.getItem("sltArr"),"token");p&&p.map(e=>{m.push(e)}),localStorage.setItem("TMSArr",JSON.stringify(m)),v.map(e=>{var t;return e.external_reference_id="".concat(e.external_reference_id).concat(null===(t=e.items[0])||void 0===t?void 0:t.sku)}),localStorage.setItem("selAddr",JSON.stringify(A));const g=Object(Na.a)(e,t,Ze),E=await Object(Ie.r)(g);if("success"===E.status){var a;let e=E.data,t=!0,l=e.reservations.map(e=>e.external_reference_id).filter((e,t,a)=>a.indexOf(e)!==t);const i=e.reservations.filter(e=>l.includes(e.external_reference_id));e.reservations.map((e,a)=>{let l=p.findIndex(t=>"".concat(null===t||void 0===t?void 0:t.id).concat(null===t||void 0===t?void 0:t.cartEntryId)===(null===e||void 0===e?void 0:e.external_reference_id));var d;if(!(l<0))if((null===i||void 0===i?void 0:i.length)>0&&(null===(d=i[0])||void 0===d?void 0:d.external_reference_id)===(null===e||void 0===e?void 0:e.external_reference_id)&&t){t=!1;let e={};if("Trade-In"===i[0].order_type){var o,n;let t=p[l].time.startTime.split(" "),a=t[0]+"T"+t[1]+":00",d=p[l].time.endTime.split(" "),s=d[0]+"T"+d[1]+":00";e.slotReservationId=i[0].reservation_id,e.cartEntryId=p[l].cartEntryId,e.deliveryTimeFrom=a,e.deliveryTimeTo=s,e.slotLmdFcId=null===(o=v[l])||void 0===o?void 0:o.external_fc_id,e.slotOrderType=i[0].order_type,e.tradeInSlotReservationId=i[1].reservation_id,e.tradeInDeliveryTimeFrom=a,e.tradeInDeliveryTimeTo=s,e.tradeInSlotLmdFcId=null===(n=v[l])||void 0===n?void 0:n.external_fc_id,e.tradeInSlotOrderType=i[1].order_type}else{var s,r;let t=p[l].time.startTime.split(" "),a=t[0]+"T"+t[1]+":00",d=p[l].time.endTime.split(" "),o=d[0]+"T"+d[1]+":00";e.slotReservationId=i[1].reservation_id,e.cartEntryId=p[l].cartEntryId,e.deliveryTimeFrom=a,e.deliveryTimeTo=o,e.slotLmdFcId=null===(s=v[l])||void 0===s?void 0:s.external_fc_id,e.slotOrderType=i[1].order_type,e.tradeInSlotReservationId=i[0].reservation_id,e.tradeInDeliveryTimeFrom=a,e.tradeInDeliveryTimeTo=o,e.tradeInSlotLmdFcId=null===(r=v[l])||void 0===r?void 0:r.external_fc_id,e.tradeInSlotOrderType=i[0].order_type}u.push(e)}else if("Trade-In"!==e.order_type&&"Pickup"!==e.order_type){var c;let t=p[l].time.startTime.split(" "),a=t[0]+"T"+t[1]+":00",i=p[l].time.endTime.split(" "),d=i[0]+"T"+i[1]+":00",o={slotReservationId:e.reservation_id,cartEntryId:p[l].cartEntryId,deliveryTimeFrom:a,deliveryTimeTo:d,slotLmdFcId:null===(c=v[l])||void 0===c?void 0:c.external_fc_id,slotOrderType:e.order_type};u.push(o)}});let d=It?localStorage.getItem("csc_code"):localStorage.getItem("customer_hash");let o=null===(a=Object(H.a)(localStorage.getItem("cr-cache:user-data"),"token").wishListInfo.cartWsDto)||void 0===a?void 0:a.code,n="/user/allchannels/v1/".concat(d,"/checkout/").concat(o,"/slotReservationId?refreshCart=false"),s=await Object(Ie.u)(u,n);return s="success"===s.status,"undefined"!==typeof Storage&&localStorage.getItem("slot_unavailable")&&localStorage.removeItem("slot_unavailable"),s}var l,i,d,o,n,s,r,c;return!(null===E||void 0===E||null===(l=E.data)||void 0===l?void 0:l.errors)||2039!==(null===E||void 0===E||null===(i=E.data)||void 0===i||null===(d=i.errors[0])||void 0===d?void 0:d.code)&&2038!==(null===E||void 0===E||null===(o=E.data)||void 0===o||null===(n=o.errors[0])||void 0===n?void 0:n.code)?(null===E||void 0===E||null===(s=E.data)||void 0===s?void 0:s.errors)&&3001===(null===E||void 0===E||null===(r=E.data)||void 0===r||null===(c=r.errors[0])||void 0===c?void 0:c.code)?localStorage.setItem("TMS_address_error",!0):localStorage.removeItem("slot_unavailable"):localStorage.setItem("slot_unavailable",!0),!1}catch(u){return console.log(u),!1}};"undefined"!==typeof window&&(window.setCordinatesErrGlobal=()=>{Bt(!1)});const fl=()=>{wt(!0)},bl=e=>{e.preventDefault(),wt("")},Sl=e=>{var t,a;Qt(null);const l=Object(H.a)(localStorage.getItem("cr-cache:user-data"),"token");if(l&&""!==l&&(null===l||void 0===l||null===(t=l.wishListInfo)||void 0===t||null===(a=t.cartWsDto)||void 0===a?void 0:a.code)){var i,d;const e={pan:Mt},t=localStorage.getItem("access_token"),a={"Content-Type":"application/json",Authorization:"".concat(t),cartId:"".concat(null===l||void 0===l||null===(i=l.wishListInfo)||void 0===i||null===(d=i.cartWsDto)||void 0===d?void 0:d.code)};let c="";if(It){var o,n;const e=localStorage.getItem("csc_code");c="".concat(e,"/checkout/").concat(null===l||void 0===l||null===(o=l.wishListInfo)||void 0===o||null===(n=o.cartWsDto)||void 0===n?void 0:n.code,"/pandetails")}else{var s,r;c="".concat(l.customerInfo.customerHash,"/checkout/").concat(null===l||void 0===l||null===(s=l.wishListInfo)||void 0===s||null===(r=s.cartWsDto)||void 0===r?void 0:r.code,"/pandetails")}Object(_.l)(a,e,c).then(e=>{var t;"success"===e.status?(null===(t=e.data)||void 0===t?void 0:t.valid)?(fl(),Qt(e.data)):(Qt(e.data),bt(!1)):(Qt(null),Ut(!0),bt(!1))}).catch(e=>{Qt(null),Ut(!0),bt(!1)})}};return i.a.createElement(i.a.Fragment,null,i.a.createElement(w.a,{show:Dt}),i.a.createElement("form",{onSubmit:Qa.handleSubmit,autoComplete:"off"},i.a.createElement(U.Provider,{value:_t},i.a.createElement("div",{className:"container ".concat(Ze?"white-container":"")},i.a.createElement("div",{className:"sec-cont"},i.a.createElement("div",{className:"cp-checkout"},i.a.createElement("ul",{className:"checkout-list"},Ze?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"sec-head flex-col"},i.a.createElement("div",{className:"new-user flex-section view-more-div shipping-address-create-title"},R.a.CONTINUE_CREATING_ACCOUNT),i.a.createElement("div",{className:"main-heading-ship"},R.a.ENTER_SHIPPING_INFORMATION)),(null===E||void 0===E?void 0:E.contactProfileInfoForm)&&i.a.createElement("div",{className:"cp-box add-address-box-title pad-0"},i.a.createElement("div",{className:"box-title address-details"}),i.a.createElement("div",{className:"form-list"},i.a.createElement("ul",{className:"list col2 margin-contact"},i.a.createElement(qt,{formikOrderDetails:Qa,addAddressSectionState:E,clickAddAddressSectionState:qa,addressloader:k,callProfileModification:El,giftCardValue:Pt,isemailVerified:St,setIsemailVerified:Nt,isdigitalAvailable:Gt})))),i.a.createElement("div",{className:"sec-head flex-col continue-user-padding-left"},i.a.createElement("h2",{className:"box-title chk-section-title"},gt?R.a.ENTER_BILLING_ADDRESS:R.a.ENTER_SHIPPING_ADDRESS,":")),i.a.createElement(Aa,{formikOrderDetails:Qa}),!gt&&i.a.createElement(fa,{checkBoxVal:it,setCheckBoxVal:dt,setBillAddress:Se,formikOrderDetails:Qa}),!(null===E||void 0===E?void 0:E.contactProfileInfoForm)&&i.a.createElement(qt,{formikOrderDetails:Qa,addAddressSectionState:E,clickAddAddressSectionState:qa,addressloader:k,callProfileModification:El,giftCardValue:Pt,isemailVerified:St,setIsemailVerified:Nt,isdigitalAvailable:Gt})):i.a.createElement(i.a.Fragment,null),!Ze&&i.a.createElement("div",{className:"bill-ship ".concat(Fe[0]||_e[0]||st.length>0?"":"error-bill-ship")},gt?i.a.createElement(i.a.Fragment,null,i.a.createElement(ba,{data:m,profileData:c,formikUserProfileForm:Qa,formikOrderDetails:Qa,email:Qa.values.contactemail})):i.a.createElement(aa,{item:m&&(null===m||void 0===m?void 0:m.entries)?N&&N.checked?m.entries[1]:m.entries[0]:"",shipAddress:A.shippingAddress,inputRef:tt,focus:Va,addAddress:ve,countError:st,storeModalSelect:ct,setStoreModalSelect:ut,shippingAddressCountArray:mt,setCountError:rt,shipNodeObj:Xe,setShipNodeObj:qe,setErrorAddFlag:ce,addAddressHandler:Ha,errorAddFlag:re,data:m,profileData:c,callTdFetchCustomer:Ya,vleUserAddressUpdate:za,removeCartItem:el,setChangePincode:J,setisGift:S,setisContriBution:y,deviceType:a,shippingDialogsLoader:z,orderDetailsLoader:F,selectedShipAddress:A.shippingAddress,formikOrderDetails:Qa,handleOnChangeBillAddSameAsShipAdd:al,clickAddAddressSectionState:qa,addAddressSectionState:E,customerData:p,updateSelectedAdress:Za,pageButtonClick:sl,setCustomerData:g,setSelectedAddress:f,selectedAddress:A,showToastMsg:$a,isGift:b,addressloader:k,callOrderSummary:Ua,callDeliveryModeAPI:ml,omsData:$,setPostalCode:Z,loader:le,setLoader:ie,postalCode:q,setFirstLoad:oe,updateShippingOption:Wa,showNoAvailabilityText:ge,allFulfillmentData:ue,shippingErrMsg:_e,setShippingErrMsg:Be,updatedShipnode:je,removeExchangeCartItem:tl,isExchangeInValid:Ge,setIsExchangeInValid:Je,cartStoresList:he,storeSelected:ze,setStoreselected:Ke,isContriBution:N,callAddressCordApi:hl,setShowLoader:Lt}),i.a.createElement(ea,{setDisablePaymentBtn:xe,data:m,callTdFetchCustomer:Ya,vleUserAddressUpdate:za,orderDetailsLoader:F,IsValidJSONString:H.a,billingAddress:A.billingAddress,formikOrderDetails:Qa,selectedShipAddress:A.shippingAddress,addAddressSectionState:E,handleEditBillingAddress:()=>{const e=Object(o.a)({},E);e.billingAddressForm=!0,h(e),ll(A.billingAddress),Qa.setFieldValue("shipAddSameToBillAdd",!1),ia("edit billing info",null===m||void 0===m?void 0:m.entries,"body",null===b||void 0===b?void 0:b.checked)},addressloader:k,profileData:c,deliveryMode:We,handleOnChangeBillAddSameAsShipAdd:al,clickAddAddressSectionState:qa,customerData:p,updateSelectedAdress:Za,pageButtonClick:sl,setCustomerData:g,setSelectedAddress:f,selectedAddress:A,showToastMsg:$a,isGift:b,setFirstLoad:oe,setBillAddress:Se,billAddress:fe,billingErrMsg:Fe,shippingErrMsg:_e,setBillingErrMsg:we,checkBoxVal:it,setCheckBoxVal:dt,updateShippingOption:Wa,callAddressCordApi:hl})),!Ze&&!(null===E||void 0===E?void 0:E.contactProfileInfoForm)&&i.a.createElement(qt,{formikOrderDetails:Qa,addAddressSectionState:E,clickAddAddressSectionState:qa,addressloader:k,callProfileModification:El,giftCardValue:Pt,isemailVerified:St,setIsemailVerified:Nt,isdigitalAvailable:Gt}),!Ze&&(null===E||void 0===E?void 0:E.contactProfileInfoForm)&&i.a.createElement(qt,{formikOrderDetails:Qa,addAddressSectionState:E,clickAddAddressSectionState:qa,addressloader:k,callProfileModification:El,giftCardValue:Pt,isemailVerified:St,setIsemailVerified:Nt,isdigitalAvailable:Gt}),i.a.createElement(pt,{inputRef:tt,focus:Va,countError:st,setCountError:rt,shipNodeObj:Xe,storeSelected:ze,addAddress:ve,availableStoreNames:j,setAvailableStoreNames:Q,deliveringTo:W,setDeliveringTo:Y,updateShippingOption:Wa,cartWhishlist:Xa,changePincode:V,setChangePincode:J,setErrorAddFlag:ce,addAddressHandler:Ha,errorAddFlag:re,data:m,setFlag:ae,setOrderSummaryData:v,profileData:c,callTdFetchCustomer:Ya,vleUserAddressUpdate:za,removeCartItem:el,setisGift:S,setisContriBution:y,deviceType:a,shippingDialogsLoader:z,orderDetailsLoader:F,selectedShipAddress:A.shippingAddress,formikOrderDetails:Qa,handleOnChangeBillAddSameAsShipAdd:al,clickAddAddressSectionState:qa,addAddressSectionState:E,customerData:p,updateSelectedAdress:Za,pageButtonClick:sl,setCustomerData:g,setSelectedAddress:f,selectedAddress:A,showToastMsg:$a,isGift:b,addressloader:k,callOrderSummary:Ua,callDeliveryModeAPI:ml,omsData:$,setPostalCode:Z,loader:le,setLoader:ie,postalCode:q,setFirstLoad:oe,showNoAvailabilityText:ge,allFulfillmentData:ue,shippingErrMsg:_e,setShippingErrMsg:Be,updatedShipnode:je,removeExchangeCartItem:tl,isExchangeInValid:Ge,setIsExchangeInValid:Je,getServiceAppointmentPayload:(e,t)=>{let a=Object(o.a)({},at),l={entryNumber:e,primaryKey:t},i=a.entryDemoAndInstallationDetails.findIndex(e=>e.entryNumber===l.entryNumber);-1===i?a.entryDemoAndInstallationDetails.push(l):a.entryDemoAndInstallationDetails[i]=l,lt(a)},continueRegister:Ze,setShipNodeObj:qe,cartStoresList:he,setStoreselected:Ke,storeModalSelect:ct,setStoreModalSelect:ut,callAddressCordApi:hl,setDisablePaymentBtn:xe,isonlygiftCard:gt,setShowLoader:Lt,omsCall:rl,reservationData:Ve,cordinatesError:_t,selectedDeliveryOption:Xt,setSelectedDeliveryOption:Zt,setoutofStockPrdts:ca,outofStockPrdts:ra,setoutofStockPrdtsModal:pa,outofStockPrdtModal:ua,outofStockPrdtModalEach:Fa,setoutofStockPrdtsModalEach:wa,refreshDeliveryMode:zt,paymentButtonStatus:Ma}),Wt&&i.a.createElement(va,{formikOrderDetails:Qa,billingAddress:fe,showToastMsg:$a,gstPay:Ne,setGstPay:ye,setGstValue:Oe,setDtyValue:Le,addressloader:k,companyValue:ke,setCompanyValue:Re,fraudMessage:ht,setFraudMessage:At,continueRegister:Ze,setStateCode:ta,gstValidationMessage:Pa,setFormikGSTValue:Ra}),i.a.createElement(Vt,{countError:st,formikOrderDetails:Qa,inputRef:tt,focus:Va,data:m,isGift:b,isContriBution:N,orderDetailsLoader:F,exchangeAmount:ne,disablePaymentBtn:Me,callGetserviceAppointment:gl,showLoader:Dt,fraudMessage:ht,reserveSlotCall:Al,selectedShipAddress:A.shippingAddress,panCardTabvarified:ft,setPanCardTabvarified:bt,validatePancard:Sl,backFuncPanCardVarifiedBtn:bl,handlerOpenPanCardVarifiedPopup:fl,enteredPanCard:Mt,setEnteredPanCard:xt,activePanCardVarified:Ft,setActivePanCarddVarified:wt,panData:jt,setPanData:Qt,PancardError:Ht,setPancardError:Ut,paymentButtonStatus:Ma}))),i.a.createElement(Ue.a,{ref:C,varient:I,msg:D})),i.a.createElement(Ue.a,{ref:C,varient:I,msg:D}))),i.a.createElement(ha,{inputRef:tt,countError:st,focus:Va,formikOrderDetails:Qa,data:m,disablePaymentBtn:Me,totalItemsCart:ot,fraudMessage:ht,callGetserviceAppointment:gl,reserveSlotCall:Al,exchangeAmount:ne,selectedShipAddress:A.shippingAddress,panCardTabvarified:ft,setPanCardTabvarified:bt,validatePancard:Sl,backFuncPanCardVarifiedBtn:bl,handlerOpenPanCardVarifiedPopup:fl,enteredPanCard:Mt,setEnteredPanCard:xt,activePanCardVarified:Ft,setActivePanCarddVarified:wt,panData:jt,setPanData:Qt,PancardError:Ht,setPancardError:Ut,paymentButtonStatus:Ma})))},Ca=a(86),Ia=a(45),Oa=a(102),Da=a(319);const La=i.a.memo(ya),Pa=e=>{let{deviceType:t}=e;const a=Object(d.useLocation)(),o=Object(Ia.a)(),n=Object(d.useHistory)(),[s,r]=Object(l.useState)(!1);Object(l.useEffect)(()=>{const e=document.getElementsByTagName("body");e&&e.length>0&&e[0].classList.remove("dark-theme"),(()=>{if("phone"===t&&void 0!==n.location&&void 0!==n.location.state&&void 0!==n.location.state.from)document.getElementById("checkout-payment-button").scrollIntoView()})();const a=(new Date).getTime(),l={page_type:"checkout",content_type:"product",action_name:"view",event_name:"page_view",correlation_id:"sssaasss",medium:"pixel",metadata:{},source:"CROMA",user_id_type:["".concat(o.user_id_type)],user_id:["".concat(o.user_id)],mad_uuid:"".concat(o.mad_uuid),utm:{utm_source:"",utm_medium:"",utm_campaign:""},epoch:"".concat(a),pincode:"undefined"!==typeof Storage&&localStorage.getItem("3hrPincode")?JSON.parse(localStorage.getItem("3hrPincode")):""};return Object(Ca.a)(l),localStorage.getItem("access_token")||n.push("cart"),()=>{localStorage.removeItem("enteredPanCard"),e&&e.length>0&&e[0].classList.add("dark-theme");let t=Object(H.a)(localStorage.getItem("slots"),"token"),a=Object(H.a)(localStorage.getItem("sltArr"),"token");if(t&&a){let e=t.map(e=>e.external_reference_id).filter((e,t,a)=>a.indexOf(e)!==t);const o=t.filter(t=>e.includes(t.external_reference_id));console.log("dupEntryArr",o);let n=a.map(e=>e.id).filter((e,t,a)=>a.indexOf(e)!==t);const s=a.filter(e=>n.includes(e.id));for(let t=0;t<o.length;t+=1){var l,i,d;let e=Object(H.a)(localStorage.getItem("slots"),"token");if(console.log("duplicatesOrd[i]?.order_type",null===(l=o[t])||void 0===l?void 0:l.order_type),"Trade-in"!==(null===(i=o[t])||void 0===i?void 0:i.order_type)&&"Pickup"!==(null===(d=o[t])||void 0===d?void 0:d.order_type)){console.log("i",t);let a=null===e||void 0===e?void 0:e.filter(e=>{var a;return(null===e||void 0===e?void 0:e.external_reference_id)!==(null===(a=o[t])||void 0===a?void 0:a.external_reference_id)});localStorage.setItem("slots",JSON.stringify(a))}}for(let t=0;t<s.length;t+=1){let e=Object(H.a)(localStorage.getItem("sltArr"),"token"),a=null===e||void 0===e?void 0:e.filter(e=>{var a;return(null===e||void 0===e?void 0:e.id)!==(null===(a=s[t])||void 0===a?void 0:a.id)});localStorage.setItem("sltArr",JSON.stringify(a))}}}},[]),Object(l.useEffect)(()=>{Object(Da.a)()?r(!0):r(!1)},[a]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"bs-content ".concat(s?"bs-content-forTD":"")},i.a.createElement("div",{className:"cp-section first show-sec"},i.a.createElement(La,{removeFromCart:function(e,t,a){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const i=(new Date).getTime(),d={page_type:"checkout",content_type:"product",action_name:"click",event_name:"remove_from_cart",correlation_id:"sssaasss",medium:"pixel",metadata:{},source:"CROMA",user_id_type:["CROMA"],user_id:["".concat(o.user_id)],org_user_id:["".concat(o.org_user_id)],mad_uuid:"".concat(o.mad_uuid),utm:{utm_source:"",utm_medium:"",utm_campaign:""},epoch:"".concat(i),content_info:{source_id:e.toString(),quantity:"".concat(l),value:"".concat(t),catalog_value:"".concat(a)},pincode:"undefined"!==typeof Storage&&localStorage.getItem("3hrPincode")?JSON.parse(localStorage.getItem("3hrPincode")):""};Object(Ca.a)(d)},deviceType:t}))),i.a.createElement(Oa.a,null,i.a.createElement("title",null,"Croma Checkout Page"),i.a.createElement("meta",{name:"title",content:""}),i.a.createElement("meta",{name:"description",content:""}),i.a.createElement("meta",{name:"keywords",content:""}),i.a.createElement("script",{src:"https://public.releases.juspay.in/hyper-sdk-web/HyperServices.js",clientId:"croma",service:"in.juspay.hyperpay"})))},Ta=e=>({deviceType:e.headerReducer&&e.headerReducer.deviceType});t.default=Object(Gt.b)(Ta)(Pa)},916:function(e,t,a){"use strict";var l=a(0),i=a.n(l),d=a(435),o=a(437),n=a(1);t.a=e=>{let{bonusPopup:t,bonusExpMsg:a}=e;return i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{classes:{paper:!n.a.CROMA_DARK_THEME&&"dark-theme dailog"},open:t,disableBackdropClick:"true",disableEscapeKeyDown:"true"},i.a.createElement("button",{"data-testid":"closeIcon",className:"icon icon-close",type:"button",onClick:e=>{a(e)}}),i.a.createElement(o.a,null,i.a.createElement("div",{className:"modal-wrap modal-sm"},i.a.createElement("div",{className:"cp-confirmation-modal"},i.a.createElement("div",{className:"confirmation-modal-desc"},i.a.createElement("p",{style:{textAlign:"center"}},"Your limited-time exchange bonus offer has expired")),i.a.createElement("div",{className:"action-wrap"},i.a.createElement("button",{"data-testid":"proceedBtn",className:"btn btn-default",onClick:e=>{a(e)}},"ok")))))))}},917:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var l,i=a(0),d=a.n(i);const o=["svgRef","title"];function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(null,arguments)}const s=e=>{let{svgRef:t,title:a}=e,i=function(e,t){if(null==e)return{};var a,l,i=function(e,t){if(null==e)return{};var a={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(-1!==t.indexOf(l))continue;a[l]=e[l]}return a}(e,t);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(l=0;l<d.length;l++)a=d[l],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}(e,o);return d.a.createElement("svg",n({width:18,height:18,viewBox:"0 0 18 18",fill:"none",ref:t},i),a?d.a.createElement("title",null,a):null,l||(l=d.a.createElement("path",{d:"M9 0C4.032 0 0 4.032 0 9C0 13.968 4.032 18 9 18C13.968 18 18 13.968 18 9C18 4.032 13.968 0 9 0ZM13.5 9.9H9.9V13.5H8.1V9.9H4.5V8.1H8.1V4.5H9.9V8.1H13.5V9.9Z",fill:"#088466"})))},r=d.a.forwardRef((e,t)=>d.a.createElement(s,n({svgRef:t},e)));a.p},918:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var l,i=a(0),d=a.n(i);const o=["svgRef","title"];function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(null,arguments)}const s=e=>{let{svgRef:t,title:a}=e,i=function(e,t){if(null==e)return{};var a,l,i=function(e,t){if(null==e)return{};var a={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(-1!==t.indexOf(l))continue;a[l]=e[l]}return a}(e,t);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(l=0;l<d.length;l++)a=d[l],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}(e,o);return d.a.createElement("svg",n({width:18,height:18,viewBox:"0 0 18 18",fill:"none",ref:t},i),a?d.a.createElement("title",null,a):null,l||(l=d.a.createElement("path",{d:"M9 0C4.032 0 0 4.032 0 9C0 13.968 4.032 18 9 18C13.968 18 18 13.968 18 9C18 4.032 13.968 0 9 0ZM13.5 9.9H4.5V8.1H13.5V9.9Z",fill:"#088466"})))},r=d.a.forwardRef((e,t)=>d.a.createElement(s,n({svgRef:t},e)));a.p},919:function(e,t,a){"use strict";a.d(t,"b",(function(){return d}));var l=a(224),i=a.n(l);t.a=(e,t,a)=>{const l=e=>{try{return i.a.AES.decrypt(e,"wkEQ=9(@Bz7YT#3!lMx").toString(i.a.enc.Utf8)}catch(t){return""}},d="undefined"!==typeof Storage&&"true"===localStorage.getItem("isCSC"),o=localStorage.getItem("customer_hash"),n=localStorage.getItem("csc_code");let s="";s=d?n:o;let r=JSON.parse(localStorage.getItem("slots"));r.map(e=>{var t;return e.external_reference_id="".concat(e.external_reference_id).concat(null===(t=e.items[0])||void 0===t?void 0:t.sku)});let c,u,m,v,p,g=JSON.parse(localStorage.getItem("selAddr"));var E,h,A,f,b,S,N,y,C,I,O,D,L,P,T,k,R,_,B,F,w,M,x,j;a?(c=e.addresses[0].postalCode,u=e.addresses[0].latitude.toString(),m=e.addresses[0].longitude.toString(),v=e.addresses[0].city.name,p="".concat(null===e||void 0===e||null===(E=e.addresses[0])||void 0===E?void 0:E.line1,", ").concat(null===e||void 0===e||null===(h=e.addresses[0])||void 0===h?void 0:h.line2)):(c=d?null===g||void 0===g||null===(A=g.shippingAddress)||void 0===A?void 0:A.addAddressPinCode:null===g||void 0===g||null===(f=g.shippingAddress)||void 0===f?void 0:f.pinCode,u=d?(null===g||void 0===g||null===(b=g.shippingAddress)||void 0===b?void 0:b.shipLat)?null===g||void 0===g||null===(S=g.shippingAddress)||void 0===S?void 0:S.shipLat:"":(null===g||void 0===g||null===(N=g.shippingAddress)||void 0===N||null===(y=N.gpsCoordinates)||void 0===y?void 0:y.latitude)?null===g||void 0===g||null===(C=g.shippingAddress)||void 0===C||null===(I=C.gpsCoordinates)||void 0===I?void 0:I.latitude:"",m=d?(null===g||void 0===g||null===(O=g.shippingAddress)||void 0===O?void 0:O.shipLng)?null===g||void 0===g||null===(D=g.shippingAddress)||void 0===D?void 0:D.shipLng:"":(null===g||void 0===g||null===(L=g.shippingAddress)||void 0===L||null===(P=L.gpsCoordinates)||void 0===P?void 0:P.longitude)?null===g||void 0===g||null===(T=g.shippingAddress)||void 0===T||null===(k=T.gpsCoordinates)||void 0===k?void 0:k.longitude:"",v=d?null===g||void 0===g||null===(R=g.shippingAddress)||void 0===R?void 0:R.addAddressCity:null===g||void 0===g||null===(_=g.shippingAddress)||void 0===_?void 0:_.cityTown,p=d?"".concat(null===g||void 0===g||null===(B=g.shippingAddress)||void 0===B?void 0:B.addAddressLine1,", ").concat(null===g||void 0===g||null===(F=g.shippingAddress)||void 0===F?void 0:F.addAddressLine2,", ").concat(null===g||void 0===g||null===(w=g.shippingAddress)||void 0===w?void 0:w.addAddressLine3):"".concat(null===g||void 0===g||null===(M=g.shippingAddress)||void 0===M?void 0:M.house,", ").concat(null===g||void 0===g||null===(x=g.shippingAddress)||void 0===x?void 0:x.landmark,", ").concat(null===g||void 0===g||null===(j=g.shippingAddress)||void 0===j?void 0:j.addressLine));let Q,V,H,U,G;var J;a?(V=t.firstName,G=t.lastName,H=null===e||void 0===e||null===(J=e.addresses[0])||void 0===J?void 0:J.phone,U=t.emailId):localStorage.getItem("cr-cache:user-data")&&(Q=JSON.parse(localStorage.getItem("cr-cache:user-data")),V=d?Q.customerInfo.firstName:l(Q.customerInfo.firstName),G=d?Q.customerInfo.lastName:l(Q.customerInfo.lastName),H=d?Q.customerInfo.phone:l(Q.customerInfo.phone)||sessionStorage.getItem("telNumber"),U=d?Q.customerInfo.email:l(Q.customerInfo.email)||sessionStorage.getItem("eMail"));return{location:{pincode:parseInt(c),lat:u,lon:m},member:{external_member_id:s,first_name:V,last_name:G,email:U,mobile_no:H},address:{house_no:" ",apartment_name:" ",area:" ",pincode:c,lat:u,lon:m,address1:p,landmark:" ",city:v},orders:r}};const d=(e,t)=>{var a,l,d,o,n,s,r,c,u,m,v,p;const g=e=>{try{return i.a.AES.decrypt(e,"wkEQ=9(@Bz7YT#3!lMx").toString(i.a.enc.Utf8)}catch(t){return""}},E="undefined"!==typeof Storage&&"true"===localStorage.getItem("isCSC"),h=localStorage.getItem("customer_hash"),A=localStorage.getItem("csc_code");let f="";f=E?A:h;const b=null===e||void 0===e||null===(a=e.PersonInfoShipTo)||void 0===a?void 0:a.ZipCode,S=(null===e||void 0===e||null===(l=e.PersonInfoShipTo)||void 0===l?void 0:l.Latitude)&&(null===e||void 0===e||null===(d=e.PersonInfoShipTo)||void 0===d?void 0:d.Latitude)||"",N=(null===e||void 0===e||null===(o=e.PersonInfoShipTo)||void 0===o?void 0:o.Longitude)&&(null===e||void 0===e||null===(n=e.PersonInfoShipTo)||void 0===n?void 0:n.Longitude)||"";let y,C,I,O,D;localStorage.getItem("cr-cache:user-data")&&(y=JSON.parse(localStorage.getItem("cr-cache:user-data")),C=E?y.customerInfo.firstName:g(y.customerInfo.firstName),D=E?y.customerInfo.lastName:g(y.customerInfo.lastName),D=null,I=E?y.customerInfo.phone:g(y.customerInfo.phone)||sessionStorage.getItem("telNumber"),O=E?y.customerInfo.email:g(y.customerInfo.email)||sessionStorage.getItem("eMail"));return{location:{pincode:parseInt(b),lat:S,lon:N},member:{external_member_id:f,first_name:C,last_name:D,email:O,mobile_no:I},address:{house_no:" ",apartment_name:" ",area:" ",pincode:b,lat:S,lon:N,address1:"".concat(null===e||void 0===e||null===(s=e.PersonInfoShipTo)||void 0===s||null===(r=s.Extn)||void 0===r?void 0:r.IRLAddressLine1,", ").concat(null===e||void 0===e||null===(c=e.PersonInfoShipTo)||void 0===c||null===(u=c.Extn)||void 0===u?void 0:u.IRLAddressLine2,", ").concat(null===e||void 0===e||null===(m=e.PersonInfoShipTo)||void 0===m||null===(v=m.Extn)||void 0===v?void 0:v.IRLAddressLine3),landmark:" ",city:null===e||void 0===e||null===(p=e.PersonInfoShipTo)||void 0===p?void 0:p.City},orders:t}}},926:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEuSURBVHgBvVTbbcJAEFyj/IcS3EGcDtxBSohTQaADSoAKTAdABZgOoAJMBTYVmBlpLZnVPQxIjDQ63+3eeua0dyLvRNd1BVgO5iX4G9qTSLzomkOfDxSxPdyUkoH4mZQRSJCYYdyCnxyh4M8Uo+XeSWfjMZWNWSvUcj9fx87QFm3AqbyAiZkfQRZ9FLmv4AmcJw9ARXgt3/XdGFCeRCxnMr5YJkahLViDqYwHcy/egjiSFkMbanKDH7C6q2EztO++WFjioOVvCKn7hQ9HEs+Et2YlcRzVlYQK1mCOxEqegMsybwofgkrCthlbDe0SE0dipsk7KgX5g8OAXLuqmL3EAIULcKnfM9voetWm+t3YjnCdYQVukEiVfFkWjnip8dZa9qlMVWnuifOK/rtephuyaeyYJxCCJgAAAABJRU5ErkJggg=="},944:function(e,t,a){"use strict";var l=a(6),i=a(95),d=a(21),o=a(0),n=a(20),s=a(205),r=a(178),c=a(26),u=a(388),m=o.forwardRef((function(e,t){var a=e.autoFocus,c=e.checked,m=e.checkedIcon,v=e.classes,p=e.className,g=e.defaultChecked,E=e.disabled,h=e.icon,A=e.id,f=e.inputProps,b=e.inputRef,S=e.name,N=e.onBlur,y=e.onChange,C=e.onFocus,I=e.readOnly,O=e.required,D=e.tabIndex,L=e.type,P=e.value,T=Object(d.a)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),k=Object(s.a)({controlled:c,default:Boolean(g),name:"SwitchBase",state:"checked"}),R=Object(i.a)(k,2),_=R[0],B=R[1],F=Object(r.a)(),w=E;F&&"undefined"===typeof w&&(w=F.disabled);var M="checkbox"===L||"radio"===L;return o.createElement(u.a,Object(l.a)({component:"span",className:Object(n.a)(v.root,p,_&&v.checked,w&&v.disabled),disabled:w,tabIndex:null,role:void 0,onFocus:function(e){C&&C(e),F&&F.onFocus&&F.onFocus(e)},onBlur:function(e){N&&N(e),F&&F.onBlur&&F.onBlur(e)},ref:t},T),o.createElement("input",Object(l.a)({autoFocus:a,checked:c,defaultChecked:g,className:v.input,disabled:w,id:M&&A,name:S,onChange:function(e){var t=e.target.checked;B(t),y&&y(e,t)},readOnly:I,ref:b,required:O,tabIndex:D,type:L,value:P},f)),_?m:h)}));t.a=Object(c.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(m)},946:function(e,t,a){"use strict";var l=a(2),i=a(466),d=a(79);t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"addition",a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0;const s=Object(i.a)(e,t);try{d.a.addToWishList(e,t,"cdp",a,o,s).then(e=>{n(e)}).catch(e=>{n({status:"error",message:l.a.ADD_TO_WISHLIST_FAILED_MSG_TEXT})})}catch(r){n({status:"error",message:l.a.ADD_TO_WISHLIST_FAILED_MSG_TEXT})}}},947:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var l,i=a(0),d=a.n(i);const o=["svgRef","title"];function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(null,arguments)}const s=e=>{let{svgRef:t,title:a}=e,i=function(e,t){if(null==e)return{};var a,l,i=function(e,t){if(null==e)return{};var a={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(-1!==t.indexOf(l))continue;a[l]=e[l]}return a}(e,t);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(l=0;l<d.length;l++)a=d[l],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}(e,o);return d.a.createElement("svg",n({width:20,height:20,viewBox:"0 0 20 20",ref:t},i),a?d.a.createElement("title",null,a):null,l||(l=d.a.createElement("g",{fill:"none",fillRule:"evenodd"},d.a.createElement("g",{fillRule:"nonzero"},d.a.createElement("g",null,d.a.createElement("g",{transform:"translate(-144.000000, -479.000000) translate(129.000000, 464.000000) translate(15.000000, 15.000000)"},d.a.createElement("circle",{cx:9.84,cy:9.84,r:9.84,fill:"#C72D3A"}),d.a.createElement("path",{fill:"#FFF",d:"M10.096 11.528c.47 0 .736-.293.8-.88l.512-5.472c.053-.47-.037-.853-.272-1.152-.235-.299-.581-.448-1.04-.448-.47 0-.824.15-1.064.448-.24.299-.333.683-.28 1.152l.512 5.472c.053.587.33.88.832.88zm0 3.552c.427 0 .76-.128 1-.384s.36-.587.36-.992c0-.395-.12-.717-.36-.968-.24-.25-.573-.376-1-.376-.427 0-.765.125-1.016.376-.25.25-.376.573-.376.968 0 .405.125.736.376.992.25.256.59.384 1.016.384z"})))))))},r=d.a.forwardRef((e,t)=>d.a.createElement(s,n({svgRef:t},e)));a.p},962:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var l=a(22);var i=e=>{const t=Object(l.c)(),a=localStorage.getItem("login_trigger"),{pagetype:i,source_page_url:d,previous_page_url:o,customer_hash:n,platform:s}=t;(window.dataLayer||[]).push({event:"bpfntfackd",pagetype:i,source_page_url:d,previous_page_url:o,login_trigger:n?a:"N/A",login_status:!!n,user_id:n,platform:s,payload:e})},d=a(11),o=a(16);a(1);const n=e=>{document.addEventListener("CT_web_native_display",(function(t){var a;const l=null===t||void 0===t||null===(a=t.detail)||void 0===a?void 0:a.kv;"stnpsbmrdkvnaamsad"==(null===l||void 0===l?void 0:l.topic)&&async function(){const e={accessToken:"undefined"!==typeof Storage&&localStorage.getItem("access_token"),client_id:"CROMA-WEB-APP",customerHash:"undefined"!==typeof Storage&&localStorage.getItem("customer_hash"),"Content-Type":"application/json"};try{const t=await d.HttpService.post(o.cd,JSON.stringify({}),{headers:e});return t.status>=200&&t.status<300?{status:"success",data:t.data}:{status:"error",data:[]}}catch(t){return{err:t}}}().then(e=>{e.status}).catch(e=>{console.log("handler err====>",e)}),"stnpsbmrdkvnaamsad"==(null===l||void 0===l?void 0:l.topic)&&i(null===t||void 0===t?void 0:t.detail),"stnpsbmrdkvnaamsad"==(null===l||void 0===l?void 0:l.topic)?e(!0):e(!1)}))}},963:function(e,t,a){"use strict";var l,i=a(0),d=a.n(i),o=a(435),n=a(437),s=a(39),r=a(35);const c=["svgRef","title"];function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(null,arguments)}const m=e=>{let{svgRef:t,title:a}=e,i=function(e,t){if(null==e)return{};var a,l,i=function(e,t){if(null==e)return{};var a={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(-1!==t.indexOf(l))continue;a[l]=e[l]}return a}(e,t);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(l=0;l<d.length;l++)a=d[l],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}(e,c);return d.a.createElement("svg",u({width:100,height:100,x:0,y:0,viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",className:"",ref:t},i),a?d.a.createElement("title",null,a):null,l||(l=d.a.createElement("g",null,d.a.createElement("g",{xmlns:"http://www.w3.org/2000/svg"},d.a.createElement("path",{d:"m256 430.606c36.842 0 66.814-35.475 66.814-79.081s-29.972-79.08-66.814-79.08-66.815 35.476-66.815 79.081 29.973 79.08 66.815 79.08zm0-143.161c28.571 0 51.814 28.747 51.814 64.081s-23.243 64.08-51.814 64.08-51.815-28.746-51.815-64.081 23.244-64.08 51.815-64.08z",fill:"#000000","data-original":"#000000",className:""}),d.a.createElement("path",{d:"m419.612 207.512c0-35.717-29.058-64.775-64.775-64.775s-64.774 29.058-64.774 64.775 29.058 64.774 64.774 64.774 64.775-29.057 64.775-64.774zm-114.55 0c0-27.446 22.329-49.775 49.774-49.775s49.775 22.329 49.775 49.775-22.329 49.774-49.775 49.774-49.774-22.328-49.774-49.774z",fill:"#000000","data-original":"#000000",className:""}),d.a.createElement("path",{d:"m157.163 142.737c-35.717 0-64.775 29.058-64.775 64.775s29.058 64.774 64.775 64.774 64.774-29.058 64.774-64.774-29.057-64.775-64.774-64.775zm0 114.549c-27.446 0-49.775-22.329-49.775-49.774s22.329-49.775 49.775-49.775 49.774 22.329 49.774 49.775-22.328 49.774-49.774 49.774z",fill:"#000000","data-original":"#000000",className:""}),d.a.createElement("path",{d:"m512 256c0-63.767-23.588-124.863-66.419-172.035-2.785-3.067-7.528-3.296-10.594-.511-3.067 2.785-3.295 7.528-.511 10.594 40.319 44.406 62.524 101.922 62.524 161.952 0 46.965-13.179 91.61-38.29 130.419.263-2.442.692-4.866 1.33-7.242l17.556-65.343c3.204-11.926-.247-24.742-9.009-33.446-6.879-6.834-16.379-10.47-26.064-9.986-9.685.488-18.771 5.063-24.929 12.554l-12.59 15.314c-32.698 39.772-50.705 90.032-50.705 141.52v36.298c-30.976 13.863-64.024 20.912-98.299 20.912-34.269 0-67.32-7.048-98.298-20.914v-36.298c0-51.488-18.007-101.747-50.705-141.52l-12.59-15.314c-6.158-7.49-15.244-12.066-24.929-12.554-9.688-.49-19.185 3.152-26.065 9.987-8.761 8.704-12.212 21.52-9.008 33.445l17.556 65.343c.638 2.376 1.067 4.8 1.33 7.242-25.112-38.808-38.291-83.452-38.291-130.417 0-64.373 25.068-124.894 70.587-170.413s106.039-70.587 170.413-70.587c56.957 0 112.227 20.237 155.63 56.982 3.162 2.677 7.895 2.282 10.57-.878 2.676-3.162 2.283-7.894-.878-10.57-46.108-39.036-104.82-60.534-165.322-60.534-68.38 0-132.668 26.629-181.02 74.981s-74.98 112.639-74.98 181.019c0 57.399 18.529 111.54 53.587 156.73v17.952c0 4.142 3.358 7.5 7.5 7.5s7.5-3.358 7.5-7.5v-39.18c0-5.473-.72-10.929-2.14-16.216l-17.556-65.344c-1.812-6.744.14-13.99 5.094-18.912 3.948-3.921 9.177-5.931 14.739-5.647 5.557.28 10.563 2.801 14.096 7.099l12.59 15.314c30.497 37.095 47.292 83.971 47.292 131.993v53.91c0 1.379-1.122 2.5-2.5 2.5h-69.115c-1.378 0-2.5-1.121-2.5-2.5v-28.907c0-4.142-3.358-7.5-7.5-7.5s-7.5 3.358-7.5 7.5v28.907c0 9.65 7.851 17.5 17.5 17.5h69.115c9.649 0 17.5-7.85 17.5-17.5v-1.273c31.134 12.979 64.15 19.574 98.298 19.574 34.154 0 67.167-6.596 98.298-19.576v1.274c0 9.65 7.851 17.5 17.5 17.5h69.115c9.649 0 17.5-7.85 17.5-17.5v-80.968c35.058-45.19 53.587-99.331 53.587-156.73zm-68.587 237.698c0 1.379-1.122 2.5-2.5 2.5h-69.115c-1.378 0-2.5-1.121-2.5-2.5v-53.91c0-48.022 16.796-94.898 47.292-131.993l12.59-15.314c3.533-4.297 8.54-6.818 14.096-7.098.342-.018.683-.026 1.022-.026 5.174 0 10.013 1.993 13.716 5.672 4.954 4.922 6.906 12.169 5.094 18.913l-17.556 65.344c-1.42 5.287-2.14 10.743-2.14 16.216v102.196z",fill:"#000000","data-original":"#000000",className:""})))))},v=d.a.forwardRef((e,t)=>d.a.createElement(m,u({svgRef:t},e)));a.p;var p=a(1),g=a(2);t.a=e=>{let{showFraudMessage:t,setShowFraudMessage:a,onCloseFrom:l="",formikGstInfo:i}=e;const c=()=>{a(!1),"fromGST"===l&&i.resetForm()};return d.a.createElement(d.a.Fragment,null,d.a.createElement(o.a,{onClose:c,disableEscapeKeyDown:!0,disableBackdropClick:!0,classes:{paper:(p.a.CROMA_DARK_THEME,"mini-cart-dailog")},open:t},d.a.createElement(n.a,null,d.a.createElement("div",{className:"fraud-container"},d.a.createElement("div",{className:"coupon-dialog-heading"},d.a.createElement("span",{className:"coupon-cross",onClick:c},p.a.CROMA_DARK_THEME?d.a.createElement(s.a,null):d.a.createElement(r.a,null))),d.a.createElement("div",{className:"showmessage"},d.a.createElement("div",null,d.a.createElement(v,null)),d.a.createElement("div",{className:"error-cart fraud title"}," ",g.a.IS_FRAUD_TITLE),d.a.createElement("div",{className:"error-cart fraud sub"}," ",g.a.IS_FRAUD_MESSAGE),d.a.createElement("div",{className:"error-cart fraud close"},d.a.createElement("button",{type:"button",className:"btn btn-default",onClick:c},g.a.CLOSE_TEXT)))))))}},980:function(e,t,a){}}]);